(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{tnSw:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marketplace/partners/[partnerName]",function(){return n("xDQv")}])},xDQv:function(e,t,n){"use strict";n.r(t);var r=n("KQm4"),a=n("o0o1"),o=n.n(a),s=n("HaE+"),i=n("1OyB"),c=n("vuIU"),l=n("JX7q"),p=n("Ji7U"),u=n("md7G"),d=n("foSv"),m=n("rePB"),f=n("q1tI"),v=n.n(f),h=n("8Kt/"),b=n.n(h),g=n("a6RD"),y=n.n(g),w=n("PvKc"),_=n("i4Ed"),k=n("q7AE"),N=n("CqVq"),P=n("fV7l"),j=n("obyI"),O=n("oqc9"),I=v.a.createElement;function S(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var R=y()((function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"wvdG"))}),{loadableGenerated:{webpack:function(){return["wvdG"]},modules:["@/components/Marketplace/Banners/Banner"]}}),B=y()((function(){return n.e(12).then(n.bind(null,"K6GN"))}),{loadableGenerated:{webpack:function(){return["K6GN"]},modules:["@/components/Marketplace/Banners/SecondaryBanner"]}}),M=y()((function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"siIC"))}),{loadableGenerated:{webpack:function(){return["siIC"]},modules:["@/components/Marketplace/Reviews"]}}),C=y()((function(){return Promise.all([n.e(1),n.e(3)]).then(n.bind(null,"rTOM"))}),{loadableGenerated:{webpack:function(){return["rTOM"]},modules:["@/components/Marketplace/HitComponents/IconHitComponent"]}}),D=y()((function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"sUn2"))}),{loadableGenerated:{webpack:function(){return["sUn2"]},modules:["@/components/Marketplace/DetailsPanel"]}}),G=_.a.initIndex(j.ALGOLIA_APP_INDEX),q=_.a.initIndex(j.ALGOLIA_ORGANIZATION_INDEX),E=function(e){Object(p.a)(n,e);var t=A(n);function n(e){var r;return Object(i.a)(this,n),r=t.call(this,e),Object(m.a)(Object(l.a)(r),"renderPartnerBadges",(function(e){var t,n="https://d1eipm3vz40hy0.cloudfront.net/",r=[],a=S(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;switch(o){case"Master Solution Partner":r.push(I("img",{className:"partner-badge",src:"".concat(n,"images/p-apps-marketplace/partner_badges_master_solutionProvider_v2.png"),alt:"Badge: ".concat(o)}));break;case"Select Solution Partner":r.push(I("img",{className:"partner-badge",src:"".concat(n,"images/p-apps-marketplace/partner_badges_select_solutionProvider_v2.png"),alt:"Badge: ".concat(o)}));break;case"Master Implementation Partner":r.push(I("img",{className:"partner-badge",src:"".concat(n,"images/p-apps-marketplace/partner_badges_master_implementer_v2.png"),alt:"Badge: ".concat(o)}));break;case"Select Implementation Partner":r.push(I("img",{className:"partner-badge",src:"".concat(n,"images/p-apps-marketplace/partner_badges_select_implementer_v2.png"),alt:"Badge: ".concat(o)}))}}}catch(s){a.e(s)}finally{a.f()}return r})),r.setReviewCount=r.setReviewCount.bind(Object(l.a)(r)),r.state={reviewCount:null,subdomains:[]},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.default)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,n=new P.a,e.next=4,n.initializeSubdomainInfo((function(e){t.setState({subdomains:e})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setReviewCount",value:function(e){this.setState({reviewCount:e})}},{key:"getPartnerSubtitle",value:function(e){var t="";return t+=e.city,t+=e.city&&e.country?", ":" ",t+=e.country,e.projects_count&&(t+=" | ".concat(e.projects_count," ").concat(e.projects_count>1?"projects":"project")),e.certifications_count&&(t+=" | ".concat(e.certifications_count," ").concat(e.certifications_count>1?"certifications":"certification")),t}},{key:"getPartnerDetails",value:function(e){var t=[];if(e.services&&e.services.length>0){var n=e.services.map((function(e){return{type:"text",text:e}}));t.push({title:"Services offered",items:n})}if(e.regions&&e.regions.length>0){var r=e.regions.map((function(e){return{type:"text",text:e}}));t.push({title:"Regions",items:r})}if(e.partner_types&&e.partner_types.length>0){var a=e.partner_types.map((function(e){return{type:"text",text:e}}));t.push({title:"Partner type",items:a})}return t}},{key:"renderAppsByPartner",value:function(e){var t=e.filter(Boolean);return t?t.map((function(e){return I(C,{hit:e,key:e.id})})):[]}},{key:"render",value:function(){return I(w.a,null,I(b.a,null,I("title",null,Object(N.getPartnerMetaTitle)(this.props.partner)),I("meta",{name:"description",content:Object(N.getPartnerMetaDescription)(this.props.partner)})),I(R,{title:this.props.partner.name,subtitle:this.getPartnerSubtitle(this.props.partner),lightMode:!0,partner:this.props.partner}),I("section",{className:"mt-36"},I("div",{className:"grid padded container"},I("div",{className:"row"},I("div",{className:"col col-small-8"},I("h5",{dangerouslySetInnerHTML:{__html:this.props.partner.short_description}}),I("div",{className:"product-description",dangerouslySetInnerHTML:{__html:this.props.partner.long_description}}),this.props.partner.partner_levels&&this.props.partner.partner_levels.length>0&&I("div",{className:"row"},I("div",{className:"col col-xsmall-12 mt-40"},I("h4",null,"Accreditations"),I("div",{className:"partner-badge-container"},this.renderPartnerBadges(this.props.partner.partner_levels))))),I("div",{className:"col col-small-4"},I(D,{logo:this.props.partner.logo_url,details:this.getPartnerDetails(this.props.partner)}))))),this.props.apps&&this.props.apps.length>0&&I("section",null,I("div",{className:"grid padded container"},I("div",{className:"row"},I("div",{className:"col col-xsmall-12"},I("h4",null,"Apps we've built"))),I("div",{className:"row"},this.renderAppsByPartner(this.props.apps)))),I("section",{className:"reviews-section-wrapper mt-36",name:"reviews-section"},I("div",{className:"grid padded container"},I("div",{className:"row"},I("div",{className:"col col-12"},I(O.Element,{name:"scroll-to-reviews"},I(M,{reviewsUrl:this.props.reviewsUrl,setReviewCount:this.setReviewCount,subdomains:this.state.subdomains,objectID:this.props.partner.id,objectType:"organization",selectedSubdomain:this.props.subdomainForReviews})))))),I("section",null,I(B,{subtitle:"If you like what you see, talk to ".concat(this.props.partner.name," about your project."),ctaLink:"".concat(this.props.partner.email)})))}}]),n}(v.a.Component);E.getInitialProps=function(){var e=Object(s.default)(o.a.mark((function e(t){var n,a,s,i,c,l,p,u,d,m,f,v,h,b,g,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.query,a=n.partnerName,s=n.subdomain,e.next=4,q.search({query:a});case 4:if(0!==(i=e.sent).hits.length){e.next=11;break}if(!(c=t.res)){e.next=11;break}return c.writeHead(301,{Location:"/marketplace/partners"}),c.end(),e.abrupt("return");case 11:if(l=i.hits[0]){e.next=20;break}if(p=t.res,console.log("No partner found with requested partnerName: ",a),console.log("Redirecting to directory page..."),!p){e.next=20;break}return p.writeHead(301,{Location:"/marketplace/partners"}),p.end(),e.abrupt("return");case 20:return u=l.app_ids,d=u.map((function(e){return"sell-".concat(e)})),m=u.map((function(e){return"chat-".concat(e)})),f=u.map((function(e){return"support-".concat(e)})),v=[].concat(Object(r.a)(d),Object(r.a)(m),Object(r.a)(f)),e.next=27,G.getObjects(v);case 27:return(h=e.sent).results&&(h=h.results.filter(Boolean)),b=Object(k.isProduction)()?"zendesk":"zendesk-staging",g="https://support.".concat(b,".com/api/v2/apps/organizations/").concat(l.id,"/reviews"),e.abrupt("return",{partner:l,apps:h,reviewsUrl:g,subdomainForReviews:s});case 34:e.prev=34,e.t0=e.catch(0),y=t.query.partnerName,console.log("Requested partnerName: ",y),console.log("err: ",e.t0),console.log(e.t0.debugData),console.log("****************************");case 41:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}(),t.default=E}},[["tnSw",4,2,5,0,6,8,9,7]]]);