$(document).ready(function(){function a(){window.webutils&&geoUtils.getGeoData().then(function(a){if("Mexico"===a.country)c="latin-america-2";else{var c;switch(a.continent){case"Europe":c="europe-3";break;case"Asia":case"Oceania":c="asia-pacific-3";break;case"South America":c="latin-america-2";break;default:c="us-and-canada-2"}}b(c)}).catch(function(a){b("us-and-canada-2")})}function b(a){var b;b=window.innerWidth>l?$(".js-events-list .js-event-card").not(".events__list-item--repeated, .events__list-item--other"):$(".js-events-list .js-event-card");$(".filters");b.each(function(){var b=$(this),c=!b.hasClass(a);c?b.removeClass("active").addClass("hidden"):b.removeClass("hidden").addClass("active")});var c,d=$(".js-location-filter");switch(a){case"europe-3":c="Europe";break;case"asia-pacific-3":c="Asia Pacific";break;case"latin-america-2":c="Latin America";break;default:c="US and Canada"}d.find(".js-filter-name").text(": "+c),$(".js-location-filter .js-filter-list .js-filter-item").removeClass("checked"),$(".js-location-filter .js-filter-list #"+a).addClass("checked");var e=$(".js-upcoming-events").find(b.not(".hidden")).length,f=$(".js-on-demand-events").find(b.not(".hidden")).length;0===e&&$(".js-zero-state-upcoming").addClass("active"),0===f&&$(".js-zero-state-on-demand").addClass("active")}function c(){var a;a=window.innerWidth>l?$(".js-events-list .js-event-card").not(".events__list-item--repeated, .events__list-item--other"):$(".js-events-list .js-event-card");$(".filters");a.each(function(){var a=$(this);a.removeClass("hidden").addClass("active")});var b=$(".js-location-filter"),c="europe-3",d="Europe";b.find(".js-filter-name").text(": "+d),$(".js-location-filter .js-filter-list .js-filter-item").removeClass("checked"),$(".js-location-filter .js-filter-list #"+c).addClass("checked");var e=$(".js-upcoming-events").find(a.not(".hidden")).length,f=$(".js-on-demand-events").find(a.not(".hidden")).length;0===e&&$(".js-zero-state-upcoming").addClass("active"),0===f&&$(".js-zero-state-on-demand").addClass("active")}function d(){function a(a,b){$("#"+a+" .js-filter-item").removeClass("checked"),$("#"+a+" #"+b).addClass("checked")}var b,c=$(".js-zendesk-events"),d=$(".js-filter-button"),e=$(".js-filter-options-box"),f=$(".js-filter-arrow"),g=$(".js-filter-item"),h="";b=window.innerWidth>l?$(".js-events-list .js-event-card").not(".events__list-item--repeated, .events__list-item--other"):$(".js-events-list .js-event-card");var i=function(a){a.preventDefault();var b=$(this);$(".js-location-filter, .js-type-filter").toggleClass("active"),b.find(".js-filter-arrow").toggleClass("active")},j=function(a){a.preventDefault();var b=$(this);b.parent().hasClass("js-location-filter")?($(".js-type-filter .js-filter-options-box").removeClass("active"),$(".js-type-filter").find(".js-filter-arrow").removeClass("active")):($(".js-location-filter .js-filter-options-box").removeClass("active"),$(".js-location-filter").find(".js-filter-arrow").removeClass("active")),b.next(".js-filter-options-box").toggleClass("active"),b.find(".js-filter-arrow").toggleClass("active")},k=function(c){c.preventDefault();var d=$(this),g=[],i=d.closest(".js-filter-list").attr("id"),j=d.attr("id"),k=d.text();"all"!==j&&("js-event-type"===i?g.push("events__list-item--"+j):g.push(j)),a(i,j);var k=d.text(),n=d.parents(".js-filter-box").find(".js-filter-title");n.find(".js-filter-name").remove(),n.append('<span class="filter__title--name js-filter-name">: '+k+"</span>"),h="js-event-location"===i?"js-event-type":"js-event-location";var o=$("#"+h).find(".js-filter-item.checked").attr("id");if("all"!==o&&("js-event-type"===h?g.push("events__list-item--"+o):g.push(o)),e.removeClass("active"),f.removeClass("active"),b.removeClass("active").addClass("hidden"),0!==g.length)b.each(function(){var a=!1,b=$(this);window.innerWidth>l&&(b.hasClass("events__list-item--repeated")||b.hasClass("events__list-item--other"))?a=!0:g[1]?a=!(b.hasClass(g[0])&&b.hasClass(g[1])):g[0]&&(a=!b.hasClass(g[0])),a===!0?b.removeClass("active").addClass("hidden"):b.removeClass("hidden").addClass("active")}),$.inArray("events__list-item--user-group",g)?$(".js-user-groups-cta").removeClass("active"):$(".js-user-groups-cta").addClass("active");else if(0===g.length){b.each(function(){var a=$(this);a.removeClass("hidden"),a.addClass("active")})}0===$(".js-upcoming-events").find(b.filter(":visible")).length?$(".js-zero-state-upcoming").addClass("active"):$(".js-zero-state-upcoming").removeClass("active"),0===$(".js-on-demand-events").find(b.filter(":visible")).length?$(".js-zero-state-on-demand").addClass("active"):$(".js-zero-state-on-demand").removeClass("active"),"all"===o&&"all"===j?b.length>m&&$(".js-view-more-events").addClass("active"):($(".js-view-more-events").removeClass("active"),$(".js-view-less-events").removeClass("active"))};c.on("click",i),d.on("click",j),g.on("click",k)}function e(){var a,b=$(".filters"),c=$(".js-view-more-events"),d=$(".js-view-less-events"),e=$(".js-events-list");a=window.innerWidth>l?$(".js-events-list .js-event-card").not(".events__list-item--repeated, .events__list-item--other"):$(".js-events-list .js-event-card"),c.each(function(){$thisMoreButton=$(this),$thisMoreButton.on("click",function(b){b.preventDefault(),h(a,m,c,d)})}),d.each(function(){$thisLessButton=$(this),$thisLessButton.on("click",function(e){e.preventDefault(),i(a,b,m,c,d)})}),e.each(function(){var b=$(this);b.find(a.filter("visible")).length>m&&b.find(c).addClass("active")})}function f(){var a=$(".connect"),b=$(".js-connect-list-item"),c=$(".js-view-more-connect"),d=$(".js-view-less-connect"),e=b.length;c.on("click",function(a){a.preventDefault(),h(b,e,c,d)}),d.on("click",function(f){f.preventDefault(),i(b,a,e,c,d)}),g(b,e,c)}function g(a,b,c){for(var d=0;d<b;d++)a.filter(":eq("+d+")").addClass("active");a.length>b&&c.addClass("active")}function h(a,b,c,d){for(var e=a.filter(":visible").length,f=a.length,g=e;g<e+b;g++)a.hasClass("hidden")||a.filter(":eq("+g+")").addClass("active");e+=b,e>=f&&j(c,d)}function i(a,b,c,d,e){a.removeClass("active"),$("html, body").animate({scrollTop:b.offset().top},500),h(a,c,d,e),j(d,e)}function j(a,b){a.toggleClass("active"),b.toggleClass("active")}var k=window.location.hostname;webutils.lockTopNavigation(),k.indexOf(".de")==-1&&k.indexOf("de.")==-1&&k.indexOf("fr")==-1&&k.indexOf("uk")==-1?(a(),d()):c(),e(),f();var l=700,m=9});