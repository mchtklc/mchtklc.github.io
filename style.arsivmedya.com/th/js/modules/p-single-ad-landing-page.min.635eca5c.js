$(function(){function a(){return $(".js-step:visible")}function b(b,c){webutils.isMobile()&&$(window).scrollTop(0),c||webutils.pushStateFragment("Zendesk Demo",b.attr("data-step")),a().removeClass("anim anim-in").addClass("anim anim-out"),b.removeClass("anim anim-out").removeClass("hidden").addClass("anim anim-in"),"3"==b.attr("data-step")&&($(window).scrollTop(0),$headerNav=$(".global-header .primary-nav .nav-items, .global-header .secondary-nav"),0==$headerNav.css("opacity")&&$headerNav.addClass("active-last-step"))}function c(){b(n.step_2),webutils.setParameterByName("demoStep","company"),n.step_2.find(".js-field").first().focus(),u.processing=!1}function d(){var a=window.location.pathname.match(/\/[^\/]+/);a&&a.length&&($.cookie("lead-generated",null,{path:a.pop()}),$.cookie("lead-generated",null,{path:a.pop()+"/"}))}function e(){var a=$(".cta-popup");if(a.length>0){var b=$(".hero"),c=b.offset().top+b.outerHeight();$(window).on("scroll",webutils.throttle(function(){$(window).scrollTop()>=c?a.addClass("active"):a.removeClass("active")},300))}}function f(b){b||q.container.hasClass("active")||"2"==a().attr("data-step")?h():"demo"===t&&n.step_1.length?(c(),u.processing=!1):(q.container.addClass("active"),q.container.find(".js-field").first().focus(),u.processing=!1)}function g(a){a.preventDefault();var b=o.email.val();!u.processing&&formUtils.preflightValidate(l)&&(u.processing=!0,formUtils.preflightEnrich(b).then(f))}function h(){var a="",c=t;"demo"===t?(a="demo_submit",c="DemoRequest"):"content"===t?a="resources_form_submit":"contact_us"===t?(a="contact_us",c="LPContact"):"webinar"===t?(a="webinar_signup",c="Webinar"):"NonCoreLead"===t&&(c="NonCoreLead");var d={enrich:!0,form:l,trackingParams:{trackingSiteCategory:"RegisterLead",trackingEventName:c,dataLayerEventName:a,trackingValueDataKey:"campaign",trackingValueDataValue:s},successRedirect:adSetup&&adSetup.successRedirect?adSetup.successRedirect:""};"startupsConversion"===t&&(d.trackingParams={trackingSiteCategory:"Startup",trackingEventName:"Applied"}),n.step_3.length&&b(n.step_3),formUtils.createLeadAndHandleDisplay(d)}function i(){var a=[];$("article section").each(function(b){$(this).hasClass("alternating-background")&&a.push([$(this).data("order"),b+1])}),a.sort(j),$.each(a,function(a,b){a%2&&$("section:nth-of-type("+b[1]+")").addClass("grey")})}function j(a,b){return a[0]===b[0]?0:a[0]<b[0]?-1:1}function k(){d(),e(),i(),formUtils.registerGateHandler(l),formUtils.defaultInlineValidation(l,q),m.hasClass("autofocus")&&formUtils.autofocusFirstField(l),formUtils.prepopulateCountryField(o.country),formUtils.regionalFieldDisplay(l,p),formUtils.populateHiddenFields(o),formUtils.registerFieldHandlersToSaveInput(),webutils.paramsForEloqua(),r.on("click",g),$(".page-content").addClass("active")}var l=$(".js-ad-lead-form"),m=$(".hero-form-positioning"),n={step_1:l.find('[data-step="1"]'),step_2:l.find('[data-step="2"]'),step_3:l.find('[data-step="3"]')},o={company:l.find('input[name="account[name]"]'),country:l.find('select[name="MailingCountry"]'),department:l.find('select[name="department"]'),email:l.find('input[name="owner[email]"]'),firstName:l.find('input[name="FirstName"]'),hiddenFullName:l.find('input[name="owner[name]"]'),industry:l.find('select[name="industry"]'),jobTitle:l.find('input[name="job"]'),lastName:l.find('input[name="LastName"]'),optIn:l.find('input[name="optinToMarketing"]'),phone:l.find('input[name="address[phone]"]'),size:l.find('select[name="account[help_desk_size]"]'),partnerAccount:l.find('input[name="partner_account"]'),partnerContact:l.find('input[name="partner_contact"]')},p={firstName:o.firstName.parents(".js-field-wrap"),lastName:o.lastName.parents(".js-field-wrap"),jobTitle:o.jobTitle.parents(".js-field-wrap"),department:o.department.parents(".js-field-wrap")},q={container:l.find(".js-extended-fields"),fields:{company:o.company,size:o.size,industry:o.industry}},r=l.find(".js-ad-lead-submit-btn");if(window.adSetup){var s=adSetup.campaignName?adSetup.campaignName:"Customer Landing",t=adSetup.type?adSetup.type:"Lead";adSetup.elqFormName&&$("#elqFormName").val(adSetup.elqFormName),adSetup.ctaName&&$(".js-btn-content-cta").html(adSetup.ctaName)}var u={};u.processing=!1,k()});