$(function(){var a=$(".js-localized-image, .js-localized-video");if(0!==a.length){var b={isOfflinedJapanPage:function(){return"ja-jp"===b.getCurrentLanguage()&&$("body").attr("class").indexOf("smartling")===-1},localizePath:function(a,c){var d=new RegExp("(.+)(\\..+?)$| ","gm"),e="$1"+c+"$2";if(a.indexOf(",")===-1)return b.isOfflinedJapanPage()?b.getJapanPath(a):a.replace(d,e);for(var f=a.split(","),g=0;g<f.length;g++){var h=f[g].trim();b.isOfflinedJapanPage()?f[g]=b.getJapanPath(h):f[g]=h.replace(d,e)}return f.join(", ")},force1x:function(a){var b=/^.*? 2x, /;"undefined"!=typeof a.attr("data-srcset")&&a.attr("data-srcset",a.attr("data-srcset").replace(b,"")),"undefined"!=typeof a.attr("srcset")&&a.attr("srcset",a.attr("srcset").replace(b,""))},getJapanPath:function(a){var b="https://d26a57ydsghvgx.cloudfront.net/jp/localized/images/"+a.substr(a.lastIndexOf("/")+1);return b},getCurrentLanguage:function(){return webutils.getParameterByName("locale")!==-1?webutils.getParameterByName("locale"):$("html").attr("lang").toLowerCase()},updateSource:function(a){var c=a,d="-"+b.getCurrentLanguage(),e=["src","srcset","data-src","data-srcset"],f=c.attr(e[0]);"none"!==c.css("background-image")?(f=c.css("background-image").replace(/url\(['"](.+?)['"]\)/g,"$1"),c.css("background-image",'url("'+b.localizePath(f,d)+'")')):e.forEach(function(a){"undefined"!=typeof c.attr(a)&&(f=c.attr(a),c.attr(a,b.localizePath(f,d)))})},localizedVideo:function(){var a=$("video.js-localized-video");a.find("source").each(function(){b.updateSource($(this)),$(this).parent()[0].load()})},localizedImages:function(){var a=$(".js-localized-image");a.each(function(){var a=$(this);"1"===a.attr("data-force-1x")&&b.force1x(a),a.hasClass("lazyload")||b.updateSource(a)}),$(document).on("lazybeforeunveil",function(a){var c=$(a.target);c.hasClass("js-localized-image")&&b.updateSource(c)})},init:function(){webutils.getParameterByName("locale")===-1&&$("body").attr("class").indexOf("smartling")===-1&&/en(-us)?$/.test(b.getCurrentLanguage())||(this.localizedVideo(),this.localizedImages())}};b.init()}});