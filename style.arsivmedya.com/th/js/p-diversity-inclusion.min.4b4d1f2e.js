$(function(){function a(){var a={playVideosOnScroll:{testForVideo:function(){$("video.js-video-onscroll").each(function(){var a=$(this),b=a.offset().top,c=b+a.outerHeight(),d=$(window).scrollTop(),e=d+window.innerHeight;c<d||b>e?a.removeClass("js-played"):a.hasClass("js-played")||(a[0].currentTime=0,a[0].play(),a.addClass("js-played"),a.removeClass("js-video-onscroll"))})},init:function(){var a=this;$(window).on("scroll resize",webutils.debounce(a.testForVideo,100))}}};a.playVideosOnScroll.init();var b={init:function(){var a=$(".js-staff-toggle-trigger"),b=$(".js-staff-toggle-trigger .inner");b.css("display","flex").hide(),a.click(this.toggleStaff),this.multicolorText.wrapColoredText()},multicolorText:{wrapColoredText:function(){var a=this,b=$(".js-multicolor-featured"),c=$(".js-multicolor-all"),d=$(".js-multicolor-text");b.each(function(){var b=$(this).html().trim(),c=$(this).data("multicolor-featured"),d=new RegExp(c,"i"),e=b.match(d);null===e?(b=a.getWrappedLetters(b),b=b.replace("ก</span><span>่","ก่")):b=b.replace(e[0],a.getWrappedLetters(e[0])),$(this).html(b)}),d.each(function(){var b=$(this).html().trim();b.search(/\s/)===-1?$(this).html(a.getWrappedLetters(b)):$(this).html(a.getWrappedWords(b))}),c.each(function(){for(var b=$(this).html().trim().split(" "),c=0;c<b.length;c++)b[c]=a.getWrappedLetters(b[c]);$(this).html(b.join(" "))})},getWrappedLetters:function(a){for(var b="",c=["่","ั","้","ู","ี","ุ","ำ"[0]],d=0;d<a.length;d++)" "===a[d]?b+=a[d]:c.indexOf(a[d])!==-1?b=b.replace(/<\/span>$/,a[d]+"</span>"):b+="<span>"+a[d]+"</span>";return b},getWrappedWords:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)b[c]="<span>"+b[c]+"</span>";var d=b[b.length-1];return"."===d[d.length-8]&&(b[b.length-1]=d.replace(/\.<\/span>/,"</span><span>.</span>")),b.join(" ")}},toggleStaff:function(a){$clickedStaff=$(a.currentTarget),$openStaff=$(".bio-open"),$clickedStaff.hasClass("bio-open")?$clickedStaff.removeClass("bio-open").children(".inner").fadeOut("slow").queue(function(){$(this).hide().dequeue()}):($openStaff.removeClass("bio-open").children(".inner").fadeOut("slow").queue(function(){$(this).hide().dequeue()}),$clickedStaff.addClass("bio-open").children(".inner").fadeIn("slow"))}};b.init()}a()});