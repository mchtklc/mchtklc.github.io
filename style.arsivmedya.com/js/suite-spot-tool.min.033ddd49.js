!function(){function a(){var a=C.find(".js-suite-spot-submit");formUtils.defaultInlineValidation(C),formUtils.regionalFieldDisplay(C,E),formUtils.populateHiddenFields(D),formUtils.setMAVs(!1),webutils.paramsForEloqua();var b=function(a){a.preventDefault();var b=formUtils.preflightValidate(C);b&&(C.find("#account\\[help_desk_size\\]").val(v),c())},c=function(){var a={enrich:!1,form:C,trackingParams:{trackingSiteCategory:"RegisterLead",trackingEventName:"Whitepaper",dataLayerEventName:"whitepaper_download"}};formUtils.setFullNameField(C),C.find(".js-loading").addClass("active"),formUtils.createLeadAndHandleDisplay(a)};a.on("click",b)}function b(a){m=a,o=!0,c()}function c(){if($(".disclaimer-global-avg").removeClass("is-visible"),$(".performance-calc__data-label .astrik").removeClass("is-visible"),0==k&&1==l&&(l=!1,$("#resolutionTime").find(".number").text(0),$("#serviceViews").find(".number").text(0),$("#handleTime").find(".number").text(0),$("#timeSaved").find(".number").text(0),$("#ROI").text("0%"),""!==$("#teamSize").val()&&($("#supportRequests").attr("placeholder",""),$("#businessType").val(""),s=null,u=null),""!==$("#supportRequests").val()&&($("#teamSize").attr("placeholder",""),$("#businessType").val(""),q=null,u=null),""==$("#supportRequests").val()&&""==$("#teamSize").val()&&($("#teamSize").attr("placeholder",""),$("#supportRequests").attr("placeholder",""),s=null,q=null)),1!=o||null===s||null===q||0===s||0===q||null===u)return $(".disclaimer-nontraditional").removeClass("is-visible"),$("#resolutionTime").find(".number").text(0),$("#serviceViews").find(".number").text(0),$("#handleTime").find(".number").text(0),$("#timeSaved").find(".number").text(0),void $("#ROI").text("0%");for(var a=0;a<m.length;a++)if(q===m[a].agent_band&&s===m[a].ticket_band&&u===m[a].target_audience)return n=m[a],z=h(n.median_first_resolution_time_mins,"resolutionTime"),$("#resolutionTime").find(".number").text(z),y=h(n.sum_self_service_views),$("#serviceViews").find(".number").text(y),A=h(n.avg_handle_time_mins,"handleTime"),$("#handleTime").find(".number").text(A),d(),e(),void(B="false");for(var a=0;a<m.length;a++)if(null===m[a].agent_band&&""===m[a].ticket_band&&u===m[a].target_audience)return n=m[a],z=h(n.median_first_resolution_time_mins,"resolutionTime"),$("#resolutionTime").find(".number").text(z),y=h(n.sum_self_service_views),$("#serviceViews").find(".number").text(y),A=h(n.avg_handle_time_mins,"handleTime"),$("#handleTime").find(".number").text(A),d(),e(),$(".disclaimer-global-avg").addClass("is-visible"),$(".performance-calc__data-label .astrik").addClass("is-visible"),void(B="true")}function d(){$(".disclaimer-nontraditional").removeClass("is-visible");var a=15.7,b=p[u],c=45;w=i(b/60*t*a*100/(c*r),1),w>=1e3?($(".disclaimer-nontraditional").addClass("is-visible"),w="> 1K",$("#ROI").text("> 1K%")):$("#ROI").text(h(w)+"%")}function e(){var a=p[u];x=Math.round(a/60*t),x>=2e3?(x="> 2k",$("#timeSaved").find(".number").text("> 2K")):$("#timeSaved").find(".number").text(h(i(x,1)))}function f(a){q=a>=1&&a<=5?"1-5":a>=6&&a<=10?"5-10":a>=11&&a<=20?"11-20":a>=21&&a<=50?"21-50":a>50?"over 50":null,v=a>=1&&a<10?"1-9":a>=10&&a<50?"10-49":a>=50&&a<100?"50-99":a>=100&&a<250?"100-249":a>=250&&a<500?"250-499":a>=500&&a<1e3?"500-999":a>=1e3&&a<5e3?"1000-4999":a>=5e3?"5000+":null}function g(a){s=a>=1&&a<=9?"1-9":a>=10&&a<=99?"10-99":a>=100&&a<=299?"100-299":a>=300&&a<=999?"300-999":a>=1e3&&a<1e4?"1000-9999":a>=1e4?"10000+":null}function h(a,b){if(null!=a){if(a<1&&"resolutionTime"==b)return"< 1";if(a<5&&"handleTime"==b)return"< 5";var c=geoUtils.getLocale(),d=["ja-jp","zh-tw"];if(d.indexOf(c)===-1){if(a>=1e6)return"> 1M";if(a>=1e3)return(Math.abs(Number(a))/1e3).toFixed(1)+"K"}return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}function i(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c}function j(){var a=window.location.hostname?window.location.hostname:"www.zendesk.com",b="",c="https://wuczij9jgi.execute-api.us-east-1.amazonaws.com/prod",d="?url=https://"+a+"/suite-spot-tool-pdf-template/?",e="";e+="ticketVal="+t,e+="&teamSize="+r,e+="&businessType="+u,e+="&resolutionTime="+z,e+="&helpCenterViews="+y,e+="&handleTime="+A,e+="&timeSaved="+x,e+="&ROI="+w,e+="&globalAvg="+B,b=c+d+encodeURIComponent(e),window.open(b)}var k=!0,l=!0,m={},n={},o=!1,p={B2C:3,B2B:9.16,Internal:2.16},q=null,r=null,s=null,t=null,u=null,v=null,w=0,x=0,y=0,z=0,A=0,B="false";r=$("#teamSize").attr("placeholder"),f(r),t=$("#supportRequests").attr("placeholder"),g(t),u=$("#businessType").val();var C=$(".js-suite-spot-form"),D={company:C.find('input[name="account[name]"]'),country:C.find('select[name="country"]'),department:C.find('select[name="department"]'),email:C.find('input[name="owner[email]"]'),firstName:C.find('input[name="FirstName"]'),hiddenCountry:C.find('input[name="MailingCountry"]'),hiddenFullName:C.find('input[name="owner[name]"]'),industry:C.find('input[name="industry"]'),lastName:C.find('input[name="LastName"]'),optIn:C.find('input[name="optinToMarketing"]'),size:C.find('select[name="account[help_desk_size]"]'),partnerAccount:C.find('input[name="partner_account"]'),partnerContact:C.find('input[name="partner_contact"]')},E={firstName:D.firstName.parents(".js-field-wrap"),lastName:D.lastName.parents(".js-field-wrap")};a(),$.ajax({url:"/public/assets/json/suite-spot-tool-data.json",datatype:"json",success:b,error:function(a,b,c){console.log("Error! "+a),console.log("Status: "+b),console.log("Error: "+c)}}),$("#teamSize").on("keyup",function(){k=!1,r=Math.abs(Math.round($("#teamSize").val())),f(r),c(),formUtils.isFieldValid($("#teamSize"))&&0!=$("#teamSize").val()&&formUtils.isFieldValid($("#supportRequests"))&&0!=$("#supportRequests").val()&&formUtils.isFieldValid($("#businessType"))?$("#getReport").prop("disabled",!1):$("#getReport").prop("disabled",!0)}),$("#teamSize").on("blur",function(){$("#teamSize").val(r),formUtils.isFieldValid($("#teamSize"))&&0!=$("#teamSize").val()&&formUtils.isFieldValid($("#supportRequests"))&&0!=$("#supportRequests").val()&&formUtils.isFieldValid($("#businessType"))?$("#getReport").prop("disabled",!1):$("#getReport").prop("disabled",!0)}),$("#supportRequests").on("keyup",function(){k=!1,t=Math.abs(Math.round($("#supportRequests").val())),g(t),c(),formUtils.isFieldValid($("#teamSize"))&&0!=$("#teamSize").val()&&formUtils.isFieldValid($("#supportRequests"))&&0!=$("#supportRequests").val()&&formUtils.isFieldValid($("#businessType"))?$("#getReport").prop("disabled",!1):$("#getReport").prop("disabled",!0)}),$("#supportRequests").on("blur",function(){$("#supportRequests").val(t),formUtils.isFieldValid($("#teamSize"))&&0!=$("#teamSize").val()&&formUtils.isFieldValid($("#supportRequests"))&&0!=$("#supportRequests").val()&&formUtils.isFieldValid($("#businessType"))?$("#getReport").prop("disabled",!1):$("#getReport").prop("disabled",!0)}),$("#businessType").on("change",function(){u=$(this).find(":selected").val(),c(),formUtils.isFieldValid($("#teamSize"))&&0!=$("#teamSize").val()&&formUtils.isFieldValid($("#supportRequests"))&&0!=$("#supportRequests").val()&&formUtils.isFieldValid($("#businessType"))?$("#getReport").prop("disabled",!1):$("#getReport").prop("disabled",!0)}),$("#getReport").on("click",function(){$(".suite-form__form").addClass("is-visible"),$(".suite-form__get-report").removeClass("is-visible")}),$("#downloadReport").on("click",function(){j(),$("#downloadReport").prop("disabled",!0),setTimeout(function(){$("#downloadReport").prop("disabled",!1)},1e3)})}();