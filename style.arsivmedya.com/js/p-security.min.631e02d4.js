$(function(){function a(a){o.partnership.val(o.industry.val())}function b(){var a=$('input[name="nda-resources-checkbox"]:checked');resources=[],a.each(function(){if($(this).closest("label").length){var a=$(this).closest("label").text().replace(/^\s+|\s+$/,"");resources.push("- "+a)}}),o.message.val(o.message.val().replace("[RESOURCES REQUESTED]",resources.join("\n")))}function c(a){a.preventDefault();var b=(o.email.val(),formUtils.preflightValidate(j));b&&d()}function d(){l.addClass("active");var a={fieldContainer:k,loadingMessage:l,resultMessage:n,hideCustomElements:$(".js-hide-after-process",j)};b(),formUtils.setFullNameField(j),formUtils.submitContactTicket(j).then(function(b){"success"===b&&(a.resultMessage=m)}).catch(function(a){console.error(a)}).then(function(){formUtils.handleSubmissionResult(a)})}function e(){formUtils.regionalFieldDisplay(j,p),formUtils.populateHiddenFields(o),q.on("click",c),o.industry.on("change",a)}var f=$(".js-sticky-nav"),g=f.outerHeight()+15,h=f.find("a"),i=h.map(function(){var a=$($(this).attr("href"));if(a.length)return a});$(window).scroll(function(){var a=$(this).scrollTop()+g,b=i.map(function(){if($(this).offset().top<a)return this});b=b[b.length-1];var c=b&&b.length?b[0].id:"";h.removeClass("active"),h.parent().end().filter("[href='#"+c+"']").addClass("active")}),$(".p-security a[href*='#']").not("[href='#']").not("[href='#0']").click(function(a){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=$(this.hash);b=b.length?b:$("[name="+this.hash.slice(1)+"]"),b.length&&(a.preventDefault(),$("html, body").animate({scrollTop:b.offset().top},1e3,function(){location.hash=b.selector}))}});var j=$(".js-security-contact-form"),k=j.find(".js-field-container"),l=j.find(".js-loading"),m=j.find(".js-success-message"),n=j.find(".js-error-message"),o={company:j.find('input[name="account[name]"]'),department:j.find('select[name="department"]'),email:j.find('input[name="owner[email]"]'),firstName:j.find('input[name="FirstName"]'),hiddenFullName:j.find('input[name="owner[name]"]'),industry:j.find('select[name="industry"]'),lastName:j.find('input[name="LastName"]'),message:j.find('input[name="question"]'),pageUrl:j.find('input[name="current_page_url"]'),partnership:j.find('input[name="partnership"]'),subject:j.find('input[name="subject"]'),partnerAccount:j.find('input[name="partner_account"]'),partnerContact:j.find('input[name="partner_contact"]')},p={firstName:o.firstName.parents(".js-field-wrap"),lastName:o.lastName.parents(".js-field-wrap")},q=j.find(".js-security-contact-submit-btn");e()});