!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.bodymovin=b()}(window,function(){function ProjectInterface(){return{}}function roundValues(a){bm_rnd=a?Math.round:function(a){return a}}function roundTo2Decimals(a){return Math.round(1e4*a)/1e4}function roundTo3Decimals(a){return Math.round(100*a)/100}function styleDiv(a){a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.display="block",a.style.transformOrigin=a.style.webkitTransformOrigin="0 0",a.style.backfaceVisibility=a.style.webkitBackfaceVisibility="visible",a.style.transformStyle=a.style.webkitTransformStyle=a.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(a){a.style.userSelect="none",a.style.MozUserSelect="none",a.style.webkitUserSelect="none",a.style.oUserSelect="none"}function BMEnterFrameEvent(a,b,c,d){this.type=a,this.currentTime=b,this.totalTime=c,this.direction=0>d?-1:1}function BMCompleteEvent(a,b){this.type=a,this.direction=0>b?-1:1}function BMCompleteLoopEvent(a,b,c,d){this.type=a,this.currentLoop=b,this.totalLoops=c,this.direction=0>d?-1:1}function BMSegmentStartEvent(a,b,c){this.type=a,this.firstFrame=b,this.totalFrames=c}function BMDestroyEvent(a,b){this.type=a,this.target=b}function _addEventListener(a,b){this._cbs[a]||(this._cbs[a]=[]),this._cbs[a].push(b)}function _removeEventListener(a,b){if(b){if(this._cbs[a]){for(var c=0,d=this._cbs[a].length;d>c;)this._cbs[a][c]===b&&(this._cbs[a].splice(c,1),c-=1,d-=1),c+=1;this._cbs[a].length||(this._cbs[a]=null)}}else this._cbs[a]=null}function _triggerEvent(a,b){if(this._cbs[a])for(var c=this._cbs[a].length,d=0;c>d;d++)this._cbs[a][d](b)}function randomString(a,b){void 0===b&&(b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var c,d="";for(c=a;c>0;--c)d+=b[Math.round(Math.random()*(b.length-1))];return d}function HSVtoRGB(a,b,c){var d,e,f,g,h,i,j,k;switch(1===arguments.length&&(b=a.s,c=a.v,a=a.h),g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b),g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return[d,e,f]}function RGBtoHSV(a,b,c){1===arguments.length&&(b=a.g,c=a.b,a=a.r);var d,e=Math.max(a,b,c),f=Math.min(a,b,c),g=e-f,h=0===e?0:g/e,i=e/255;switch(e){case f:d=0;break;case a:d=b-c+g*(c>b?6:0),d/=6*g;break;case b:d=c-a+2*g,d/=6*g;break;case c:d=a-b+4*g,d/=6*g}return[d,h,i]}function addSaturationToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[1]+=b,c[1]>1?c[1]=1:c[1]<=0&&(c[1]=0),HSVtoRGB(c[0],c[1],c[2])}function addBrightnessToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[2]+=b,c[2]>1?c[2]=1:c[2]<0&&(c[2]=0),HSVtoRGB(c[0],c[1],c[2])}function addHueToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[0]+=b/360,c[0]>1?c[0]-=1:c[0]<0&&(c[0]+=1),HSVtoRGB(c[0],c[1],c[2])}function componentToHex(a){var b=a.toString(16);return 1==b.length?"0"+b:b}function fillToRgba(a,b){if(!cachedColors[a]){var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);cachedColors[a]=parseInt(c[1],16)+","+parseInt(c[2],16)+","+parseInt(c[3],16)}return"rgba("+cachedColors[a]+","+b+")"}function RenderedFrame(a,b){this.tr=a,this.o=b}function LetterProps(a,b,c,d,e,f){this.o=a,this.sw=b,this.sc=c,this.fc=d,this.m=e,this.props=f}function iterateDynamicProperties(a){var b,c=this.dynamicProperties;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a)}function reversePath(a,b){var c,d,e=[],f=[],g=[],h={},i=0;b&&(e[0]=a.o[0],f[0]=a.i[0],g[0]=a.v[0],i=1),d=a.i.length;var j=d-1;for(c=i;d>c;c+=1)e.push(a.o[j]),f.push(a.i[j]),g.push(a.v[j]),j-=1;return h.i=e,h.o=f,h.v=g,h}function Matrix(){}function matrixManagerFunction(){var a=new Matrix,b=function(b,c,d,e,f){return a.reset().translate(e,f).rotate(b).scale(c,d).toCSS()},c=function(a){return b(a.tr.r[2],a.tr.s[0],a.tr.s[1],a.tr.p[0],a.tr.p[1])};return{getMatrix:c}}function createElement(a,b,c){if(!b){var d=Object.create(a.prototype,c),e={};return d&&"[object Function]"===e.toString.call(d.init)&&d.init(),d}b.prototype=Object.create(a.prototype),b.prototype.constructor=b,b.prototype._parent=a.prototype}function extendPrototype(a,b){for(var c in a.prototype)a.prototype.hasOwnProperty(c)&&(b.prototype[c]=a.prototype[c])}function bezFunction(){function a(a,b,c,d,e,f){var g=a*d+b*e+c*f-e*d-f*a-c*b;return g>-1e-4&&1e-4>g}function b(b,c,d,e,f,g,h,i,j){return a(b,c,e,f,h,i)&&a(b,d,e,g,h,j)}function c(a){this.segmentLength=0,this.points=new Array(a)}function d(a,b){this.partialLength=a,this.point=b}function e(a,b){var c=b.segments,d=c.length,e=bm_floor((d-1)*a),f=a*b.addedLength,g=0;if(f==c[e].l)return c[e].p;for(var h=c[e].l>f?-1:1,i=!0;i;)c[e].l<=f&&c[e+1].l>f?(g=(f-c[e].l)/(c[e+1].l-c[e].l),i=!1):e+=h,(0>e||e>=d-1)&&(i=!1);return c[e].p+(c[e+1].p-c[e].p)*g}function f(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}function g(a,b,c,d,g,h,i){var j=new f;g=0>g?0:g>1?1:g;var k=e(g,i);h=h>1?1:h;var l,m=e(h,i),n=a.length,o=1-k,p=1-m;for(l=0;n>l;l+=1)j.pt1[l]=Math.round(1e3*(o*o*o*a[l]+(k*o*o+o*k*o+o*o*k)*c[l]+(k*k*o+o*k*k+k*o*k)*d[l]+k*k*k*b[l]))/1e3,j.pt3[l]=Math.round(1e3*(o*o*p*a[l]+(k*o*p+o*k*p+o*o*m)*c[l]+(k*k*p+o*k*m+k*o*m)*d[l]+k*k*m*b[l]))/1e3,j.pt4[l]=Math.round(1e3*(o*p*p*a[l]+(k*p*p+o*m*p+o*p*m)*c[l]+(k*m*p+o*m*m+k*p*m)*d[l]+k*m*m*b[l]))/1e3,j.pt2[l]=Math.round(1e3*(p*p*p*a[l]+(m*p*p+p*m*p+p*p*m)*c[l]+(m*m*p+p*m*m+m*p*m)*d[l]+m*m*m*b[l]))/1e3;return j}var h=(Math,function(){function a(a,b){this.l=a,this.p=b}return function(b,c,d,e){var f,g,h,i,j,k,l=defaultCurveSegments,m=0,n=[],o=[],p={addedLength:0,segments:[]};for(h=d.length,f=0;l>f;f+=1){for(j=f/(l-1),k=0,g=0;h>g;g+=1)i=bm_pow(1-j,3)*b[g]+3*bm_pow(1-j,2)*j*d[g]+3*(1-j)*bm_pow(j,2)*e[g]+bm_pow(j,3)*c[g],n[g]=i,null!==o[g]&&(k+=bm_pow(n[g]-o[g],2)),o[g]=n[g];k&&(k=bm_sqrt(k),m+=k),p.segments.push(new a(m,j))}return p.addedLength=m,p}}()),i=function(){var b={};return function(e){var f=e.s,g=e.e,h=e.to,i=e.ti,j=(f.join("_")+"_"+g.join("_")+"_"+h.join("_")+"_"+i.join("_")).replace(/\./g,"p");if(b[j])return void(e.bezierData=b[j]);var k,l,m,n,o,p,q,r=defaultCurveSegments,s=0,t=null;2===f.length&&(f[0]!=g[0]||f[1]!=g[1])&&a(f[0],f[1],g[0],g[1],f[0]+h[0],f[1]+h[1])&&a(f[0],f[1],g[0],g[1],g[0]+i[0],g[1]+i[1])&&(r=2);var u=new c(r);for(m=h.length,k=0;r>k;k+=1){for(q=new Array(m),o=k/(r-1),p=0,l=0;m>l;l+=1)n=bm_pow(1-o,3)*f[l]+3*bm_pow(1-o,2)*o*(f[l]+h[l])+3*(1-o)*bm_pow(o,2)*(g[l]+i[l])+bm_pow(o,3)*g[l],q[l]=n,null!==t&&(p+=bm_pow(q[l]-t[l],2));p=bm_sqrt(p),s+=p,u.points[k]=new d(p,q),t=q}u.segmentLength=s,e.bezierData=u,b[j]=u}}();return{getBezierLength:h,getNewSegment:g,buildBezierData:i,pointOnLine2D:a,pointOnLine3D:b}}function dataFunctionManager(){function a(e,f,h){var i,j,k,l,m,n,o,p,q=e.length;for(l=0;q>l;l+=1)if(i=e[l],"ks"in i&&!i.completed){if(i.completed=!0,i.tt&&(e[l-1].td=i.tt),j=[],k=-1,i.hasMask){var r=i.masksProperties;for(n=r.length,m=0;n>m;m+=1)if(r[m].pt.k.i)d(r[m].pt.k);else for(p=r[m].pt.k.length,o=0;p>o;o+=1)r[m].pt.k[o].s&&d(r[m].pt.k[o].s[0]),r[m].pt.k[o].e&&d(r[m].pt.k[o].e[0])}0===i.ty?(i.layers=b(i.refId,f),a(i.layers,f,h)):4===i.ty?c(i.shapes):5==i.ty&&g(i,h)}}function b(a,b){for(var c=0,d=b.length;d>c;){if(b[c].id===a)return b[c].layers;c+=1}}function c(a){var b,e,f,g=a.length,h=!1;for(b=g-1;b>=0;b-=1)if("sh"==a[b].ty){if(a[b].ks.k.i)d(a[b].ks.k);else for(f=a[b].ks.k.length,e=0;f>e;e+=1)a[b].ks.k[e].s&&d(a[b].ks.k[e].s[0]),a[b].ks.k[e].e&&d(a[b].ks.k[e].e[0]);h=!0}else"gr"==a[b].ty&&c(a[b].it)}function d(a){var b,c=a.i.length;for(b=0;c>b;b+=1)a.i[b][0]+=a.v[b][0],a.i[b][1]+=a.v[b][1],a.o[b][0]+=a.v[b][0],a.o[b][1]+=a.v[b][1]}function e(a,b){var c=b?b.split("."):[100,100,100];return a[0]>c[0]||!(c[0]>a[0])&&(a[1]>c[1]||!(c[1]>a[1])&&(a[2]>c[2]||!(c[2]>a[2])&&void 0))}function f(b,c){b.__complete||(i(b),h(b),j(b),a(b.layers,b.assets,c),b.__complete=!0)}function g(a,b){var c,d,e=a.t.d.k,f=e.length;for(d=0;f>d;d+=1){var g=a.t.d.k[d].s;c=[];var h,i,j,k,l,m,n,o=0,p=a.t.m.g,q=0,r=0,s=0,t=[],u=0,v=0,w=b.getFontByName(g.f),x=0,y=w.fStyle.split(" "),z="normal",A="normal";for(i=y.length,h=0;i>h;h+=1)"italic"===y[h].toLowerCase()?A="italic":"bold"===y[h].toLowerCase()?z="700":"black"===y[h].toLowerCase()?z="900":"medium"===y[h].toLowerCase()?z="500":"regular"===y[h].toLowerCase()||"normal"===y[h].toLowerCase()?z="400":("light"===y[h].toLowerCase()||"thin"===y[h].toLowerCase())&&(z="200");if(g.fWeight=z,g.fStyle=A,i=g.t.length,g.sz){var B=g.sz[0],C=-1;for(h=0;i>h;h+=1)j=!1," "===g.t.charAt(h)?C=h:13===g.t.charCodeAt(h)&&(u=0,j=!0),b.chars?(n=b.getCharData(g.t.charAt(h),w.fStyle,w.fFamily),x=j?0:n.w*g.s/100):x=b.measureText(g.t.charAt(h),g.f,g.s),u+x>B?(-1===C?(g.t=g.t.substr(0,h)+"\r"+g.t.substr(h),i+=1):(h=C,g.t=g.t.substr(0,h)+"\r"+g.t.substr(h+1)),C=-1,u=0):u+=x;i=g.t.length}for(u=0,x=0,h=0;i>h;h+=1)if(j=!1," "===g.t.charAt(h)?k=" ":13===g.t.charCodeAt(h)?(t.push(u),v=u>v?u:v,u=0,k="",j=!0,s+=1):k=g.t.charAt(h),b.chars?(n=b.getCharData(g.t.charAt(h),w.fStyle,b.getFontByName(g.f).fFamily),x=j?0:n.w*g.s/100):x=b.measureText(k,g.f,g.s),u+=x,c.push({l:x,an:x,add:q,n:j,anIndexes:[],val:k,line:s}),2==p){if(q+=x,""==k||" "==k||h==i-1){for((""==k||" "==k)&&(q-=x);h>=r;)c[r].an=q,c[r].ind=o,c[r].extra=x,r+=1;o+=1,q=0}}else if(3==p){if(q+=x,""==k||h==i-1){for(""==k&&(q-=x);h>=r;)c[r].an=q,c[r].ind=o,c[r].extra=x,r+=1;q=0,o+=1}}else c[o].ind=o,c[o].extra=0,o+=1;if(g.l=c,v=u>v?u:v,t.push(u),g.sz)g.boxWidth=g.sz[0],g.justifyOffset=0;else switch(g.boxWidth=v,g.j){case 1:g.justifyOffset=-g.boxWidth;break;case 2:g.justifyOffset=-g.boxWidth/2;break;default:g.justifyOffset=0}g.lineWidths=t;var D=a.t.a;m=D.length;var E,F,G=[];for(l=0;m>l;l+=1){for(D[l].a.sc&&(g.strokeColorAnim=!0),D[l].a.sw&&(g.strokeWidthAnim=!0),(D[l].a.fc||D[l].a.fh||D[l].a.fs||D[l].a.fb)&&(g.fillColorAnim=!0),F=0,E=D[l].s.b,h=0;i>h;h+=1)c[h].anIndexes[l]=F,(1==E&&""!=c[h].val||2==E&&""!=c[h].val&&" "!=c[h].val||3==E&&(c[h].n||" "==c[h].val||h==i-1)||4==E&&(c[h].n||h==i-1))&&(1===D[l].s.rn&&G.push(F),F+=1);a.t.a[l].s.totalChars=F;var H,I=-1;if(1===D[l].s.rn)for(h=0;i>h;h+=1)I!=c[h].anIndexes[l]&&(I=c[h].anIndexes[l],H=G.splice(Math.floor(Math.random()*G.length),1)[0]),c[h].anIndexes[l]=H}0!==m||"m"in a.t.p||(a.singleShape=!0),g.yOffset=g.lh||1.2*g.s,g.ascent=w.ascent*g.s/100}}var h=function(){function a(a){var b=a.t.d;a.t.d={k:[{s:b,t:0}]}}function b(b){var c,d=b.length;for(c=0;d>c;c+=1)5===b[c].ty&&a(b[c])}var c=[4,4,14];return function(a){if(e(c,a.v)&&(b(a.layers),a.assets)){var d,f=a.assets.length;for(d=0;f>d;d+=1)a.assets[d].layers&&b(a.assets[d].layers)}}}(),i=function(){function a(b){var c,d,e,f=b.length;for(c=0;f>c;c+=1)if("gr"===b[c].ty)a(b[c].it);else if("fl"===b[c].ty||"st"===b[c].ty)if(b[c].c.k&&b[c].c.k[0].i)for(e=b[c].c.k.length,d=0;e>d;d+=1)b[c].c.k[d].s&&(b[c].c.k[d].s[0]/=255,b[c].c.k[d].s[1]/=255,b[c].c.k[d].s[2]/=255,b[c].c.k[d].s[3]/=255),b[c].c.k[d].e&&(b[c].c.k[d].e[0]/=255,b[c].c.k[d].e[1]/=255,b[c].c.k[d].e[2]/=255,b[c].c.k[d].e[3]/=255);else b[c].c.k[0]/=255,b[c].c.k[1]/=255,b[c].c.k[2]/=255,b[c].c.k[3]/=255}function b(b){var c,d=b.length;for(c=0;d>c;c+=1)4===b[c].ty&&a(b[c].shapes)}var c=[4,1,9];return function(a){if(e(c,a.v)&&(b(a.layers),a.assets)){var d,f=a.assets.length;for(d=0;f>d;d+=1)a.assets[d].layers&&b(a.assets[d].layers)}}}(),j=function(){function a(b){var c,d,e,f=b.length,g=!1;for(c=f-1;c>=0;c-=1)if("sh"==b[c].ty){if(b[c].ks.k.i)b[c].ks.k.c=b[c].closed;else for(e=b[c].ks.k.length,d=0;e>d;d+=1)b[c].ks.k[d].s&&(b[c].ks.k[d].s[0].c=b[c].closed),b[c].ks.k[d].e&&(b[c].ks.k[d].e[0].c=b[c].closed);g=!0}else"gr"==b[c].ty&&a(b[c].it)}function b(b){var c,d,e,f,g,h,i=b.length;for(d=0;i>d;d+=1){if(c=b[d],c.hasMask){var j=c.masksProperties;for(f=j.length,e=0;f>e;e+=1)if(j[e].pt.k.i)j[e].pt.k.c=j[e].cl;else for(h=j[e].pt.k.length,g=0;h>g;g+=1)j[e].pt.k[g].s&&(j[e].pt.k[g].s[0].c=j[e].cl),j[e].pt.k[g].e&&(j[e].pt.k[g].e[0].c=j[e].cl)}4===c.ty&&a(c.shapes)}}var c=[4,4,18];return function(a){if(e(c,a.v)&&(b(a.layers),a.assets)){var d,f=a.assets.length;for(d=0;f>d;d+=1)a.assets[d].layers&&b(a.assets[d].layers)}}}(),k={};return k.completeData=f,k}function ShapeModifier(){}function TrimModifier(){}function MouseModifier(){}function RoundCornersModifier(){}function BaseRenderer(){}function SVGRenderer(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",progressiveLoad:b&&b.progressiveLoad||!1},this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(a,b,c){this.dynamicProperties=[],this.data=a,this.element=b,this.globalData=c,this.paths=[],this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length),this.maskElement=null,this.firstFrame=!0;var d,e,f,g,h,i,j,k,l=this.globalData.defs,m=this.masksProperties.length,n=this.masksProperties,o=0,p=[],q=randomString(10),r="clipPath",s="clip-path";for(d=0;m>d;d++)if(("a"!==n[d].mode&&"n"!==n[d].mode||n[d].inv)&&(r="mask",s="mask"),"s"!=n[d].mode&&"i"!=n[d].mode||0!=o?h=null:(h=document.createElementNS(svgNS,"rect"),h.setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data?this.element.comp.data.w:this.element.globalData.compSize.w),h.setAttribute("height",this.element.comp.data?this.element.comp.data.h:this.element.globalData.compSize.h),p.push(h)),e=document.createElementNS(svgNS,"path"),"n"!=n[d].mode){if(o+=1,"s"==n[d].mode?e.setAttribute("fill","#000000"):e.setAttribute("fill","#ffffff"),e.setAttribute("clip-rule","nonzero"),0!==n[d].x.k){r="mask",s="mask",k=PropertyFactory.getProp(this.element,n[d].x,0,null,this.dynamicProperties);var t="fi_"+randomString(10);i=document.createElementNS(svgNS,"filter"),i.setAttribute("id",t),j=document.createElementNS(svgNS,"feMorphology"),j.setAttribute("operator","dilate"),j.setAttribute("in","SourceGraphic"),j.setAttribute("radius","0"),i.appendChild(j),l.appendChild(i),"s"==n[d].mode?e.setAttribute("stroke","#000000"):e.setAttribute("stroke","#ffffff")}else j=null,k=null;if(this.storedData[d]={elem:e,x:k,expan:j,lastPath:"",lastOperator:"",filterId:t,lastRadius:0},"i"==n[d].mode){g=p.length;var u=document.createElementNS(svgNS,"g");for(f=0;g>f;f+=1)u.appendChild(p[f]);var v=document.createElementNS(svgNS,"mask");v.setAttribute("mask-type","alpha"),v.setAttribute("id",q+"_"+o),v.appendChild(e),l.appendChild(v),u.setAttribute("mask","url(#"+q+"_"+o+")"),p.length=0,p.push(u)}else p.push(e);n[d].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[d]={elem:e,lastPath:"",prop:ShapePropertyFactory.getShapeProp(this.element,n[d],3,this.dynamicProperties,null)},h&&(this.viewData[d].invRect=h),this.viewData[d].prop.k||this.drawPath(n[d],this.viewData[d].prop.v,this.viewData[d])}else this.viewData[d]={prop:ShapePropertyFactory.getShapeProp(this.element,n[d],3,this.dynamicProperties,null),elem:e},l.appendChild(e);for(this.maskElement=document.createElementNS(svgNS,r),m=p.length,d=0;m>d;d+=1)this.maskElement.appendChild(p[d]);this.maskElement.setAttribute("id",q),o>0&&this.element.maskedElement.setAttribute(s,"url(#"+q+")"),l.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(a,b,c,d,e){this.globalData=c,this.comp=d,this.data=a,this.matteElement=null,this.parentContainer=b,this.layerId=e?e.layerId:"ly_"+randomString(10),this.placeholder=e,this.init()}function ITextElement(a,b,c,d){}function SVGTextElement(a,b,c,d,e){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,a,b,c,d,e)}function SVGEffects(a){var b,c=a.data.ef.length,d=document.createElementNS(svgNS,"filter"),e=0;this.filters=[];var f;for(b=0;c>b;b+=1)20===a.data.ef[b].ty?(e+=1,f=new SVGTintFilter(d,a.effects.effectElements[b]),this.filters.push(f)):21===a.data.ef[b].ty?(e+=1,f=new SVGFillFilter(d,a.effects.effectElements[b]),this.filters.push(f)):22===a.data.ef[b].ty&&(f=new SVGStrokeEffect(a,a.effects.effectElements[b]),this.filters.push(f));if(e){var g=randomString(10);d.setAttribute("id",g),d.setAttribute("filterUnits","objectBoundingBox"),d.setAttribute("x","0%"),d.setAttribute("y","0%"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),a.globalData.defs.appendChild(d),a.layerElement.setAttribute("filter","url(#"+g+")")}}function SVGTintFilter(a,b){this.filterManager=b;var c=document.createElementNS(svgNS,"feColorMatrix");if(c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.setAttribute("result","f1"),a.appendChild(c),c=document.createElementNS(svgNS,"feColorMatrix"),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),c.setAttribute("result","f2"),a.appendChild(c),this.matrixFilter=c,100!==b.effectElements[2].p.v||b.effectElements[2].p.k){var d=document.createElementNS(svgNS,"feMerge");a.appendChild(d);var e;e=document.createElementNS(svgNS,"feMergeNode"),e.setAttribute("in","SourceGraphic"),d.appendChild(e),e=document.createElementNS(svgNS,"feMergeNode"),e.setAttribute("in","f2"),d.appendChild(e)}}function SVGFillFilter(a,b){this.filterManager=b;var c=document.createElementNS(svgNS,"feColorMatrix");c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.appendChild(c),this.matrixFilter=c}function SVGStrokeEffect(a,b){this.initialized=!1,this.filterManager=b,this.elem=a}function ICompElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e),this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,c.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):c.progressiveLoad||this.buildAllItems()}function IImageElement(a,b,c,d,e){this.assetData=c.getAssetData(a.refId),this._parent.constructor.call(this,a,b,c,d,e)}function IShapeElement(a,b,c,d,e){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.viewData=[],this.shapeModifiers=[],this._parent.constructor.call(this,a,b,c,d,e)}function ISolidElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e)}function CanvasRenderer(a,b){this.animationItem=a,this.renderConfig={clearCanvas:!b||void 0===b.clearCanvas||b.clearCanvas,context:b&&b.context||null,progressiveLoad:b&&b.progressiveLoad||!1,preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet"},this.renderConfig.dpr=b&&b.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=b&&b.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var c,d=15;for(c=0;d>c;c+=1)this.contextData.saved[c]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(a){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(a,b,c){this.globalData=c,this.data=a,this.comp=b,this.canvasContext=c.canvasContext,this.init()}function CVCompElement(a,b,c){this._parent.constructor.call(this,a,b,c);var d={};for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);d.renderer=this,d.compHeight=this.data.h,d.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var f,g=15;for(f=0;g>f;f+=1)this.contextData.saved[f]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var h=document.createElement("canvas");d.canvasContext=h.getContext("2d"),this.canvasContext=d.canvasContext,h.width=this.data.w,h.height=this.data.h,this.canvas=h,this.globalData=d,this.layers=a.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,c.frameRate,this.dynamicProperties)),(this.data.xt||!c.progressiveLoad)&&this.buildAllItems()}function CVImageElement(a,b,c){this.assetData=c.getAssetData(a.refId),this._parent.constructor.call(this,a,b,c),this.globalData.addPendingElement()}function CVMaskElement(a,b){this.data=a,this.element=b,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length);var c,d=this.masksProperties.length;for(c=0;d>c;c++)this.viewData[c]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[c],3,this.dynamicProperties,null)}function CVShapeElement(a,b,c){this.shapes=[],this.stylesList=[],this.viewData=[],this.shapeModifiers=[],this.shapesData=a.shapes,this.firstFrame=!0,this._parent.constructor.call(this,a,b,c)}function CVSolidElement(a,b,c){this._parent.constructor.call(this,a,b,c)}function CVTextElement(a,b,c){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,a,b,c)}function HBaseElement(a,b,c,d,e){this.globalData=c,this.comp=d,this.data=a,this.matteElement=null,this.parentContainer=b,this.layerId=e?e.layerId:"ly_"+randomString(10),this.placeholder=e,this.init()}function HSolidElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e)}function HCompElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e),this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,c.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(a,b,c,d,e){this.shapes=[],this.shapeModifiers=[],this.shapesData=a.shapes,this.stylesList=[],this.viewData=[],this._parent.constructor.call(this,a,b,c,d,e),this.addedTransforms={mdf:!1,mats:[this.finalTransform.mat]},this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(a,b,c,d,e){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,a,b,c,d,e)}function HImageElement(a,b,c,d,e){this.assetData=c.getAssetData(a.refId),this._parent.constructor.call(this,a,b,c,d,e)}function HCameraElement(a,b,c,d,e){if(this._parent.constructor.call(this,a,b,c,d,e),this.pe=PropertyFactory.getProp(this,a.pe,0,0,this.dynamicProperties),a.ks.p.s?(this.px=PropertyFactory.getProp(this,a.ks.p.x,1,0,this.dynamicProperties),this.py=PropertyFactory.getProp(this,a.ks.p.y,1,0,this.dynamicProperties),this.pz=PropertyFactory.getProp(this,a.ks.p.z,1,0,this.dynamicProperties)):this.p=PropertyFactory.getProp(this,a.ks.p,1,0,this.dynamicProperties),a.ks.a&&(this.a=PropertyFactory.getProp(this,a.ks.a,1,0,this.dynamicProperties)),a.ks.or.k.length){var f,g=a.ks.or.k.length;for(f=0;g>f;f+=1)a.ks.or.k[f].to=null,a.ks.or.k[f].ti=null}this.or=PropertyFactory.getProp(this,a.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=PropertyFactory.getProp(this,a.ks.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(this,a.ks.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(this,a.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function AngleEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function ColorEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function PointEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function CheckboxEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function NoValueEffect(){this.p={}}function EffectsManager(a,b,c){var d=a.ef;this.effectElements=[];var e,f,g=d.length;for(e=0;g>e;e++)f=new GroupEffect(d[e],b,c),this.effectElements.push(f)}function GroupEffect(a,b,c){this.dynamicProperties=[],this.init(a,b,this.dynamicProperties),this.dynamicProperties.length&&c.push(this)}function play(a){animationManager.play(a)}function pause(a){animationManager.pause(a)}function togglePause(a){animationManager.togglePause(a)}function setSpeed(a,b){animationManager.setSpeed(a,b)}function setDirection(a,b){animationManager.setDirection(a,b)}function stop(a){animationManager.stop(a)}function moveFrame(a){animationManager.moveFrame(a)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(a){return animationManager.registerAnimation(a)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(a,b,c){animationManager.goToAndStop(a,b,c)}function setSubframeRendering(a){subframeEnabled=a}function loadAnimation(a){return standalone===!0&&(a.animationData=JSON.parse(animationData)),animationManager.loadAnimation(a)}function destroy(a){return animationManager.destroy(a)}function setQuality(a){if("string"==typeof a)switch(a){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(a)&&a>1&&(defaultCurveSegments=a);roundValues(!(defaultCurveSegments>=50))}function installPlugin(a,b){"expressions"===a&&(expressionsPlugin=b)}function getFactory(a){switch(a){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(a){for(var b=queryString.split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(decodeURIComponent(d[0])==a)return decodeURIComponent(d[1])}}var svgNS="http://www.w3.org/2000/svg",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var a,b=Object.getOwnPropertyNames(Math),c=b.length;for(a=0;c>a;a+=1)BMMath[b[a]]=Math[b[a]]}(),BMMath.random=Math.random,BMMath.abs=function(a){var b=typeof a;if("object"===b&&a.length){var c,d=Array.apply(null,{length:a.length}),e=a.length;for(c=0;e>c;c+=1)d[c]=Math.abs(a[c]);return d}return a};var defaultCurveSegments=75,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var a,b,c=[];for(a=0;256>a;a+=1)b=a.toString(16),c[a]=1==b.length?"0"+b:b;return function(a,b,d){return 0>a&&(a=0),0>b&&(b=0),0>d&&(d=0),"#"+c[a]+c[b]+c[d]}}(),fillColorToString=function(){var a=[];return function(b,c){return void 0!==c&&(b[3]=c),a[b[0]]||(a[b[0]]={}),a[b[0]][b[1]]||(a[b[0]][b[1]]={}),a[b[0]][b[1]][b[2]]||(a[b[0]][b[1]][b[2]]={}),a[b[0]][b[1]][b[2]][b[3]]||(a[b[0]][b[1]][b[2]][b[3]]="rgba("+b.join(",")+")"),a[b[0]][b[1]][b[2]][b[3]]}}(),Matrix=function(){function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function b(a){if(0===a)return this;var b=Math.cos(a),c=Math.sin(a);return this._t(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1)}function c(a){if(0===a)return this;var b=Math.cos(a),c=Math.sin(a);return this._t(1,0,0,0,0,b,-c,0,0,c,b,0,0,0,0,1)}function d(a){if(0===a)return this;var b=Math.cos(a),c=Math.sin(a);return this._t(b,0,c,0,0,1,0,0,-c,0,b,0,0,0,0,1)}function e(a){if(0===a)return this;var b=Math.cos(a),c=Math.sin(a);return this._t(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1)}function f(a,b){return this._t(1,b,a,1,0,0)}function g(a,b){return this.shear(Math.tan(a),Math.tan(b))}function h(a,b){var c=Math.cos(b),d=Math.sin(b);return this._t(c,d,0,0,-d,c,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1)._t(c,-d,0,0,d,c,0,0,0,0,1,0,0,0,0,1)}function i(a,b,c){return c=isNaN(c)?1:c,1==a&&1==b&&1==c?this:this._t(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1)}function j(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return this.props[0]=a,this.props[1]=b,this.props[2]=c,this.props[3]=d,this.props[4]=e,this.props[5]=f,this.props[6]=g,this.props[7]=h,this.props[8]=i,this.props[9]=j,this.props[10]=k,this.props[11]=l,this.props[12]=m,this.props[13]=n,this.props[14]=o,this.props[15]=p,this}function k(a,b,c){return c=c||0,0!==a||0!==b||0!==c?this._t(1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1):this}function l(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(1===a&&0===b&&0===c&&0===d&&0===e&&1===f&&0===g&&0===h&&0===i&&0===j&&1===k&&0===l)return(0!==m||0!==n||0!==o)&&(this.props[12]=this.props[12]*a+this.props[13]*e+this.props[14]*i+this.props[15]*m,this.props[13]=this.props[12]*b+this.props[13]*f+this.props[14]*j+this.props[15]*n,this.props[14]=this.props[12]*c+this.props[13]*g+this.props[14]*k+this.props[15]*o,this.props[15]=this.props[12]*d+this.props[13]*h+this.props[14]*l+this.props[15]*p),this;var q=this.props[0],r=this.props[1],s=this.props[2],t=this.props[3],u=this.props[4],v=this.props[5],w=this.props[6],x=this.props[7],y=this.props[8],z=this.props[9],A=this.props[10],B=this.props[11],C=this.props[12],D=this.props[13],E=this.props[14],F=this.props[15];return this.props[0]=q*a+r*e+s*i+t*m,this.props[1]=q*b+r*f+s*j+t*n,this.props[2]=q*c+r*g+s*k+t*o,this.props[3]=q*d+r*h+s*l+t*p,this.props[4]=u*a+v*e+w*i+x*m,this.props[5]=u*b+v*f+w*j+x*n,this.props[6]=u*c+v*g+w*k+x*o,this.props[7]=u*d+v*h+w*l+x*p,this.props[8]=y*a+z*e+A*i+B*m,this.props[9]=y*b+z*f+A*j+B*n,this.props[10]=y*c+z*g+A*k+B*o,this.props[11]=y*d+z*h+A*l+B*p,this.props[12]=C*a+D*e+E*i+F*m,this.props[13]=C*b+D*f+E*j+F*n,this.props[14]=C*c+D*g+E*k+F*o,this.props[15]=C*d+D*h+E*l+F*p,this}function m(a){var b;for(b=0;16>b;b+=1)a.props[b]=this.props[b]}function n(a){var b;for(b=0;16>b;b+=1)this.props[b]=a[b]}function o(a,b,c){return{x:a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],y:a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],z:a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}}function p(a,b,c){return a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12]}function q(a,b,c){return a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13]}function r(a,b,c){return a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}function s(a){var b,c=this.props[0]*this.props[5]-this.props[1]*this.props[4],d=this.props[5]/c,e=-this.props[1]/c,f=-this.props[4]/c,g=this.props[0]/c,h=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/c,i=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/c,j=a.length,k=[];for(b=0;j>b;b+=1)k[b]=[a[b][0]*d+a[b][1]*f+h,a[b][0]*e+a[b][1]*g+i,0];return k}function t(a,b,c){return[a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]]}function u(a,b){return bm_rnd(a*this.props[0]+b*this.props[4]+this.props[12])+","+bm_rnd(a*this.props[1]+b*this.props[5]+this.props[13])}function v(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]];
}function w(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function x(){return"matrix("+this.props[0]+","+this.props[1]+","+this.props[4]+","+this.props[5]+","+this.props[12]+","+this.props[13]+")"}function y(){return""+this.toArray()}return function(){this.reset=a,this.rotate=b,this.rotateX=c,this.rotateY=d,this.rotateZ=e,this.skew=g,this.skewFromAxis=h,this.shear=f,this.scale=i,this.setTransform=j,this.translate=k,this.transform=l,this.applyToPoint=o,this.applyToX=p,this.applyToY=q,this.applyToZ=r,this.applyToPointArray=t,this.applyToPointStringified=u,this.toArray=v,this.toCSS=w,this.to2dCSS=x,this.toString=y,this.clone=m,this.cloneFromProps=n,this.inversePoints=s,this._t=this.transform,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}();!function(a,b){function c(c,j,k){var n=[];j=1==j?{entropy:!0}:j||{};var s=g(f(j.entropy?[c,i(a)]:null==c?h():c,3),n),t=new d(n),u=function(){for(var a=t.g(m),b=p,c=0;q>a;)a=(a+c)*l,b*=l,c=t.g(1);for(;a>=r;)a/=2,b/=2,c>>>=1;return(a+c)/b};return u.int32=function(){return 0|t.g(4)},u.quick=function(){return t.g(4)/4294967296},u.double=u,g(i(t.S),a),(j.pass||k||function(a,c,d,f){return f&&(f.S&&e(f,t),a.state=function(){return e(t,{})}),d?(b[o]=a,c):a})(u,s,"global"in j?j.global:this==b,j.state)}function d(a){var b,c=a.length,d=this,e=0,f=d.i=d.j=0,g=d.S=[];for(c||(a=[c++]);l>e;)g[e]=e++;for(e=0;l>e;e++)g[e]=g[f=s&f+a[e%c]+(b=g[e])],g[f]=b;(d.g=function(a){for(var b,c=0,e=d.i,f=d.j,g=d.S;a--;)b=g[e=s&e+1],c=c*l+g[s&(g[e]=g[f=s&f+b])+(g[f]=b)];return d.i=e,d.j=f,c})(l)}function e(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function f(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(f(a[c],b-1))}catch(a){}return d.length?d:"string"==e?a:a+"\0"}function g(a,b){for(var c,d=a+"",e=0;e<d.length;)b[s&e]=s&(c^=19*b[s&e])+d.charCodeAt(e++);return i(b)}function h(){try{if(j)return i(j.randomBytes(l));var b=new Uint8Array(l);return(k.crypto||k.msCrypto).getRandomValues(b),i(b)}catch(b){var c=k.navigator,d=c&&c.plugins;return[+new Date,k,d,k.screen,i(a)]}}function i(a){return String.fromCharCode.apply(0,a)}var j,k=this,l=256,m=6,n=52,o="random",p=b.pow(l,m),q=b.pow(2,n),r=2*q,s=l-1;b["seed"+o]=c,g(b.random(),a)}([],BMMath);var BezierFactory=function(){function a(a,b,c,d,e){var f=e||("bez_"+a+"_"+b+"_"+c+"_"+d).replace(/\./g,"p");if(k[f])return k[f];var g=new i([a,b,c,d]);return k[f]=g,g}function b(a,b){return 1-3*b+3*a}function c(a,b){return 3*b-6*a}function d(a){return 3*a}function e(a,e,f){return((b(e,f)*a+c(e,f))*a+d(e))*a}function f(a,e,f){return 3*b(e,f)*a*a+2*c(e,f)*a+d(e)}function g(a,b,c,d,f){var g,h,i=0;do h=b+(c-b)/2,g=e(h,d,f)-a,g>0?c=h:b=h;while(Math.abs(g)>n&&++i<o);return h}function h(a,b,c,d){for(var g=0;l>g;++g){var h=f(b,c,d);if(0===h)return b;var i=e(b,c,d)-a;b-=i/h}return b}function i(a){this._p=a,this._mSampleValues=r?new Float32Array(p):new Array(p),this._precomputed=!1,this.get=this.get.bind(this)}var j={};j.getBezierEasing=a;var k={},l=4,m=.001,n=1e-7,o=10,p=11,q=1/(p-1),r="function"==typeof Float32Array;return i.prototype={get:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],f=this._p[3];return this._precomputed||this._precompute(),b===c&&d===f?a:0===a?0:1===a?1:e(this._getTForX(a),c,f)},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0,(a!==b||c!==d)&&this._calcSampleValues()},_calcSampleValues:function(){for(var a=this._p[0],b=this._p[2],c=0;p>c;++c)this._mSampleValues[c]=e(c*q,a,b)},_getTForX:function(a){for(var b=this._p[0],c=this._p[2],d=this._mSampleValues,e=0,i=1,j=p-1;i!==j&&d[i]<=a;++i)e+=q;--i;var k=(a-d[i])/(d[i+1]-d[i]),l=e+k*q,n=f(l,b,c);return n>=m?h(a,l,b,c):0===n?l:g(a,e,e+q,b,c)}},j}(),MatrixManager=matrixManagerFunction;!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function a(a,b){var c=document.createElement("span");c.style.fontFamily=b;var d=document.createElement("span");d.innerHTML="giItT1WQy@!-/#",c.style.position="absolute",c.style.left="-10000px",c.style.top="-10000px",c.style.fontSize="300px",c.style.fontVariant="normal",c.style.fontStyle="normal",c.style.fontWeight="normal",c.style.letterSpacing="0",c.appendChild(d),document.body.appendChild(c);var e=d.offsetWidth;return d.style.fontFamily=a+", "+b,{node:d,w:e,parent:c}}function b(){var a,c,d,e=this.fonts.length,f=e;for(a=0;e>a;a+=1)if(this.fonts[a].loaded)f-=1;else if("t"===this.fonts[a].fOrigin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(a){}}2===this.typekitLoaded&&(this.fonts[a].loaded=!0)}else"n"===this.fonts[a].fOrigin?this.fonts[a].loaded=!0:(c=this.fonts[a].monoCase.node,d=this.fonts[a].monoCase.w,c.offsetWidth!==d?(f-=1,this.fonts[a].loaded=!0):(c=this.fonts[a].sansCase.node,d=this.fonts[a].sansCase.w,c.offsetWidth!==d&&(f-=1,this.fonts[a].loaded=!0)),this.fonts[a].loaded&&(this.fonts[a].sansCase.parent.parentNode.removeChild(this.fonts[a].sansCase.parent),this.fonts[a].monoCase.parent.parentNode.removeChild(this.fonts[a].monoCase.parent)));0!==f&&Date.now()-this.initTime<i?setTimeout(b.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}function c(a,b){var c=document.createElementNS(svgNS,"text");c.style.fontSize="100px",c.style.fontFamily=b.fFamily,c.textContent="1",b.fClass?(c.style.fontFamily="inherit",c.className=b.fClass):c.style.fontFamily=b.fFamily,a.appendChild(c);var d=document.createElement("canvas").getContext("2d");return d.font="100px "+b.fFamily,d}function d(d,e){if(!d)return void(this.loaded=!0);if(this.chars)return this.loaded=!0,void(this.fonts=d.list);var f,g=d.list,h=g.length;for(f=0;h>f;f+=1){if(g[f].loaded=!1,g[f].monoCase=a(g[f].fFamily,"monospace"),g[f].sansCase=a(g[f].fFamily,"sans-serif"),g[f].fPath){if("p"===g[f].fOrigin){var i=document.createElement("style");i.type="text/css",i.innerHTML="@font-face {font-family: "+g[f].fFamily+"; font-style: normal; src: url('"+g[f].fPath+"');}",e.appendChild(i)}else if("g"===g[f].fOrigin){var j=document.createElement("link");j.type="text/css",j.rel="stylesheet",j.href=g[f].fPath,e.appendChild(j)}else if("t"===g[f].fOrigin){var k=document.createElement("script");k.setAttribute("src",g[f].fPath),e.appendChild(k)}}else g[f].loaded=!0;g[f].helper=c(e,g[f]),this.fonts.push(g[f])}b.bind(this)()}function e(a){if(a){this.chars||(this.chars=[]);var b,c,d,e=a.length,f=this.chars.length;for(b=0;e>b;b+=1){for(c=0,d=!1;f>c;)this.chars[c].style===a[b].style&&this.chars[c].fFamily===a[b].fFamily&&this.chars[c].ch===a[b].ch&&(d=!0),c+=1;d||(this.chars.push(a[b]),f+=1)}}}function f(a,b,c){for(var d=0,e=this.chars.length;e>d;){if(this.chars[d].ch===a&&this.chars[d].style===b&&this.chars[d].fFamily===c)return this.chars[d];d+=1}}function g(a,b,c){var d=this.getFontByName(b),e=d.helper;return e.measureText(a).width*c/100}function h(a){for(var b=0,c=this.fonts.length;c>b;){if(this.fonts[b].fName===a)return this.fonts[b];b+=1}return"sans-serif"}var i=5e3,j=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return j.prototype.addChars=e,j.prototype.addFonts=d,j.prototype.getCharData=f,j.prototype.getFontByName=h,j.prototype.measureText=g,j}(),PropertyFactory=function(){function a(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var a=this.comp.renderedFrame-this.offsetTime;if(a===this.lastFrame||this.lastFrame!==j&&(this.lastFrame>=this.keyframes[this.keyframes.length-1].t-this.offsetTime&&a>=this.keyframes[this.keyframes.length-1].t-this.offsetTime||this.lastFrame<this.keyframes[0].t-this.offsetTime&&a<this.keyframes[0].t-this.offsetTime));else{for(var b,c,d=0,e=this.keyframes.length-1,f=1,g=!0;g;){if(b=this.keyframes[d],c=this.keyframes[d+1],d==e-1&&a>=c.t-this.offsetTime){b.h&&(b=c);break}if(c.t-this.offsetTime>a)break;e-1>d?d+=f:g=!1}var h,i,k,l,m,n=0;if(b.to){b.bezierData||bez.buildBezierData(b);var o=b.bezierData;if(a>=c.t-this.offsetTime||a<b.t-this.offsetTime){var p=a>=c.t-this.offsetTime?o.points.length-1:0;for(i=o.points[p].point.length,h=0;i>h;h+=1)this.v[h]=this.mult?o.points[p].point[h]*this.mult:o.points[p].point[h],this.pv[h]=o.points[p].point[h],this.lastPValue[h]!==this.pv[h]&&(this.mdf=!0,this.lastPValue[h]=this.pv[h])}else{b.__fnct?m=b.__fnct:(m=BezierFactory.getBezierEasing(b.o.x,b.o.y,b.i.x,b.i.y,b.n).get,b.__fnct=m),k=m((a-(b.t-this.offsetTime))/(c.t-this.offsetTime-(b.t-this.offsetTime)));var q,r=o.segmentLength*k,s=0;for(f=1,g=!0,l=o.points.length;g;){if(s+=o.points[n].partialLength*f,0===r||0===k||n==o.points.length-1){for(i=o.points[n].point.length,h=0;i>h;h+=1)this.v[h]=this.mult?o.points[n].point[h]*this.mult:o.points[n].point[h],this.pv[h]=o.points[n].point[h],this.lastPValue[h]!==this.pv[h]&&(this.mdf=!0,this.lastPValue[h]=this.pv[h]);break}if(r>=s&&r<s+o.points[n+1].partialLength){for(q=(r-s)/o.points[n+1].partialLength,i=o.points[n].point.length,h=0;i>h;h+=1)this.v[h]=this.mult?(o.points[n].point[h]+(o.points[n+1].point[h]-o.points[n].point[h])*q)*this.mult:o.points[n].point[h]+(o.points[n+1].point[h]-o.points[n].point[h])*q,this.pv[h]=o.points[n].point[h]+(o.points[n+1].point[h]-o.points[n].point[h])*q,this.lastPValue[h]!==this.pv[h]&&(this.mdf=!0,this.lastPValue[h]=this.pv[h]);break}l-1>n&&1==f||n>0&&-1==f?n+=f:g=!1}}}else{var t,u,v,w,x,y=!1;for(e=b.s.length,d=0;e>d;d+=1){if(1!==b.h&&(b.o.x instanceof Array?(y=!0,b.__fnct||(b.__fnct=[]),b.__fnct[d]||(t=b.o.x[d]||b.o.x[0],u=b.o.y[d]||b.o.y[0],v=b.i.x[d]||b.i.x[0],w=b.i.y[d]||b.i.y[0])):(y=!1,b.__fnct||(t=b.o.x,u=b.o.y,v=b.i.x,w=b.i.y)),y?b.__fnct[d]?m=b.__fnct[d]:(m=BezierFactory.getBezierEasing(t,u,v,w).get,b.__fnct[d]=m):b.__fnct?m=b.__fnct:(m=BezierFactory.getBezierEasing(t,u,v,w).get,b.__fnct=m),k=a>=c.t-this.offsetTime?1:a<b.t-this.offsetTime?0:m((a-(b.t-this.offsetTime))/(c.t-this.offsetTime-(b.t-this.offsetTime)))),this.sh&&1!==b.h){var z=b.s[d],A=b.e[d];-180>z-A?z+=360:z-A>180&&(z-=360),x=z+(A-z)*k}else x=1===b.h?b.s[d]:b.s[d]+(b.e[d]-b.s[d])*k;1===e?(this.v=this.mult?x*this.mult:x,this.pv=x,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)):(this.v[d]=this.mult?x*this.mult:x,this.pv[d]=x,this.lastPValue[d]!==this.pv[d]&&(this.mdf=!0,this.lastPValue[d]=this.pv[d]))}}}this.lastFrame=a,this.frameId=this.elem.globalData.frameId}}function b(){}function c(a,c,d){this.mult=d,this.v=d?c.k*d:c.k,this.pv=c.k,this.mdf=!1,this.comp=a.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=b}function d(a,c,d){this.mult=d,this.data=c,this.mdf=!1,this.comp=a.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=new Array(c.k.length),this.pv=new Array(c.k.length),this.lastValue=new Array(c.k.length);var e=Array.apply(null,{length:c.k.length});this.vel=e.map(function(){return 0});var f,g=c.k.length;for(f=0;g>f;f+=1)this.v[f]=d?c.k[f]*d:c.k[f],this.pv[f]=c.k[f];this.getValue=b}function e(b,c,d){this.keyframes=c.k,this.offsetTime=b.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this.k=!0,this.kf=!0,this.data=c,this.mult=d,this.elem=b,this.comp=b.comp,this.lastFrame=j,this.v=d?c.k[0].s[0]*d:c.k[0].s[0],this.pv=c.k[0].s[0],this.getValue=a}function f(b,c,d){var e,f,g,h,i,k=c.k.length;for(e=0;k-1>e;e+=1)c.k[e].to&&c.k[e].s&&c.k[e].e&&(f=c.k[e].s,g=c.k[e].e,h=c.k[e].to,i=c.k[e].ti,(2===f.length&&(f[0]!==g[0]||f[1]!==g[1])&&bez.pointOnLine2D(f[0],f[1],g[0],g[1],f[0]+h[0],f[1]+h[1])&&bez.pointOnLine2D(f[0],f[1],g[0],g[1],g[0]+i[0],g[1]+i[1])||3===f.length&&(f[0]!==g[0]||f[1]!==g[1]||f[2]!==g[2])&&bez.pointOnLine3D(f[0],f[1],f[2],g[0],g[1],g[2],f[0]+h[0],f[1]+h[1],f[2]+h[2])&&bez.pointOnLine3D(f[0],f[1],f[2],g[0],g[1],g[2],g[0]+i[0],g[1]+i[1],g[2]+i[2]))&&(c.k[e].to=null,c.k[e].ti=null));this.keyframes=c.k,this.offsetTime=b.data.st,this.k=!0,this.kf=!0,this.mult=d,this.elem=b,this.comp=b.comp,this.getValue=a,this.frameId=-1,this.v=new Array(c.k[0].s.length),this.pv=new Array(c.k[0].s.length),this.lastValue=new Array(c.k[0].s.length),this.lastPValue=new Array(c.k[0].s.length),this.lastFrame=j}function g(a,b,g,h,i){var j;if(2===g)j=new k(a,b,i);else if(7===g)j=new TrimProperty(a,b,i);else if(b.k.length)if("number"==typeof b.k[0])j=new d(a,b,h);else switch(g){case 0:j=new e(a,b,h);break;case 1:j=new f(a,b,h)}else j=new c(a,b,h);return j.k&&i.push(j),j}function h(a,b,c,d){return new m(a,b,c,d)}function i(a,b,c){return new n(a,b,c)}var j=-999999,k=function(){function a(){return this.p.k&&this.p.getValue(),this.p.v.key||(this.p.v.key=function(a){return this.p.v.numKeys?this.p.keyframes[a-1].t:0}.bind(this)),this.p.v.numKeys||(this.p.v.numKeys=this.p.keyframes?this.p.keyframes.length:0),this.p.v.valueAtTime||(this.p.v.valueAtTime=this.p.getValueAtTime.bind(this.p)),this.p.v}function b(){return this.px.k&&this.px.getValue(),this.px.v}function c(){return this.py.k&&this.py.getValue(),this.py.v}function d(){return this.a.k&&this.a.getValue(),this.a.v}function e(){return this.or.k&&this.or.getValue(),this.or.v}function f(){return this.r.k&&this.r.getValue(),this.r.v/degToRads}function g(){return this.s.k&&this.s.getValue(),this.s.v}function h(){return this.o.k&&this.o.getValue(),this.o.v}function i(){return this.sk.k&&this.sk.getValue(),this.sk.v}function j(){return this.sa.k&&this.sa.getValue(),this.sa.v}function k(a){var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.mdf=!0);this.a&&a.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&a.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?a.rotate(-this.r.v):a.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?a.translate(this.px.v,this.py.v,-this.pz.v):a.translate(this.px.v,this.py.v,0):a.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function l(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a].mdf&&(this.mdf=!0);if(this.mdf){if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime){var c,d;this.p.lastFrame+this.p.offsetTime<this.p.keyframes[0].t?(c=this.p.getValueAtTime(this.p.keyframes[0].t+.01,0),d=this.p.getValueAtTime(this.p.keyframes[0].t,0)):this.p.lastFrame+this.p.offsetTime>this.p.keyframes[this.p.keyframes.length-1].t?(c=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t,0),d=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t-.01,0)):(c=this.p.pv,d=this.p.getValueAtTime(this.p.lastFrame+this.p.offsetTime-.01,this.p.offsetTime)),this.v.rotate(-Math.atan2(c[1]-d[1],c[0]-d[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function m(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function n(){}return function(o,p,q){this.elem=o,this.frameId=-1,this.dynamicProperties=[],this.mdf=!1,this.data=p,this.getValue=l,this.applyToMatrix=k,this.setInverted=m,this.autoOrient=n,this.v=new Matrix,p.p.s?(this.px=PropertyFactory.getProp(o,p.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(o,p.p.y,0,0,this.dynamicProperties),p.p.z&&(this.pz=PropertyFactory.getProp(o,p.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(o,p.p,1,0,this.dynamicProperties),p.r?this.r=PropertyFactory.getProp(o,p.r,0,degToRads,this.dynamicProperties):p.rx&&(this.rx=PropertyFactory.getProp(o,p.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(o,p.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(o,p.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(o,p.or,0,degToRads,this.dynamicProperties)),p.sk&&(this.sk=PropertyFactory.getProp(o,p.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(o,p.sa,0,degToRads,this.dynamicProperties)),p.a&&(this.a=PropertyFactory.getProp(o,p.a,1,0,this.dynamicProperties)),p.s&&(this.s=PropertyFactory.getProp(o,p.s,1,.01,this.dynamicProperties)),this.o=p.o?PropertyFactory.getProp(o,p.o,0,.01,q):{mdf:!1,v:1},this.dynamicProperties.length?q.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?p.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:a}),Object.defineProperty(this,"xPosition",{get:b}),Object.defineProperty(this,"yPosition",{get:c}),Object.defineProperty(this,"orientation",{get:e}),Object.defineProperty(this,"anchorPoint",{get:d}),Object.defineProperty(this,"rotation",{get:f}),Object.defineProperty(this,"scale",{get:g}),Object.defineProperty(this,"opacity",{get:h}),Object.defineProperty(this,"skew",{get:i}),Object.defineProperty(this,"skewAxis",{get:j})}}(),l=function(){function a(a){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||a){var b,c,d,e=4*this.data.p;for(b=0;e>b;b+=1)c=b%4===0?100:255,d=Math.round(this.prop.v[b]*c),this.c[b]!==d&&(this.c[b]=d,this.cmdf=!0);if(this.o.length)for(e=this.prop.v.length,b=4*this.data.p;e>b;b+=1)c=b%2===0?100:1,d=b%2===0?Math.round(100*this.prop.v[b]):this.prop.v[b],this.o[b-4*this.data.p]!==d&&(this.o[b-4*this.data.p]=d,this.omdf=!0)}}function b(b,c,d){this.prop=g(b,c.k,1,null,[]),this.data=c,this.k=this.prop.k,this.c=Array.apply(null,{length:4*c.p});var e=c.k.k[0].s?c.k.k[0].s.length-4*c.p:c.k.k.length-4*c.p;this.o=Array.apply(null,{length:e}),this.cmdf=!1,this.omdf=!1,this.getValue=a,this.prop.k&&d.push(this),this.getValue(!0)}return function(a,c,d){return new b(a,c,d)}}(),m=function(){function a(a){var b=0,c=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||a){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;c>b;){if(this.dataProps[b].p.mdf){this.mdf=!0;break}b+=1}if(this.mdf||a)for("svg"===this.renderer&&(this.dasharray=""),b=0;c>b;b+=1)"o"!=this.dataProps[b].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[b].p.v:this.dasharray[b]=this.dataProps[b].p.v:this.dashoffset=this.dataProps[b].p.v}}return function(b,c,d,e){this.elem=b,this.frameId=-1,this.dataProps=new Array(c.length),this.renderer=d,this.mdf=!1,this.k=!1,this.dasharray="svg"===this.renderer?"":new Array(c.length-1),this.dashoffset=0;var f,g,h=c.length;for(f=0;h>f;f+=1)g=PropertyFactory.getProp(b,c[f].v,0,0,e),this.k=!!g.k||this.k,this.dataProps[f]={n:c[f].n,p:g};this.getValue=a,this.k?e.push(this):this.getValue(!0)}}(),n=function(){function a(){if(this.dynamicProperties.length){var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a].mdf&&(this.mdf=!0)}var c=this.data.totalChars,d=2===this.data.r?1:100/c,e=this.o.v/d,f=this.s.v/d+e,g=this.e.v/d+e;if(f>g){var h=f;f=g,g=h}this.finalS=f,this.finalE=g}function b(a){var b=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,f=0,g=this.finalS,h=this.finalE,i=this.data.sh;if(2==i)f=h===g?a>=h?1:0:c(0,d(.5/(h-g)+(a-g)/(h-g),1)),f=b(f);else if(3==i)f=h===g?a>=h?0:1:1-c(0,d(.5/(h-g)+(a-g)/(h-g),1)),f=b(f);else if(4==i)h===g?f=a>=h?0:1:(f=c(0,d(.5/(h-g)+(a-g)/(h-g),1)),.5>f?f*=2:f=1-2*(f-.5)),f=b(f);else if(5==i){if(h===g)f=a>=h?0:1;else{var j=h-g;a=d(c(0,a+.5-g),h-g);var k=-j/2+a,l=j/2;f=Math.sqrt(1-k*k/(l*l))}f=b(f)}else 6==i?(h===g?f=a>=h?0:1:(a=d(c(0,a+.5-g),h-g),f=(1+Math.cos(Math.PI+2*Math.PI*a/(h-g)))/2),f=b(f)):(a>=e(g)&&(f=0>a-g?1-(g-a):c(0,d(h-a,1))),f=b(f));return f*this.a.v}var c=Math.max,d=Math.min,e=Math.floor;return this.mdf=!1,function(c,d,e){this.mdf=!1,this.k=!1,this.data=d,this.dynamicProperties=[],this.getValue=a,this.getMult=b,this.comp=c.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(c,d.s||{k:0},0,0,this.dynamicProperties),this.e="e"in d?PropertyFactory.getProp(c,d.e,0,0,this.dynamicProperties):{v:2===d.r?d.totalChars:100},this.o=PropertyFactory.getProp(c,d.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(c,d.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(c,d.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(c,d.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?e.push(this):this.getValue()}}(),o={};return o.getProp=g,o.getDashProp=h,o.getTextSelectorProp=i,o.getGradientProp=l,o}(),ShapePropertyFactory=function(){function a(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var a=this.comp.renderedFrame-this.offsetTime;if(this.lastFrame!==g&&(this.lastFrame<this.keyframes[0].t-this.offsetTime&&a<this.keyframes[0].t-this.offsetTime||this.lastFrame>this.keyframes[this.keyframes.length-1].t-this.offsetTime&&a>this.keyframes[this.keyframes.length-1].t-this.offsetTime));else{var b,c,d;if(a<this.keyframes[0].t-this.offsetTime)b=this.keyframes[0].s[0],d=!0;else if(a>this.keyframes[this.keyframes.length-1].t-this.offsetTime)b=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],d=!0;else{for(var e,f,h,i,j,k,l=0,m=this.keyframes.length-1,n=!0;n&&(e=this.keyframes[l],f=this.keyframes[l+1],!(f.t-this.offsetTime>a));)m-1>l?l+=1:n=!1;d=1===e.h,d&&l===m&&(e=f);var o;if(!d){var p;e.__fnct?p=e.__fnct:(p=BezierFactory.getBezierEasing(e.o.x,e.o.y,e.i.x,e.i.y).get,e.__fnct=p),o=a>=f.t-this.offsetTime?1:a<e.t-this.offsetTime?0:p((a-(e.t-this.offsetTime))/(f.t-this.offsetTime-(e.t-this.offsetTime))),c=e.e[0]}b=e.s[0]}i=this.v.i.length,k=b.i[0].length;var q,r=!1;for(h=0;i>h;h+=1)for(j=0;k>j;j+=1)d?(q=b.i[h][j],this.v.i[h][j]!==q&&(this.v.i[h][j]=q,this.pv.i[h][j]=q,r=!0),q=b.o[h][j],this.v.o[h][j]!==q&&(this.v.o[h][j]=q,this.pv.o[h][j]=q,r=!0),q=b.v[h][j],this.v.v[h][j]!==q&&(this.v.v[h][j]=q,this.pv.v[h][j]=q,r=!0)):(q=b.i[h][j]+(c.i[h][j]-b.i[h][j])*o,this.v.i[h][j]!==q&&(this.v.i[h][j]=q,this.pv.i[h][j]=q,r=!0),q=b.o[h][j]+(c.o[h][j]-b.o[h][j])*o,this.v.o[h][j]!==q&&(this.v.o[h][j]=q,this.pv.o[h][j]=q,r=!0),q=b.v[h][j]+(c.v[h][j]-b.v[h][j])*o,this.v.v[h][j]!==q&&(this.v.v[h][j]=q,this.pv.v[h][j]=q,r=!0));this.mdf=r,this.paths.length=0,this.v.c=b.c,this.paths[0]=this.v}this.lastFrame=a,this.frameId=this.elem.globalData.frameId}}function b(){return this.v}function c(){this.paths.length?(this.paths.length=1,this.paths[0]=this.v):this.paths=[this.v]}function d(a,d,e){this.comp=a.comp,this.k=!1,this.mdf=!1,this.numNodes=3===e?d.pt.k.v.length:d.ks.k.v.length,this.v=3===e?d.pt.k:d.ks.k,this.getValue=b,this.pv=this.v,this.paths=[this.v],this.reset=c}function e(b,d,e){this.comp=b.comp,this.elem=b,this.offsetTime=b.data.st,this.getValue=a,this.keyframes=3===e?d.pt.k:d.ks.k,this.k=!0;var f,h=this.keyframes[0].s[0].i.length,i=this.keyframes[0].s[0].i[0].length;for(this.numNodes=h,this.v={i:Array.apply(null,{length:h}),o:Array.apply(null,{length:h}),v:Array.apply(null,{length:h}),c:this.keyframes[0].s[0].c},this.pv={i:Array.apply(null,{length:h}),o:Array.apply(null,{length:h}),v:Array.apply(null,{length:h}),c:this.keyframes[0].s[0].c},f=0;h>f;f+=1)this.v.i[f]=Array.apply(null,{length:i}),this.v.o[f]=Array.apply(null,{length:i}),this.v.v[f]=Array.apply(null,{length:i}),this.pv.i[f]=Array.apply(null,{length:i}),this.pv.o[f]=Array.apply(null,{length:i}),this.pv.v[f]=Array.apply(null,{length:i});this.paths=[],this.lastFrame=g,this.reset=c}function f(a,b,c,f){var g;if(3===c||4===c){var k=3===c?b.pt.k:b.ks.k;g=k.length?new e(a,b,c):new d(a,b,c)}else 5===c?g=new j(a,b):6===c?g=new h(a,b):7===c&&(g=new i(a,b));return g.k&&f.push(g),g}var g=-999999,h=function(){function a(){var a=this.p.v[0],b=this.p.v[1],c=this.s.v[0]/2,e=this.s.v[1]/2;2!==this.d&&3!==this.d?(this.v.v[0]=[a,b-e],this.v.i[0]=[a-c*d,b-e],this.v.o[0]=[a+c*d,b-e],this.v.v[1]=[a+c,b],this.v.i[1]=[a+c,b-e*d],this.v.o[1]=[a+c,b+e*d],this.v.v[2]=[a,b+e],this.v.i[2]=[a+c*d,b+e],this.v.o[2]=[a-c*d,b+e],this.v.v[3]=[a-c,b],this.v.i[3]=[a-c,b+e*d],this.v.o[3]=[a-c,b-e*d]):(this.v.v[0]=[a,b-e],this.v.o[0]=[a-c*d,b-e],this.v.i[0]=[a+c*d,b-e],this.v.v[1]=[a-c,b],this.v.o[1]=[a-c,b+e*d],this.v.i[1]=[a-c,b-e*d],this.v.v[2]=[a,b+e],this.v.o[2]=[a+c*d,b+e],this.v.i[2]=[a-c*d,b+e],this.v.v[3]=[a+c,b],this.v.o[3]=[a+c,b-e*d],this.v.i[3]=[a+c,b+e*d]),this.paths.length=0,this.paths[0]=this.v}function b(a){var b,c=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a),this.dynamicProperties[b].mdf&&(this.mdf=!0);this.mdf&&(this.convertEllToPath(),this.paths.length=0,this.paths[0]=this.v)}}var d=roundCorner;return function(d,e){this.v={v:Array.apply(null,{length:4}),i:Array.apply(null,{length:4}),o:Array.apply(null,{length:4}),c:!0},this.numNodes=4,this.d=e.d,this.dynamicProperties=[],this.paths=[],this.elem=d,this.comp=d.comp,this.frameId=-1,this.mdf=!1,this.getValue=b,this.convertEllToPath=a,this.reset=c,this.p=PropertyFactory.getProp(d,e.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(d,e.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),i=function(){function a(){var a=Math.floor(this.pt.v),b=2*Math.PI/a;this.v.v.length=a,this.v.i.length=a,this.v.o.length=a;var c,d=this.or.v,e=this.os.v,f=2*Math.PI*d/(4*a),g=-Math.PI/2,h=3===this.data.d?-1:1;for(g+=this.r.v,c=0;a>c;c+=1){var i=d*Math.cos(g),j=d*Math.sin(g),k=0===i&&0===j?0:j/Math.sqrt(i*i+j*j),l=0===i&&0===j?0:-i/Math.sqrt(i*i+j*j);i+=+this.p.v[0],j+=+this.p.v[1],this.v.v[c]=[i,j],this.v.i[c]=[i+k*f*e*h,j+l*f*e*h],this.v.o[c]=[i-k*f*e*h,j-l*f*e*h],g+=b*h}this.numNodes=a,this.paths.length=0,this.paths[0]=this.v}function b(){var a=2*Math.floor(this.pt.v),b=2*Math.PI/a;this.v.v.length=a,this.v.i.length=a,this.v.o.length=a;var c,d,e,f,g=!0,h=this.or.v,i=this.ir.v,j=this.os.v,k=this.is.v,l=2*Math.PI*h/(2*a),m=2*Math.PI*i/(2*a),n=-Math.PI/2;n+=this.r.v;var o=3===this.data.d?-1:1;for(c=0;a>c;c+=1){d=g?h:i,e=g?j:k,f=g?l:m;var p=d*Math.cos(n),q=d*Math.sin(n),r=0===p&&0===q?0:q/Math.sqrt(p*p+q*q),s=0===p&&0===q?0:-p/Math.sqrt(p*p+q*q);p+=+this.p.v[0],q+=+this.p.v[1],this.v.v[c]=[p,q],this.v.i[c]=[p+r*f*e*o,q+s*f*e*o],this.v.o[c]=[p-r*f*e*o,q-s*f*e*o],g=!g,n+=b*o}this.numNodes=a,this.paths.length=0,this.paths[0]=this.v}function d(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(e,f){this.v={v:[],i:[],o:[],c:!0},this.elem=e,this.comp=e.comp,this.data=f,this.frameId=-1,this.d=f.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=d,this.reset=c,1===f.sy?(this.ir=PropertyFactory.getProp(e,f.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(e,f.is,0,.01,this.dynamicProperties),this.convertToPath=b):this.convertToPath=a,this.pt=PropertyFactory.getProp(e,f.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(e,f.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(e,f.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(e,f.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(e,f.os,0,.01,this.dynamicProperties),this.paths=[],this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),j=function(){function a(a){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a),this.dynamicProperties[b].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function b(){var a=this.p.v[0],b=this.p.v[1],c=this.s.v[0]/2,d=this.s.v[1]/2,e=bm_min(c,d,this.r.v),f=e*(1-roundCorner);2===this.d||1===this.d?(this.v.v[0]=[a+c,b-d+e],this.v.o[0]=this.v.v[0],this.v.i[0]=[a+c,b-d+f],this.v.v[1]=[a+c,b+d-e],this.v.o[1]=[a+c,b+d-f],this.v.i[1]=this.v.v[1],this.v.v[2]=[a+c-e,b+d],this.v.o[2]=this.v.v[2],this.v.i[2]=[a+c-f,b+d],this.v.v[3]=[a-c+e,b+d],this.v.o[3]=[a-c+f,b+d],this.v.i[3]=this.v.v[3],this.v.v[4]=[a-c,b+d-e],this.v.o[4]=this.v.v[4],this.v.i[4]=[a-c,b+d-f],this.v.v[5]=[a-c,b-d+e],this.v.o[5]=[a-c,b-d+f],this.v.i[5]=this.v.v[5],this.v.v[6]=[a-c+e,b-d],this.v.o[6]=this.v.v[6],this.v.i[6]=[a-c+f,b-d],this.v.v[7]=[a+c-e,b-d],this.v.o[7]=[a+c-f,b-d],this.v.i[7]=this.v.v[7]):(this.v.v[0]=[a+c,b-d+e],this.v.o[0]=[a+c,b-d+f],this.v.i[0]=this.v.v[0],this.v.v[1]=[a+c-e,b-d],this.v.o[1]=this.v.v[1],this.v.i[1]=[a+c-f,b-d],this.v.v[2]=[a-c+e,b-d],this.v.o[2]=[a-c+f,b-d],this.v.i[2]=this.v.v[2],this.v.v[3]=[a-c,b-d+e],this.v.o[3]=this.v.v[3],this.v.i[3]=[a-c,b-d+f],this.v.v[4]=[a-c,b+d-e],this.v.o[4]=[a-c,b+d-f],this.v.i[4]=this.v.v[4],this.v.v[5]=[a-c+e,b+d],this.v.o[5]=this.v.v[5],this.v.i[5]=[a-c+f,b+d],this.v.v[6]=[a+c-e,b+d],this.v.o[6]=[a+c-f,b+d],this.v.i[6]=this.v.v[6],this.v.v[7]=[a+c,b+d-e],this.v.o[7]=this.v.v[7],this.v.i[7]=[a+c,b+d-f]),this.paths.length=0,this.paths[0]=this.v}return function(d,e){this.v={v:Array.apply(null,{length:8}),i:Array.apply(null,{length:8}),o:Array.apply(null,{length:8}),c:!0},this.paths=[],this.numNodes=8,this.elem=d,this.comp=d.comp,this.frameId=-1,this.d=e.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=a,this.convertRectToPath=b,this.reset=c,this.p=PropertyFactory.getProp(d,e.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(d,e.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(d,e.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),k={};return k.getShapeProp=f,k}(),ShapeModifiers=function(){function a(a,b){d[a]||(d[a]=b)}function b(a,b,c,e){return new d[a](b,c,e)}var c={},d={};return c.registerModifier=a,c.getModifier=b,c}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},
ShapeModifier.prototype.addShape=function(a){this.closed||(this.shapes.push({shape:a,last:[]}),this.addShapeToModifier(a))},ShapeModifier.prototype.init=function(a,b,c){this.elem=a,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.isTrimming=!1,this.comp=a.comp,this.initModifierProperties(a,b),this.dynamicProperties.length?(this.k=!0,c.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(a){if(this.elem.globalData.frameId!==this.frameId||a){this.mdf=!!a,this.frameId=this.elem.globalData.frameId;var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.mdf=!0);if(this.mdf||a){var d=this.o.v%360/360;0>d&&(d+=1);var e=this.s.v+d,f=this.e.v+d;if(e>f){var g=e;e=f,f=g}this.sValue=e,this.eValue=f,this.oValue=d}}},TrimModifier.prototype.initModifierProperties=function(a,b){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(a,b.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(a,b.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(a,b.o,0,0,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.getSegmentsLength=function(a){var b,c=a.c,d=a.v,e=a.o,f=a.i,g=d.length,h=[],i=0;for(b=0;g-1>b;b+=1)h[b]=bez.getBezierLength(d[b],d[b+1],e[b],f[b+1]),i+=h[b].addedLength;return c&&(h[b]=bez.getBezierLength(d[b],d[0],e[b],f[0]),i+=h[b].addedLength),{lengths:h,totalLength:i}},TrimModifier.prototype.processShapes=function(a){var b,c,d,e,f,g,h,i=this.shapes.length,j=this.sValue,k=this.eValue,l=0;if(k===j)for(c=0;i>c;c+=1)this.shapes[c].shape.paths=[],this.shapes[c].shape.mdf=!0;else{var m,n,o=[];for(c=0;i>c;c+=1){if(m=this.shapes[c],m.shape.mdf||this.mdf||a){if(b=m.shape.paths,e=b.length,h=0,!m.shape.mdf&&m.pathsData)h=m.totalShapeLength;else{for(f=[],d=0;e>d;d+=1)g=this.getSegmentsLength(b[d]),f.push(g),h+=g.totalLength;m.totalShapeLength=h,m.pathsData=f}l+=h}else m.shape.paths=m.last;m.shape.mdf=!0}for(c=0;i>c;c+=1)if(n=[],m=this.shapes[c],m.shape.mdf){o.length=0,1>=k?o.push({s:m.totalShapeLength*j,e:m.totalShapeLength*k}):j>=1?o.push({s:m.totalShapeLength*(j-1),e:m.totalShapeLength*(k-1)}):(o.push({s:m.totalShapeLength*j,e:m.totalShapeLength}),o.push({s:0,e:m.totalShapeLength*(k-1)}));var p,q=this.addShapes(m,o[0]);n.push(q),o.length>1&&(m.shape.v.c?this.addShapes(m,o[1],q):(q.i[0]=[q.v[0][0],q.v[0][1]],p=q.v.length-1,q.o[p]=[q.v[p][0],q.v[p][1]],q=this.addShapes(m,o[1]),n.push(q))),q.i[0]=[q.v[0][0],q.v[0][1]],p=q.v.length-1,q.o[p]=[q.v[p][0],q.v[p][1]],m.last=n,m.shape.paths=n}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addSegment=function(a,b,c,d,e,f){e.o[f]=b,e.i[f+1]=c,e.v[f+1]=d,e.v[f]=a},TrimModifier.prototype.addShapes=function(a,b,c){var d,e,f,g,h,i,j,k=a.pathsData,l=a.shape.paths,m=l.length,n=0;for(c?h=c.v.length-1:(c={c:!1,v:[],i:[],o:[]},h=0),d=0;m>d;d+=1){for(i=k[d].lengths,f=l[d].c?i.length:i.length+1,e=1;f>e;e+=1)if(g=i[e-1],n+g.addedLength<b.s)n+=g.addedLength;else{if(n>b.e)break;b.s<=n&&b.e>=n+g.addedLength?this.addSegment(l[d].v[e-1],l[d].o[e-1],l[d].i[e],l[d].v[e],c,h):(j=bez.getNewSegment(l[d].v[e-1],l[d].v[e],l[d].o[e-1],l[d].i[e],(b.s-n)/g.addedLength,(b.e-n)/g.addedLength,i[e-1]),this.addSegment(j.pt1,j.pt3,j.pt4,j.pt2,c,h)),n+=g.addedLength,h+=1}if(l[d].c&&n<=b.e){var o=i[e-1].addedLength;b.s<=n&&b.e>=n+o?this.addSegment(l[d].v[e-1],l[d].o[e-1],l[d].i[0],l[d].v[0],c,h):(j=bez.getNewSegment(l[d].v[e-1],l[d].v[0],l[d].o[e-1],l[d].i[0],(b.s-n)/o,(b.e-n)/o,i[e-1]),this.addSegment(j.pt1,j.pt3,j.pt4,j.pt2,c,h))}}return c},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,MouseModifier),MouseModifier.prototype.processKeys=function(a){(this.elem.globalData.frameId!==this.frameId||a)&&(this.mdf=!0)},MouseModifier.prototype.addShapeToModifier=function(){this.positions.push([])},MouseModifier.prototype.processPath=function(a,b,c){var d,e,f,g,h=a.v.length,i=[],j=[],k=[];for(d=0;h>d;d+=1){c.v[d]||(c.v[d]=[a.v[d][0],a.v[d][1]],c.o[d]=[a.o[d][0],a.o[d][1]],c.i[d]=[a.i[d][0],a.i[d][1]],c.distV[d]=0,c.distO[d]=0,c.distI[d]=0),e=Math.atan2(a.v[d][1]-b[1],a.v[d][0]-b[0]),f=b[0]-c.v[d][0],g=b[1]-c.v[d][1];var l=Math.sqrt(f*f+g*g);c.distV[d]+=(l-c.distV[d])*this.data.dc,c.v[d][0]=Math.cos(e)*Math.max(0,this.data.maxDist-c.distV[d])/2+a.v[d][0],c.v[d][1]=Math.sin(e)*Math.max(0,this.data.maxDist-c.distV[d])/2+a.v[d][1],e=Math.atan2(a.o[d][1]-b[1],a.o[d][0]-b[0]),f=b[0]-c.o[d][0],g=b[1]-c.o[d][1];var l=Math.sqrt(f*f+g*g);c.distO[d]+=(l-c.distO[d])*this.data.dc,c.o[d][0]=Math.cos(e)*Math.max(0,this.data.maxDist-c.distO[d])/2+a.o[d][0],c.o[d][1]=Math.sin(e)*Math.max(0,this.data.maxDist-c.distO[d])/2+a.o[d][1],e=Math.atan2(a.i[d][1]-b[1],a.i[d][0]-b[0]),f=b[0]-c.i[d][0],g=b[1]-c.i[d][1];var l=Math.sqrt(f*f+g*g);c.distI[d]+=(l-c.distI[d])*this.data.dc,c.i[d][0]=Math.cos(e)*Math.max(0,this.data.maxDist-c.distI[d])/2+a.i[d][0],c.i[d][1]=Math.sin(e)*Math.max(0,this.data.maxDist-c.distI[d])/2+a.i[d][1],i.push(c.v[d]),j.push(c.o[d]),k.push(c.i[d])}return{v:i,o:j,i:k,c:a.c}},MouseModifier.prototype.processShapes=function(){var a,b,c,d,e=this.elem.globalData.mouseX,f=this.elem.globalData.mouseY,g=this.shapes.length;if(e){var h,i=this.elem.globalToLocal([e,f,0]),j=[];for(b=0;g>b;b+=1)if(h=this.shapes[b],h.shape.mdf||this.mdf){for(h.shape.mdf=!0,a=h.shape.paths,d=a.length,c=0;d>c;c+=1)this.positions[b][c]||(this.positions[b][c]={v:[],o:[],i:[],distV:[],distO:[],distI:[]}),j.push(this.processPath(a[c],i,this.positions[b][c]));h.shape.paths=j,h.last=j}else h.shape.paths=h.last}},MouseModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.data=b,this.positions=[]},ShapeModifiers.registerModifier("ms",MouseModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(a){if(this.elem.globalData.frameId!==this.frameId||a){this.mdf=!!a,this.frameId=this.elem.globalData.frameId;var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(a,b.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.v.length,n=[],o=[],p=[];for(c=0;m>c;c+=1)d=a.v[c],f=a.o[c],e=a.i[c],d[0]===f[0]&&d[1]===f[1]&&d[0]===e[0]&&d[1]===e[1]?0!==c&&c!==m-1||a.c?(g=0===c?a.v[m-1]:a.v[c-1],k=Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)),l=k?Math.min(k/2,b)/k:0,h=[d[0]+(g[0]-d[0])*l,d[1]-(d[1]-g[1])*l],j=h,i=[h[0]-(h[0]-d[0])*roundCorner,h[1]-(h[1]-d[1])*roundCorner],n.push(h),o.push(i),p.push(j),g=c===m-1?a.v[0]:a.v[c+1],k=Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)),l=k?Math.min(k/2,b)/k:0,h=[d[0]+(g[0]-d[0])*l,d[1]+(g[1]-d[1])*l],j=[h[0]-(h[0]-d[0])*roundCorner,h[1]-(h[1]-d[1])*roundCorner],i=h,n.push(h),o.push(i),p.push(j)):(n.push(d),o.push(f),p.push(e)):(n.push(a.v[c]),o.push(a.o[c]),p.push(a.i[c]));return{v:n,o:o,i:p,c:a.c}},RoundCornersModifier.prototype.processShapes=function(){var a,b,c,d,e=this.shapes.length,f=this.rd.v;if(0!==f){var g,h=[];for(b=0;e>b;b+=1)if(g=this.shapes[b],g.shape.mdf||this.mdf){for(g.shape.mdf=!0,a=g.shape.paths,d=a.length,c=0;d>c;c+=1)h.push(this.processPath(a[c],f));g.shape.paths=h,g.last=h}else g.shape.paths=g.last}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier);var ImagePreloader=function(){function a(){this.loadedAssets+=1,this.loadedAssets===this.totalImages}function b(a){var b="";if(this.assetsPath){var c=a.p;-1!==c.indexOf("images/")&&(c=c.split("/")[1]),b=this.assetsPath+c}else b=this.path,b+=a.u?a.u:"",b+=a.p;return b}function c(b){var c=document.createElement("img");c.addEventListener("load",a.bind(this),!1),c.addEventListener("error",a.bind(this),!1),c.src=b}function d(a){this.totalAssets=a.length;var d;for(d=0;d<this.totalAssets;d+=1)a[d].layers||(c.bind(this)(b.bind(this)(a[d])),this.totalImages+=1)}function e(a){this.path=a||""}function f(a){this.assetsPath=a||""}return function(){this.loadAssets=d,this.setAssetsPath=f,this.setPath=e,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}();BaseRenderer.prototype.checkLayers=function(a){var b,c,d=this.layers.length;for(this.completeLayers=!0,b=d-1;b>=0;b--)this.elements[b]||(c=this.layers[b],c.ip-c.st<=a-this.layers[b].st&&c.op-c.st>a-this.layers[b].st&&this.buildItem(b)),this.completeLayers=!!this.elements[b]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(a){switch(a.ty){case 2:return this.createImage(a);case 0:return this.createComp(a);case 1:return this.createSolid(a);case 4:return this.createShape(a);case 5:return this.createText(a);case 99:return null}return this.createBase(a)},BaseRenderer.prototype.buildAllItems=function(){var a,b=this.layers.length;for(a=0;b>a;a+=1)this.buildItem(a);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(a){this.completeLayers=!1;var b,c,d=a.length,e=this.layers.length;for(b=0;d>b;b+=1)for(c=0;e>c;){if(this.layers[c].id==a[b].id){this.layers[c]=a[b];break}c+=1}},BaseRenderer.prototype.setProjectInterface=function(a){this.globalData.projectInterface=a},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(a,b,c){c=c||[];for(var d=this.elements,e=this.layers,f=0,g=e.length;g>f;)e[f].ind==b&&(d[f]&&d[f]!==!0?void 0!==e[f].parent?(c.push(d[f]),this.buildElementParenting(a,e[f].parent,c)):(c.push(d[f]),a.setHierarchy(c)):(this.buildItem(f),this.addPendingElement(a))),f+=1},BaseRenderer.prototype.addPendingElement=function(a){this.pendingElements.push(a)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(a){return new SVGBaseElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(a){return new IShapeElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(a){return new SVGTextElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(a){return new IImageElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(a){return new ICompElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(a){return new ISolidElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(a){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("width",a.w),this.layerElement.setAttribute("height",a.h),this.layerElement.setAttribute("viewBox","0 0 "+a.w+" "+a.h),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.layerElement.style.width="100%",this.layerElement.style.height="100%",this.layerElement.style.transform="translate3d(0,0,0)",this.layerElement.style.transformOrigin=this.layerElement.style.mozTransformOrigin=this.layerElement.style.webkitTransformOrigin=this.layerElement.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.layerElement);var b=document.createElementNS(svgNS,"defs");this.globalData.defs=b,this.layerElement.appendChild(b),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.compSize={w:a.w,h:a.h},this.globalData.frameRate=a.fr;var c=document.createElementNS(svgNS,"clipPath"),d=document.createElementNS(svgNS,"rect");d.setAttribute("width",a.w),d.setAttribute("height",a.h),d.setAttribute("x",0),d.setAttribute("y",0);var e="animationMask_"+randomString(10);c.setAttribute("id",e),c.appendChild(d);var f=document.createElementNS(svgNS,"g");f.setAttribute("clip-path","url(#"+e+")"),this.layerElement.appendChild(f),b.appendChild(c),this.layerElement=f,this.layers=a.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,b),this.elements=Array.apply(null,{length:a.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;b>a;a++)this.elements[a]&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(a){var b=this.elements;if(!b[a]&&99!=this.layers[a].ty){b[a]=!0;var c=this.createItem(this.layers[a]);b[a]=c,expressionsPlugin&&(0===this.layers[a].ty&&this.globalData.projectInterface.registerComposition(c),c.initExpressions()),this.appendElementInPos(c,a),this.layers[a].tt&&(this.elements[a-1]&&this.elements[a-1]!==!0?c.setMatte(b[a-1].layerId):(this.buildItem(a-1),this.addPendingElement(c)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();if(a.checkParenting(),a.data.tt)for(var b=0,c=this.elements.length;c>b;){if(this.elements[b]===a){a.setMatte(this.elements[b-1].layerId);break}b+=1}}},SVGRenderer.prototype.renderFrame=function(a){if(this.renderedFrame!=a&&!this.destroyed){null===a?a=this.renderedFrame:this.renderedFrame=a,this.globalData.frameNum=a,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a;var b,c=this.layers.length;for(this.completeLayers||this.checkLayers(a),b=c-1;b>=0;b--)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);for(b=c-1;b>=0;b--)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(a,b){var c=a.getBaseElement();if(c){for(var d,e=0;b>e;)this.elements[e]&&this.elements[e]!==!0&&this.elements[e].getBaseElement()&&(d=this.elements[e].getBaseElement()),e+=1;d?this.layerElement.insertBefore(c,d):this.layerElement.appendChild(c)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(a){var b,c=a.length,d=document.createElementNS(svgNS,"g");for(b=0;c>b;b+=1)if(a[b].xt){var e=this.createComp(a[b],d,this.globalData.comp,null);e.initExpressions(),this.globalData.projectInterface.registerComposition(e)}},MaskElement.prototype.getMaskProperty=function(a){return this.viewData[a].prop},MaskElement.prototype.prepareFrame=function(){var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue()},MaskElement.prototype.renderFrame=function(a){var b,c=this.masksProperties.length;for(b=0;c>b;b++)if((this.viewData[b].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[b],this.viewData[b].prop.v,this.viewData[b]),"n"!==this.masksProperties[b].mode&&(this.viewData[b].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[b].invRect.setAttribute("x",-a.props[12]),this.viewData[b].invRect.setAttribute("y",-a.props[13])),this.storedData[b].x&&(this.storedData[b].x.mdf||this.firstFrame))){var d=this.storedData[b].expan;this.storedData[b].x.v<0?("erode"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="erode",this.storedData[b].elem.setAttribute("filter","url(#"+this.storedData[b].filterId+")")),d.setAttribute("radius",-this.storedData[b].x.v)):("dilate"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="dilate",this.storedData[b].elem.setAttribute("filter",null)),this.storedData[b].elem.setAttribute("stroke-width",2*this.storedData[b].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var a="M0,0 ";return a+=" h"+this.globalData.compSize.w,a+=" v"+this.globalData.compSize.h,a+=" h-"+this.globalData.compSize.w,a+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(a,b,c){var d,e,f="";for(e=b.v.length,d=1;e>d;d+=1)1==d&&(f+=" M"+bm_rnd(b.v[0][0])+","+bm_rnd(b.v[0][1])),f+=" C"+bm_rnd(b.o[d-1][0])+","+bm_rnd(b.o[d-1][1])+" "+bm_rnd(b.i[d][0])+","+bm_rnd(b.i[d][1])+" "+bm_rnd(b.v[d][0])+","+bm_rnd(b.v[d][1]);b.c&&(f+=" C"+bm_rnd(b.o[d-1][0])+","+bm_rnd(b.o[d-1][1])+" "+bm_rnd(b.i[0][0])+","+bm_rnd(b.i[0][1])+" "+bm_rnd(b.v[0][0])+","+bm_rnd(b.v[0][1])),c.lastPath!==f&&(c.elem&&(b.c?a.inv?c.elem.setAttribute("d",this.solidPath+f):c.elem.setAttribute("d",f):c.elem.setAttribute("d","")),c.lastPath=f)},MaskElement.prototype.getMask=function(a){for(var b=0,c=this.masksProperties.length;c>b;){if(this.masksProperties[b].nm===a)return{maskPath:this.viewData[b].prop.pv};b+=1}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.paths=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var a=0,b=this.data.masksProperties.length;b>a;){if("n"!==this.data.masksProperties[a].mode&&this.data.masksProperties[a].cl!==!1)return!0;a+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(a){this.data.ip-this.data.st<=a&&this.data.op-this.data.st>a?this.isVisible!==!0&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):this.isVisible!==!1&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0);return this.data.hasMask&&this.maskManager.prepareFrame(a*this.data.sr),this.currentFrameNum=a*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(a){var b=[];b.push(this.finalTransform);for(var c=!0,d=this.comp;c;)d.finalTransform?(d.data.hasMask&&b.splice(0,0,d.finalTransform),d=d.comp):c=!1;var e,f,g=b.length;for(e=0;g>e;e+=1)f=b[e].mat.applyToPointArray(0,0,0),a=[a[0]-f[0],a[1]-f[1],0];return a},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var a=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty&&(this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.viewData,this.layerInterface))},BaseElement.prototype.setBlendMode=function(){var a="";switch(this.data.bm){case 1:a="multiply";break;case 2:a="screen";break;case 3:a="overlay";break;case 4:a="darken";break;case 5:a="lighten";break;case 6:a="color-dodge";break;case 7:a="color-burn";break;case 8:a="hard-light";break;case 9:a="soft-light";break;case 10:a="difference";break;case 11:a="exclusion";break;case 12:a="hue";break;case 13:a="saturation";break;case 14:a="color";break;case 15:a="luminosity"}var b=this.baseElement||this.layerElement;b.style["mix-blend-mode"]=a},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(a){this.hierarchy=a},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){if(this.data.td){if(3==this.data.td)this.layerElement=document.createElementNS(svgNS,"mask"),this.layerElement.setAttribute("id",this.layerId),this.layerElement.setAttribute("mask-type","luminance"),this.globalData.defs.appendChild(this.layerElement);else if(2==this.data.td){var a=document.createElementNS(svgNS,"mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var b=document.createElementNS(svgNS,"g");a.appendChild(b),this.layerElement=document.createElementNS(svgNS,"g");var c=document.createElementNS(svgNS,"filter"),d=randomString(10);c.setAttribute("id",d),c.setAttribute("filterUnits","objectBoundingBox"),c.setAttribute("x","0%"),c.setAttribute("y","0%"),c.setAttribute("width","100%"),c.setAttribute("height","100%");var e=document.createElementNS(svgNS,"feComponentTransfer");e.setAttribute("in","SourceGraphic"),c.appendChild(e);var f=document.createElementNS(svgNS,"feFuncA");f.setAttribute("type","table"),f.setAttribute("tableValues","1.0 0.0"),e.appendChild(f),this.globalData.defs.appendChild(c);var g=document.createElementNS(svgNS,"rect");g.setAttribute("width",this.comp.data?this.comp.data.w:this.globalData.compSize.w),g.setAttribute("height",this.comp.data?this.comp.data.h:this.globalData.compSize.h),g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("fill","#ffffff"),g.setAttribute("opacity","0"),b.setAttribute("filter","url(#"+d+")"),b.appendChild(g),b.appendChild(this.layerElement),this.globalData.defs.appendChild(a)}else{this.layerElement=document.createElementNS(svgNS,"g");var h=document.createElementNS(svgNS,"mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type","alpha"),h.appendChild(this.layerElement),this.globalData.defs.appendChild(h)}this.data.hasMask&&(this.maskedElement=this.layerElement)}else this.data.hasMask||this.data.tt?(this.layerElement=document.createElementNS(svgNS,"g"),this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),this.baseElement=this.matteElement):this.baseElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement)):(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement);if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty&&!this.checkMasks()){var i=document.createElementNS(svgNS,"clipPath"),j=document.createElementNS(svgNS,"path");j.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var k="cp_"+randomString(8);i.setAttribute("id",k),this.layerElement.setAttribute("clip-path","url(#"+k+")"),i.appendChild(j),this.globalData.defs.appendChild(i)}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(a){if(3===this.data.ty||this.data.hd)return!1;if(!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var b,c=this.finalTransform.mat;if(this.hierarchy){var d,e=this.hierarchy.length;for(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b),d=0;e>d;d+=1)this.finalTransform.matMdf=!!this.hierarchy[d].finalTransform.mProp.mdf||this.finalTransform.matMdf,b=this.hierarchy[d].finalTransform.mProp.v.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])}else this.isVisible&&c.cloneFromProps(this.finalTransform.mProp.v.props);return a&&(b=a.mat.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.finalTransform.opacity*=a.opacity,this.finalTransform.opMdf=!!a.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!a.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&this.layerElement&&this.layerElement.setAttribute("transform",c.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&this.layerElement.setAttribute("opacity",this.finalTransform.opacity),this.data.hasMask&&this.maskManager.renderFrame(c),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(a){this.maskManager=new MaskElement(a,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(a){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+a+")")},SVGBaseElement.prototype.setMatte=function(a){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+a+")")},SVGBaseElement.prototype.hide=function(){},ITextElement.prototype.init=function(){this._parent.init.call(this),this.lettersChangedFlag=!1,this.currentTextDocumentData={};var a=this.data;this.viewData={m:{a:PropertyFactory.getProp(this,a.t.m.a,1,0,this.dynamicProperties)}};var b=this.data.t;if(b.a.length){this.viewData.a=Array.apply(null,{length:b.a.length});var c,d,e,f=b.a.length;for(c=0;f>c;c+=1)e=b.a[c],d={a:{},s:{}},"r"in e.a&&(d.a.r=PropertyFactory.getProp(this,e.a.r,0,degToRads,this.dynamicProperties)),"rx"in e.a&&(d.a.rx=PropertyFactory.getProp(this,e.a.rx,0,degToRads,this.dynamicProperties)),"ry"in e.a&&(d.a.ry=PropertyFactory.getProp(this,e.a.ry,0,degToRads,this.dynamicProperties)),"sk"in e.a&&(d.a.sk=PropertyFactory.getProp(this,e.a.sk,0,degToRads,this.dynamicProperties)),"sa"in e.a&&(d.a.sa=PropertyFactory.getProp(this,e.a.sa,0,degToRads,this.dynamicProperties)),"s"in e.a&&(d.a.s=PropertyFactory.getProp(this,e.a.s,1,.01,this.dynamicProperties)),"a"in e.a&&(d.a.a=PropertyFactory.getProp(this,e.a.a,1,0,this.dynamicProperties)),"o"in e.a&&(d.a.o=PropertyFactory.getProp(this,e.a.o,0,.01,this.dynamicProperties)),"p"in e.a&&(d.a.p=PropertyFactory.getProp(this,e.a.p,1,0,this.dynamicProperties)),"sw"in e.a&&(d.a.sw=PropertyFactory.getProp(this,e.a.sw,0,0,this.dynamicProperties)),"sc"in e.a&&(d.a.sc=PropertyFactory.getProp(this,e.a.sc,1,0,this.dynamicProperties)),"fc"in e.a&&(d.a.fc=PropertyFactory.getProp(this,e.a.fc,1,0,this.dynamicProperties)),"fh"in e.a&&(d.a.fh=PropertyFactory.getProp(this,e.a.fh,0,0,this.dynamicProperties)),"fs"in e.a&&(d.a.fs=PropertyFactory.getProp(this,e.a.fs,0,.01,this.dynamicProperties)),"fb"in e.a&&(d.a.fb=PropertyFactory.getProp(this,e.a.fb,0,.01,this.dynamicProperties)),"t"in e.a&&(d.a.t=PropertyFactory.getProp(this,e.a.t,0,0,this.dynamicProperties)),d.s=PropertyFactory.getTextSelectorProp(this,e.s,this.dynamicProperties),d.s.t=e.s.t,this.viewData.a[c]=d}else this.viewData.a=[];b.p&&"m"in b.p?(this.viewData.p={f:PropertyFactory.getProp(this,b.p.f,0,0,this.dynamicProperties),l:PropertyFactory.getProp(this,b.p.l,0,0,this.dynamicProperties),r:b.p.r,m:this.maskManager.getMaskProperty(b.p.m)},this.maskPath=!0):this.maskPath=!1},ITextElement.prototype.prepareFrame=function(a){var b=0,c=this.data.t.d.k.length,d=this.data.t.d.k[b].s;for(b+=1;c>b&&!(this.data.t.d.k[b].t>a);)d=this.data.t.d.k[b].s,b+=1;this.lettersChangedFlag=!1,d!==this.currentTextDocumentData&&(this.currentTextDocumentData=d,this.lettersChangedFlag=!0,this.buildNewText()),this._parent.prepareFrame.call(this,a)},ITextElement.prototype.createPathShape=function(a,b){var c,d,e,f,g=b.length,h="";for(c=0;g>c;c+=1){for(e=b[c].ks.k.i.length,f=b[c].ks.k,d=1;e>d;d+=1)1==d&&(h+=" M"+a.applyToPointStringified(f.v[0][0],f.v[0][1])),h+=" C"+a.applyToPointStringified(f.o[d-1][0],f.o[d-1][1])+" "+a.applyToPointStringified(f.i[d][0],f.i[d][1])+" "+a.applyToPointStringified(f.v[d][0],f.v[d][1]);h+=" C"+a.applyToPointStringified(f.o[d-1][0],f.o[d-1][1])+" "+a.applyToPointStringified(f.i[0][0],f.i[0][1])+" "+a.applyToPointStringified(f.v[0][0],f.v[0][1]),h+="z"}return h},ITextElement.prototype.getMeasures=function(){var a,b,c,d,e=this.mHelper,f=this.renderType,g=this.data,h=this.currentTextDocumentData,i=h.l;if(this.maskPath){var j=this.viewData.p.m;if(!this.viewData.p.n||this.viewData.p.mdf){var k=j.v;this.viewData.p.r&&(k=reversePath(k,j.closed));var l={tLength:0,segments:[]};d=k.v.length-1;var m,n=0;for(c=0;d>c;c+=1)m={s:k.v[c],e:k.v[c+1],to:[k.o[c][0]-k.v[c][0],k.o[c][1]-k.v[c][1]],ti:[k.i[c+1][0]-k.v[c+1][0],k.i[c+1][1]-k.v[c+1][1]]},bez.buildBezierData(m),l.tLength+=m.bezierData.segmentLength,l.segments.push(m),n+=m.bezierData.segmentLength;c=d,j.closed&&(m={s:k.v[c],e:k.v[0],to:[k.o[c][0]-k.v[c][0],k.o[c][1]-k.v[c][1]],ti:[k.i[0][0]-k.v[0][0],k.i[0][1]-k.v[0][1]]},bez.buildBezierData(m),l.tLength+=m.bezierData.segmentLength,l.segments.push(m),n+=m.bezierData.segmentLength),this.viewData.p.pi=l}var o,p,q,l=this.viewData.p.pi,r=this.viewData.p.f.v,s=0,t=1,u=0,v=!0,w=l.segments;if(0>r&&j.closed)for(l.tLength<Math.abs(r)&&(r=-Math.abs(r)%l.tLength),s=w.length-1,q=w[s].bezierData.points,t=q.length-1;0>r;)r+=q[t].partialLength,t-=1,0>t&&(s-=1,q=w[s].bezierData.points,t=q.length-1);q=w[s].bezierData.points,p=q[t-1],o=q[t];var x,y,z=o.partialLength}d=i.length,a=0,b=0;var A,B,C,D,E,F=1.2*h.s*.714,G=!0,H=this.viewData,I=Array.apply(null,{length:d});D=H.a.length;var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z=-1,$=r,_=s,aa=t,ba=-1,ca=0;for(c=0;d>c;c+=1)if(e.reset(),O=1,i[c].n)a=0,b+=h.yOffset,b+=G?1:0,r=$,G=!1,ca=0,this.maskPath&&(s=_,t=aa,q=w[s].bezierData.points,p=q[t-1],o=q[t],z=o.partialLength,u=0),I[c]=this.emptyProp;else{if(this.maskPath){if(ba!==i[c].line){switch(h.j){case 1:r+=n-h.lineWidths[i[c].line];break;case 2:r+=(n-h.lineWidths[i[c].line])/2}ba=i[c].line}Z!==i[c].ind&&(i[Z]&&(r+=i[Z].extra),r+=i[c].an/2,Z=i[c].ind),r+=H.m.a.v[0]*i[c].an/200;var da=0;for(C=0;D>C;C+=1)A=H.a[C].a,"p"in A&&(B=H.a[C].s,K=B.getMult(i[c].anIndexes[C],g.t.a[C].s.totalChars),da+=K.length?A.p.v[0]*K[0]:A.p.v[0]*K);for(v=!0;v;)u+z>=r+da||!q?(x=(r+da-u)/o.partialLength,M=p.point[0]+(o.point[0]-p.point[0])*x,N=p.point[1]+(o.point[1]-p.point[1])*x,e.translate(0,-(H.m.a.v[1]*F/100)+b),v=!1):q&&(u+=o.partialLength,t+=1,t>=q.length&&(t=0,s+=1,w[s]?q=w[s].bezierData.points:j.closed?(t=0,s=0,q=w[s].bezierData.points):(u-=o.partialLength,q=null)),q&&(p=o,o=q[t],z=o.partialLength));L=i[c].an/2-i[c].add,e.translate(-L,0,0)}else L=i[c].an/2-i[c].add,e.translate(-L,0,0),e.translate(-H.m.a.v[0]*i[c].an/200,-H.m.a.v[1]*F/100,0);for(ca+=i[c].l/2,C=0;D>C;C+=1)A=H.a[C].a,"t"in A&&(B=H.a[C].s,K=B.getMult(i[c].anIndexes[C],g.t.a[C].s.totalChars),
this.maskPath?r+=K.length?A.t*K[0]:A.t*K:a+=K.length?A.t.v*K[0]:A.t.v*K);for(ca+=i[c].l/2,h.strokeWidthAnim&&(Q=h.sw||0),h.strokeColorAnim&&(P=h.sc?[h.sc[0],h.sc[1],h.sc[2]]:[0,0,0]),h.fillColorAnim&&(R=[h.fc[0],h.fc[1],h.fc[2]]),C=0;D>C;C+=1)A=H.a[C].a,"a"in A&&(B=H.a[C].s,K=B.getMult(i[c].anIndexes[C],g.t.a[C].s.totalChars),K.length?e.translate(-A.a.v[0]*K[0],-A.a.v[1]*K[1],A.a.v[2]*K[2]):e.translate(-A.a.v[0]*K,-A.a.v[1]*K,A.a.v[2]*K));for(C=0;D>C;C+=1)A=H.a[C].a,"s"in A&&(B=H.a[C].s,K=B.getMult(i[c].anIndexes[C],g.t.a[C].s.totalChars),K.length?e.scale(1+(A.s.v[0]-1)*K[0],1+(A.s.v[1]-1)*K[1],1):e.scale(1+(A.s.v[0]-1)*K,1+(A.s.v[1]-1)*K,1));for(C=0;D>C;C+=1){if(A=H.a[C].a,B=H.a[C].s,K=B.getMult(i[c].anIndexes[C],g.t.a[C].s.totalChars),"sk"in A&&(K.length?e.skewFromAxis(-A.sk.v*K[0],A.sa.v*K[1]):e.skewFromAxis(-A.sk.v*K,A.sa.v*K)),"r"in A&&e.rotateZ(K.length?-A.r.v*K[2]:-A.r.v*K),"ry"in A&&e.rotateY(K.length?A.ry.v*K[1]:A.ry.v*K),"rx"in A&&e.rotateX(K.length?A.rx.v*K[0]:A.rx.v*K),"o"in A&&(O+=K.length?(A.o.v*K[0]-O)*K[0]:(A.o.v*K-O)*K),h.strokeWidthAnim&&"sw"in A&&(Q+=K.length?A.sw.v*K[0]:A.sw.v*K),h.strokeColorAnim&&"sc"in A)for(S=0;3>S;S+=1)P[S]=Math.round(K.length?255*(P[S]+(A.sc.v[S]-P[S])*K[0]):255*(P[S]+(A.sc.v[S]-P[S])*K));if(h.fillColorAnim){if("fc"in A)for(S=0;3>S;S+=1)R[S]=K.length?R[S]+(A.fc.v[S]-R[S])*K[0]:R[S]+(A.fc.v[S]-R[S])*K;"fh"in A&&(R=K.length?addHueToRGB(R,A.fh.v*K[0]):addHueToRGB(R,A.fh.v*K)),"fs"in A&&(R=K.length?addSaturationToRGB(R,A.fs.v*K[0]):addSaturationToRGB(R,A.fs.v*K)),"fb"in A&&(R=K.length?addBrightnessToRGB(R,A.fb.v*K[0]):addBrightnessToRGB(R,A.fb.v*K))}}for(C=0;D>C;C+=1)A=H.a[C].a,"p"in A&&(B=H.a[C].s,K=B.getMult(i[c].anIndexes[C],g.t.a[C].s.totalChars),this.maskPath?K.length?e.translate(0,A.p.v[1]*K[0],-A.p.v[2]*K[1]):e.translate(0,A.p.v[1]*K,-A.p.v[2]*K):K.length?e.translate(A.p.v[0]*K[0],A.p.v[1]*K[1],-A.p.v[2]*K[2]):e.translate(A.p.v[0]*K,A.p.v[1]*K,-A.p.v[2]*K));if(h.strokeWidthAnim&&(T=0>Q?0:Q),h.strokeColorAnim&&(U="rgb("+Math.round(255*P[0])+","+Math.round(255*P[1])+","+Math.round(255*P[2])+")"),h.fillColorAnim&&(V="rgb("+Math.round(255*R[0])+","+Math.round(255*R[1])+","+Math.round(255*R[2])+")"),this.maskPath){if(g.t.p.p){y=(o.point[1]-p.point[1])/(o.point[0]-p.point[0]);var ea=180*Math.atan(y)/Math.PI;o.point[0]<p.point[0]&&(ea+=180),e.rotate(-ea*Math.PI/180)}e.translate(M,N,0),e.translate(H.m.a.v[0]*i[c].an/200,H.m.a.v[1]*F/100,0),r-=H.m.a.v[0]*i[c].an/200,i[c+1]&&Z!==i[c+1].ind&&(r+=i[c].an/2,r+=h.tr/1e3*h.s)}else{switch(e.translate(a,b,0),h.ps&&e.translate(h.ps[0],h.ps[1]+h.ascent,0),h.j){case 1:e.translate(h.justifyOffset+(h.boxWidth-h.lineWidths[i[c].line]),0,0);break;case 2:e.translate(h.justifyOffset+(h.boxWidth-h.lineWidths[i[c].line])/2,0,0)}e.translate(L,0,0),e.translate(H.m.a.v[0]*i[c].an/200,H.m.a.v[1]*F/100,0),a+=i[c].l+h.tr/1e3*h.s}"html"===f?W=e.toCSS():"svg"===f?W=e.to2dCSS():X=[e.props[0],e.props[1],e.props[2],e.props[3],e.props[4],e.props[5],e.props[6],e.props[7],e.props[8],e.props[9],e.props[10],e.props[11],e.props[12],e.props[13],e.props[14],e.props[15]],Y=O,J=this.renderedLetters[c],!J||J.o===Y&&J.sw===T&&J.sc===U&&J.fc===V?"svg"!==f&&"html"!==f||J&&J.m===W?"canvas"!==f||J&&J.props[0]===X[0]&&J.props[1]===X[1]&&J.props[4]===X[4]&&J.props[5]===X[5]&&J.props[12]===X[12]&&J.props[13]===X[13]?E=J:(this.lettersChangedFlag=!0,E=new LetterProps(Y,T,U,V,null,X)):(this.lettersChangedFlag=!0,E=new LetterProps(Y,T,U,V,W)):(this.lettersChangedFlag=!0,E=new LetterProps(Y,T,U,V,W,X)),this.renderedLetters[c]=E}},ITextElement.prototype.emptyProp=new LetterProps,createElement(SVGBaseElement,SVGTextElement),SVGTextElement.prototype.init=ITextElement.prototype.init,SVGTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,SVGTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,SVGTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},SVGTextElement.prototype.buildNewText=function(){var a,b,c=this.currentTextDocumentData;this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),c.fc?this.layerElement.setAttribute("fill","rgb("+Math.round(255*c.fc[0])+","+Math.round(255*c.fc[1])+","+Math.round(255*c.fc[2])+")"):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),c.sc&&(this.layerElement.setAttribute("stroke","rgb("+Math.round(255*c.sc[0])+","+Math.round(255*c.sc[1])+","+Math.round(255*c.sc[2])+")"),this.layerElement.setAttribute("stroke-width",c.sw)),this.layerElement.setAttribute("font-size",c.s);var d=this.globalData.fontManager.getFontByName(c.f);if(d.fClass)this.layerElement.setAttribute("class",d.fClass);else{this.layerElement.setAttribute("font-family",d.fFamily);var e=c.fWeight,f=c.fStyle;this.layerElement.setAttribute("font-style",f),this.layerElement.setAttribute("font-weight",e)}var g=c.l||[];if(b=g.length){var h,i,j=this.mHelper,k="",l=this.data.singleShape;if(l)var m=0,n=0,o=c.lineWidths,p=c.boxWidth,q=!0;var r=0;for(a=0;b>a;a+=1){if(this.globalData.fontManager.chars?l&&0!==a||(h=this.textSpans[r]?this.textSpans[r]:document.createElementNS(svgNS,"path")):h=this.textSpans[r]?this.textSpans[r]:document.createElementNS(svgNS,"text"),h.style.display="inherit",h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),l&&g[a].n&&(m=0,n+=c.yOffset,n+=q?1:0,q=!1),j.reset(),this.globalData.fontManager.chars&&j.scale(c.s/100,c.s/100),l){switch(c.ps&&j.translate(c.ps[0],c.ps[1]+c.ascent,0),c.j){case 1:j.translate(c.justifyOffset+(p-o[g[a].line]),0,0);break;case 2:j.translate(c.justifyOffset+(p-o[g[a].line])/2,0,0)}j.translate(m,n,0)}if(this.globalData.fontManager.chars){var s,t=this.globalData.fontManager.getCharData(c.t.charAt(a),d.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily);s=t?t.data:null,s&&s.shapes&&(i=s.shapes[0].it,l||(k=""),k+=this.createPathShape(j,i),l||h.setAttribute("d",k)),l||this.layerElement.appendChild(h)}else h.textContent=g[a].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.layerElement.appendChild(h),l&&h.setAttribute("transform",j.to2dCSS());l&&(m+=g[a].l),this.textSpans[r]=h,r+=1}for(;r<this.textSpans.length;)this.textSpans[r].style.display="none",r+=1;l&&this.globalData.fontManager.chars&&(h.setAttribute("d",k),this.layerElement.appendChild(h))}},SVGTextElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGTextElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);if(b===!1)return void this.hide();if(this.hidden&&(this.hidden=!1,this.layerElement.style.display="block"),!this.data.singleShape&&(this.getMeasures(),this.lettersChangedFlag)){var c,d,e=this.renderedLetters,f=this.currentTextDocumentData.l;d=f.length;var g;for(c=0;d>c;c+=1)f[c].n||(g=e[c],this.textSpans[c].setAttribute("transform",g.m),this.textSpans[c].setAttribute("opacity",g.o),g.sw&&this.textSpans[c].setAttribute("stroke-width",g.sw),g.sc&&this.textSpans[c].setAttribute("stroke",g.sc),g.fc&&this.textSpans[c].setAttribute("fill",g.fc));this.firstFrame&&(this.firstFrame=!1)}},SVGTextElement.prototype.destroy=function(){this._parent.destroy.call()},SVGEffects.prototype.renderFrame=function(a){var b,c=this.filters.length;for(b=0;c>b;b+=1)this.filters[b].renderFrame(a)},SVGTintFilter.prototype.renderFrame=function(a){if(a||this.filterManager.mdf){var b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",c[0]-b[0]+" 0 0 0 "+b[0]+" "+(c[1]-b[1])+" 0 0 0 "+b[1]+" "+(c[2]-b[2])+" 0 0 0 "+b[2]+" 0 0 0 "+d+" 0")}},SVGFillFilter.prototype.renderFrame=function(a){if(a||this.filterManager.mdf){var b=this.filterManager.effectElements[2].p.v,c=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+b[0]+" 0 0 0 0 "+b[1]+" 0 0 0 0 "+b[2]+" 0 0 0 "+c+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var a=this.elem.layerElement.children||this.elem.layerElement.childNodes,b=document.createElementNS(svgNS,"mask"),c="stms_"+randomString(10);b.setAttribute("id",c),b.setAttribute("mask-type","alpha");var d=document.createElementNS(svgNS,"path");d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-dashoffset",1),b.appendChild(d),this.elem.globalData.defs.appendChild(b);var e=document.createElementNS(svgNS,"g");e.setAttribute("mask","url(#"+c+")"),e.appendChild(a[0]),this.elem.layerElement.appendChild(e),this.initialized=!0,this.masker=b,this.pathMasker=d,d.setAttribute("stroke","#fff")},SVGStrokeEffect.prototype.renderFrame=function(a){this.initialized||this.initialize();var b=this.elem.maskManager.viewData[Math.max(this.filterManager.effectElements[0].p.v,1)-1];if((a||this.filterManager.mdf||b.prop.mdf)&&this.pathMasker.setAttribute("d",b.lastPath),a||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||b.prop.mdf){var c;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var d=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,e=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,f=this.pathMasker.getTotalLength();c="0 0 0 "+f*d+" ";var g,h=f*(e-d),i=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,j=Math.floor(h/i);for(g=0;j>g;g+=1)c+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";c+="0 "+10*f+" 0 0"}else c="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),this.pathMasker.setAttribute("stroke-dasharray",c)}(a||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){var a,b=this.elements.length;for(a=0;b>a;a+=1)this.elements[a]&&this.elements[a].hide();this.hidden=!0}},ICompElement.prototype.prepareFrame=function(a){if(this._parent.prepareFrame.call(this,a),this.isVisible!==!1||this.data.xt){var b=a;this.tm&&(b=this.tm.v,b===this.data.op&&(b=this.data.op-1)),this.renderedFrame=b/this.data.sr;var c,d=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),c=0;d>c;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].prepareFrame(b/this.data.sr-this.layers[c].st)}},ICompElement.prototype.renderFrame=function(a){var b,c=this._parent.renderFrame.call(this,a),d=this.layers.length;if(c===!1)return void this.hide();for(this.hidden=!1,b=0;d>b;b+=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame();this.firstFrame&&(this.firstFrame=!1)},ICompElement.prototype.setElements=function(a){this.elements=a},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call();var a,b=this.layers.length;for(a=0;b>a;a+=1)this.elements[a]&&this.elements[a].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var a=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.data.cl&&this.innerElem.setAttribute("class",this.data.cl)},IImageElement.prototype.hide=function(){this.hidden||(this.innerElem.style.display="none",this.hidden=!0)},IImageElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);return b===!1?void this.hide():(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block"),void(this.firstFrame&&(this.firstFrame=!1)))},IImageElement.prototype.destroy=function(){this._parent.destroy.call(),this.innerElem=null},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties,0),(!this.data.hd||this.data.td)&&styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(a,b,c){var d,e="gr_"+randomString(10);d=1===b.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),d.setAttribute("id",e),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse");var f,g,h,i=[];for(h=4*b.g.p,g=0;h>g;g+=4)f=document.createElementNS(svgNS,"stop"),d.appendChild(f),i.push(f);a.setAttribute("gf"===b.ty?"fill":"stroke","url(#"+e+")"),this.globalData.defs.appendChild(d),c.gf=d,c.cst=i},IShapeElement.prototype.setGradientOpacity=function(a,b,c){if(a.g.k.k[0].s&&a.g.k.k[0].s.length>4*a.g.p||a.g.k.k.length>4*a.g.p){var d,e,f,g,h=document.createElementNS(svgNS,"mask"),i=document.createElementNS(svgNS,"path");h.appendChild(i);var j="op_"+randomString(10),k="mk_"+randomString(10);h.setAttribute("id",k),d=1===a.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),d.setAttribute("id",j),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse"),g=a.g.k.k[0].s?a.g.k.k[0].s.length:a.g.k.k.length;var l=[];for(f=4*a.g.p;g>f;f+=2)e=document.createElementNS(svgNS,"stop"),e.setAttribute("stop-color","rgb(255,255,255)"),d.appendChild(e),l.push(e);return i.setAttribute("gf"===a.ty?"fill":"stroke","url(#"+j+")"),this.globalData.defs.appendChild(d),this.globalData.defs.appendChild(h),b.of=d,b.ost=l,c.msElem=i,k}},IShapeElement.prototype.searchShapes=function(a,b,c,d,e){var f,g,h,i,j,k=a.length-1,l=[],m=[];for(f=k;f>=0;f-=1)if("fl"==a[f].ty||"st"==a[f].ty||"gf"==a[f].ty||"gs"==a[f].ty){b[f]={},i={type:a[f].ty,d:"",ld:"",lvl:e,transformers:[],mdf:!1};var n=document.createElementNS(svgNS,"path");if(b[f].o=PropertyFactory.getProp(this,a[f].o,0,.01,d),("st"==a[f].ty||"gs"==a[f].ty)&&(n.setAttribute("stroke-linecap",this.lcEnum[a[f].lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[a[f].lj]||"round"),n.setAttribute("fill-opacity","0"),1==a[f].lj&&n.setAttribute("stroke-miterlimit",a[f].ml),b[f].w=PropertyFactory.getProp(this,a[f].w,0,null,d),a[f].d)){var o=PropertyFactory.getDashProp(this,a[f].d,"svg",d);o.k||(n.setAttribute("stroke-dasharray",o.dasharray),n.setAttribute("stroke-dashoffset",o.dashoffset)),b[f].d=o}if("fl"==a[f].ty||"st"==a[f].ty)b[f].c=PropertyFactory.getProp(this,a[f].c,1,255,d),c.appendChild(n);else{b[f].g=PropertyFactory.getGradientProp(this,a[f].g,d),2==a[f].t&&(b[f].h=PropertyFactory.getProp(this,a[f].h,1,.01,d),b[f].a=PropertyFactory.getProp(this,a[f].a,1,degToRads,d)),b[f].s=PropertyFactory.getProp(this,a[f].s,1,null,d),b[f].e=PropertyFactory.getProp(this,a[f].e,1,null,d),this.setGradientData(n,a[f],b[f],i);var p=this.setGradientOpacity(a[f],b[f],i);p&&n.setAttribute("mask","url(#"+p+")"),b[f].elem=n,c.appendChild(n)}a[f].ln&&n.setAttribute("id",a[f].ln),a[f].cl&&n.setAttribute("class",a[f].cl),i.pElem=n,this.stylesList.push(i),b[f].style=i,l.push(i)}else if("gr"==a[f].ty){b[f]={it:[]};var q=document.createElementNS(svgNS,"g");c.appendChild(q),b[f].gr=q,this.searchShapes(a[f].it,b[f].it,q,d,e+1)}else if("tr"==a[f].ty)for(b[f]={transform:{op:PropertyFactory.getProp(this,a[f].o,0,.01,d),mProps:PropertyFactory.getProp(this,a[f],2,null,d)},elements:[]},j=b[f].transform,h=this.stylesList.length,g=0;h>g;g+=1)this.stylesList[g].closed||this.stylesList[g].transformers.push(j);else if("sh"==a[f].ty||"rc"==a[f].ty||"el"==a[f].ty||"sr"==a[f].ty){b[f]={elements:[],caches:[],styles:[],lStr:""};var r=4;for("rc"==a[f].ty?r=5:"el"==a[f].ty?r=6:"sr"==a[f].ty&&(r=7),b[f].sh=ShapePropertyFactory.getShapeProp(this,a[f],r,d),b[f].lvl=e,this.shapes.push(b[f].sh),this.addShapeToModifiers(b[f].sh),h=this.stylesList.length,g=0;h>g;g+=1)this.stylesList[g].closed||b[f].elements.push({ty:this.stylesList[g].type,st:this.stylesList[g]})}else if("tm"==a[f].ty||"rd"==a[f].ty||"ms"==a[f].ty){var s=ShapeModifiers.getModifier(a[f].ty);s.init(this,a[f],d),this.shapeModifiers.push(s),m.push(s),b[f]=s}for(k=l.length,f=0;k>f;f+=1)l[f].closed=!0;for(k=m.length,f=0;k>f;f+=1)m[f].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(a){var b,c=this.shapeModifiers.length;for(b=0;c>b;b+=1)this.shapeModifiers[b].addShape(a)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var a,b=this.shapes.length;for(a=0;b>a;a+=1)this.shapes[a].reset();for(b=this.shapeModifiers.length,a=b-1;a>=0;a-=1)this.shapeModifiers[a].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);return b===!1?void this.hide():(this.globalToLocal([0,0,0]),this.hidden=!1,this.renderModifiers(),void this.renderShape(null,null,!0,null))},IShapeElement.prototype.hide=function(){if(!this.hidden){var a,b=this.stylesList.length;for(a=b-1;a>=0;a-=1)"0"!==this.stylesList[a].ld&&(this.stylesList[a].ld="0",this.stylesList[a].pElem.style.display="none",this.stylesList[a].pElem.parentNode&&(this.stylesList[a].parent=this.stylesList[a].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(a,b,c,d){var e,f;if(!a)for(a=this.shapesData,f=this.stylesList.length,e=0;f>e;e+=1)this.stylesList[e].d="",this.stylesList[e].mdf=!1;b||(b=this.viewData),f=a.length-1;var g;for(e=f;e>=0;e-=1)g=a[e].ty,"tr"==g?((this.firstFrame||b[e].transform.op.mdf&&d)&&d.setAttribute("opacity",b[e].transform.op.v),(this.firstFrame||b[e].transform.mProps.mdf&&d)&&d.setAttribute("transform",b[e].transform.mProps.v.to2dCSS())):"sh"==g||"el"==g||"rc"==g||"sr"==g?this.renderPath(a[e],b[e]):"fl"==g?this.renderFill(a[e],b[e]):"gf"==g?this.renderGradient(a[e],b[e]):"gs"==g?(this.renderGradient(a[e],b[e]),this.renderStroke(a[e],b[e])):"st"==g?this.renderStroke(a[e],b[e]):"gr"==g&&this.renderShape(a[e].it,b[e].it,!1,b[e].gr);if(c){for(f=this.stylesList.length,e=0;f>e;e+=1)"0"===this.stylesList[e].ld&&(this.stylesList[e].ld="1",this.stylesList[e].pElem.style.display="block"),(this.stylesList[e].mdf||this.firstFrame)&&(this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].msElem&&this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d));this.firstFrame&&(this.firstFrame=!1)}},IShapeElement.prototype.renderPath=function(a,b){var c,d,e,f,g,h,i,j,k=b.elements.length,l=b.lvl;for(j=0;k>j;j+=1){h=b.sh.mdf||this.firstFrame,g="";var m=b.sh.paths;if(f=m.length,b.elements[j].st.lvl<l){var n,o,p=this.mHelper.reset(),q=b.elements[j].st.lvl;for(o=l-1;o>=q;o-=1)h=b.elements[j].st.transformers[o-q].mProps.mdf||h,n=b.elements[j].st.transformers[o-q].mProps.v.props,p.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);if(h){for(e=0;f>e;e+=1)if(i=m[e],i&&i.v){for(c=i.v.length,d=1;c>d;d+=1)1==d&&(g+=" M"+p.applyToPointStringified(i.v[0][0],i.v[0][1])),g+=" C"+p.applyToPointStringified(i.o[d-1][0],i.o[d-1][1])+" "+p.applyToPointStringified(i.i[d][0],i.i[d][1])+" "+p.applyToPointStringified(i.v[d][0],i.v[d][1]);1==c&&(g+=" M"+p.applyToPointStringified(i.v[0][0],i.v[0][1])),i.c&&(g+=" C"+p.applyToPointStringified(i.o[d-1][0],i.o[d-1][1])+" "+p.applyToPointStringified(i.i[0][0],i.i[0][1])+" "+p.applyToPointStringified(i.v[0][0],i.v[0][1]),g+="z")}b.caches[j]=g}else g=b.caches[j]}else if(h){for(e=0;f>e;e+=1)if(i=m[e],i&&i.v){for(c=i.v.length,d=1;c>d;d+=1)1==d&&(g+=" M"+i.v[0].join(",")),g+=" C"+i.o[d-1].join(",")+" "+i.i[d].join(",")+" "+i.v[d].join(",");1==c&&(g+=" M"+i.v[0].join(",")),i.c&&(g+=" C"+i.o[d-1].join(",")+" "+i.i[0].join(",")+" "+i.v[0].join(","),g+="z")}b.caches[j]=g}else g=b.caches[j];b.elements[j].st.d+=g,b.elements[j].st.mdf=h||b.elements[j].st.mdf}},IShapeElement.prototype.renderFill=function(a,b){var c=b.style;(b.c.mdf||this.firstFrame)&&c.pElem.setAttribute("fill","rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||this.firstFrame)&&c.pElem.setAttribute("fill-opacity",b.o.v)},IShapeElement.prototype.renderGradient=function(a,b){var c=b.gf,d=b.of,e=b.s.v,f=b.e.v;if(b.o.mdf||this.firstFrame){var g="gf"===a.ty?"fill-opacity":"stroke-opacity";b.elem.setAttribute(g,b.o.v)}if(b.s.mdf||this.firstFrame){var h=1===a.t?"x1":"cx",i="x1"===h?"y1":"cy";c.setAttribute(h,e[0]),c.setAttribute(i,e[1]),d&&(d.setAttribute(h,e[0]),d.setAttribute(i,e[1]))}var j,k,l,m;if(b.g.cmdf||this.firstFrame){j=b.cst;var n=b.g.c;for(l=j.length,k=0;l>k;k+=1)m=j[k],m.setAttribute("offset",n[4*k]+"%"),m.setAttribute("stop-color","rgb("+n[4*k+1]+","+n[4*k+2]+","+n[4*k+3]+")")}if(d&&(b.g.omdf||this.firstFrame)){j=b.ost;var o=b.g.o;for(l=j.length,k=0;l>k;k+=1)m=j[k],m.setAttribute("offset",o[2*k]+"%"),m.setAttribute("stop-opacity",o[2*k+1])}if(1===a.t)(b.e.mdf||this.firstFrame)&&(c.setAttribute("x2",f[0]),c.setAttribute("y2",f[1]),d&&(d.setAttribute("x2",f[0]),d.setAttribute("y2",f[1])));else{var p;if((b.s.mdf||b.e.mdf||this.firstFrame)&&(p=Math.sqrt(Math.pow(e[0]-f[0],2)+Math.pow(e[1]-f[1],2)),c.setAttribute("r",p),d&&d.setAttribute("r",p)),b.e.mdf||b.h.mdf||b.a.mdf||this.firstFrame){p||(p=Math.sqrt(Math.pow(e[0]-f[0],2)+Math.pow(e[1]-f[1],2)));var q=Math.atan2(f[1]-e[1],f[0]-e[0]),r=b.h.v>=1?.99:b.h.v<=-1?-.99:b.h.v,s=p*r,t=Math.cos(q+b.a.v)*s+e[0],u=Math.sin(q+b.a.v)*s+e[1];c.setAttribute("fx",t),c.setAttribute("fy",u),d&&(d.setAttribute("fx",t),d.setAttribute("fy",u))}}},IShapeElement.prototype.renderStroke=function(a,b){var c=b.style,d=b.d;d&&d.k&&(d.mdf||this.firstFrame)&&(c.pElem.setAttribute("stroke-dasharray",d.dasharray),c.pElem.setAttribute("stroke-dashoffset",d.dashoffset)),b.c&&(b.c.mdf||this.firstFrame)&&c.pElem.setAttribute("stroke","rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||this.firstFrame)&&c.pElem.setAttribute("stroke-opacity",b.o.v),(b.w.mdf||this.firstFrame)&&(c.pElem.setAttribute("stroke-width",b.w.v),c.msElem&&c.msElem.setAttribute("stroke-width",b.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(),this.shapeData=null,this.viewData=null,this.parentContainer=null,this.placeholder=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var a=document.createElementNS(svgNS,"rect");a.setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.layerElement.appendChild(a),this.innerElem=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.data.cl&&this.innerElem.setAttribute("class",this.data.cl)},ISolidElement.prototype.hide=IImageElement.prototype.hide,ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy;var animationManager=function(){function a(a){for(var b=0,c=a.target;y>b;)w[b].animation===c&&(w.splice(b,1),b-=1,y-=1,d()),b+=1}function b(a,b){if(!a)return null;for(var c=0;y>c;){if(w[c].elem==a&&null!==w[c].elem)return w[c].animation;c+=1}var d=new AnimationItem;return d.setData(a,b),e(d,a),d}function c(){A+=1,u()}function d(){A-=1,0===A&&(z=!0)}function e(b,e){b.addEventListener("destroy",a),b.addEventListener("_active",c),b.addEventListener("_idle",d),w.push({elem:e,animation:b}),y+=1}function f(a){var b=new AnimationItem;return e(b,null),b.setParams(a),b}function g(a,b){var c;for(c=0;y>c;c+=1)w[c].animation.setSpeed(a,b)}function h(a,b){var c;for(c=0;y>c;c+=1)w[c].animation.setDirection(a,b)}function i(a){var b;for(b=0;y>b;b+=1)w[b].animation.play(a)}function j(a,b){x=Date.now();var c;for(c=0;y>c;c+=1)w[c].animation.moveFrame(a,b)}function k(a){var b,c=a-x;for(b=0;y>b;b+=1)w[b].animation.advanceTime(c);x=a,z||requestAnimationFrame(k)}function l(a){x=a,requestAnimationFrame(k)}function m(a){var b;for(b=0;y>b;b+=1)w[b].animation.pause(a)}function n(a,b,c){var d;for(d=0;y>d;d+=1)w[d].animation.goToAndStop(a,b,c)}function o(a){var b;for(b=0;y>b;b+=1)w[b].animation.stop(a)}function p(a){var b;for(b=0;y>b;b+=1)w[b].animation.togglePause(a)}function q(a){var b;for(b=0;y>b;b+=1)w[b].animation.destroy(a)}function r(a,c,d){var e,f=document.getElementsByClassName("bodymovin"),g=f.length;for(e=0;g>e;e+=1)d&&f[e].setAttribute("data-bm-type",d),b(f[e],a);if(c&&0===g){d||(d="svg");var h=document.getElementsByTagName("body")[0];h.innerHTML="";var i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.setAttribute("data-bm-type",d),h.appendChild(i),b(i,a)}}function s(){var a;for(a=0;y>a;a+=1)w[a].animation.resize()}function t(){requestAnimationFrame(l)}function u(){z&&(z=!1,Performance&&Performance.now?l(Performance.now):requestAnimationFrame(l))}var v={},w=[],x=0,y=0,z=!0,A=0;return setTimeout(t,0),v.registerAnimation=b,v.loadAnimation=f,v.setSpeed=g,v.setDirection=h,v.play=i,v.moveFrame=j,v.pause=m,v.stop=o,v.togglePause=p,v.searchAnimations=r,v.resize=s,v.start=t,v.goToAndStop=n,v.destroy=q,v}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this.projectInterface=ProjectInterface()};AnimationItem.prototype.setParams=function(a){var b=this;a.context&&(this.context=a.context),(a.wrapper||a.container)&&(this.wrapper=a.wrapper||a.container);var c=a.animType?a.animType:a.renderer?a.renderer:"svg";switch(c){case"canvas":this.renderer=new CanvasRenderer(this,a.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,a.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,a.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=c,""===a.loop||null===a.loop||(this.loop=a.loop!==!1&&(a.loop===!0||parseInt(a.loop))),this.autoplay=!("autoplay"in a)||a.autoplay,this.name=a.name?a.name:"",this.prerenderFramesFlag=!("prerender"in a)||a.prerender,this.autoloadSegments=!a.hasOwnProperty("autoloadSegments")||a.autoloadSegments,a.animationData)b.configAnimation(a.animationData);else if(a.path){"json"!=a.path.substr(-4)&&("/"!=a.path.substr(-1,1)&&(a.path+="/"),a.path+="data.json");var d=new XMLHttpRequest;this.path=-1!=a.path.lastIndexOf("\\")?a.path.substr(0,a.path.lastIndexOf("\\")+1):a.path.substr(0,a.path.lastIndexOf("/")+1),this.assetsPath=a.assetsPath,this.fileName=a.path.substr(a.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),d.open("GET",a.path,!0),d.send(),d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status)b.configAnimation(JSON.parse(d.responseText));else try{var a=JSON.parse(d.responseText);b.configAnimation(a)}catch(a){}}}},AnimationItem.prototype.setData=function(a,b){var c={wrapper:a,animationData:b?"object"==typeof b?b:JSON.parse(b):null},d=a.attributes;c.path=d.getNamedItem("data-animation-path")?d.getNamedItem("data-animation-path").value:d.getNamedItem("data-bm-path")?d.getNamedItem("data-bm-path").value:d.getNamedItem("bm-path")?d.getNamedItem("bm-path").value:"",c.animType=d.getNamedItem("data-anim-type")?d.getNamedItem("data-anim-type").value:d.getNamedItem("data-bm-type")?d.getNamedItem("data-bm-type").value:d.getNamedItem("bm-type")?d.getNamedItem("bm-type").value:d.getNamedItem("data-bm-renderer")?d.getNamedItem("data-bm-renderer").value:d.getNamedItem("bm-renderer")?d.getNamedItem("bm-renderer").value:"canvas";var e=d.getNamedItem("data-anim-loop")?d.getNamedItem("data-anim-loop").value:d.getNamedItem("data-bm-loop")?d.getNamedItem("data-bm-loop").value:d.getNamedItem("bm-loop")?d.getNamedItem("bm-loop").value:"";""===e||(c.loop="false"!==e&&("true"===e||parseInt(e)));var f=d.getNamedItem("data-anim-autoplay")?d.getNamedItem("data-anim-autoplay").value:d.getNamedItem("data-bm-autoplay")?d.getNamedItem("data-bm-autoplay").value:!d.getNamedItem("bm-autoplay")||d.getNamedItem("bm-autoplay").value;c.autoplay="false"!==f,c.name=d.getNamedItem("data-name")?d.getNamedItem("data-name").value:d.getNamedItem("data-bm-name")?d.getNamedItem("data-bm-name").value:d.getNamedItem("bm-name")?d.getNamedItem("bm-name").value:"";var g=d.getNamedItem("data-anim-prerender")?d.getNamedItem("data-anim-prerender").value:d.getNamedItem("data-bm-prerender")?d.getNamedItem("data-bm-prerender").value:d.getNamedItem("bm-prerender")?d.getNamedItem("bm-prerender").value:"";"false"===g&&(c.prerender=!1),this.setParams(c)},AnimationItem.prototype.includeLayers=function(a){a.op>this.animationData.op&&(this.animationData.op=a.op,this.totalFrames=Math.floor(a.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var b,c,d=this.animationData.layers,e=d.length,f=a.layers,g=f.length;for(c=0;g>c;c+=1)for(b=0;e>b;){if(d[b].id==f[c].id){d[b]=f[c];break}b+=1}if((a.chars||a.fonts)&&(this.renderer.globalData.fontManager.addChars(a.chars),this.renderer.globalData.fontManager.addFonts(a.fonts,this.renderer.globalData.defs)),a.assets)for(e=a.assets.length,b=0;e>b;b+=1)this.animationData.assets.push(a.assets[b]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(a.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var a=this.animationData.segments;if(!a||0===a.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var b=a.shift();this.timeCompleted=b.time*this.frameRate;var c=new XMLHttpRequest,d=this,e=this.path+this.fileName+"_"+this.segmentPos+".json";
this.segmentPos+=1,c.open("GET",e,!0),c.send(),c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status)d.includeLayers(JSON.parse(c.responseText));else try{var a=JSON.parse(c.responseText);d.includeLayers(a)}catch(a){}}},AnimationItem.prototype.loadSegments=function(){var a=this.animationData.segments;a||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(a){this.renderer&&this.renderer.destroyed||(this.animationData=a,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(a),a.assets||(a.assets=[]),a.comps&&(a.assets=a.assets.concat(a.comps),a.comps=null),this.renderer.searchExtraCompositions(a.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(a.assets),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){function a(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(a.bind(this),20)}return function(){a.bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(a){this.subframeEnabled=!!a},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){this.isLoaded!==!1&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(a){a&&this.name!=a||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_active"))},AnimationItem.prototype.pause=function(a){a&&this.name!=a||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(a){a&&this.name!=a||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(a){a&&this.name!=a||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(a,b,c){c&&this.name!=c||(this.setCurrentRawFrameValue(b?a:a*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(a,b,c){this.goToAndStop(a,b,c),this.play()},AnimationItem.prototype.advanceTime=function(a){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play())):void(this.isPaused!==!0&&this.isLoaded!==!1&&this.setCurrentRawFrameValue(this.currentRawFrame+a*this.frameModifier))},AnimationItem.prototype.updateAnimation=function(a){this.setCurrentRawFrameValue(this.totalFrames*a)},AnimationItem.prototype.moveFrame=function(a,b){b&&this.name!=b||this.setCurrentRawFrameValue(this.currentRawFrame+a)},AnimationItem.prototype.adjustSegment=function(a){this.playCount=0,a[1]<a[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=a[0]-a[1],this.firstFrame=a[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):a[1]>a[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=a[1]-a[0],this.firstFrame=a[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(a,b){var c=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<a?c=a:this.currentRawFrame+this.firstFrame>b&&(c=b-a-.01)),this.firstFrame=a,this.totalFrames=b-a,-1!==c&&this.goToAndStop(c,!0)},AnimationItem.prototype.playSegments=function(a,b){if("object"==typeof a[0]){var c,d=a.length;for(c=0;d>c;c+=1)this.segments.push(a[c])}else this.segments.push(a);b&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(a){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),a&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(a){a&&this.name!=a||this.renderer.destroy()},AnimationItem.prototype.destroy=function(a){a&&this.name!=a||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(a){if(this.currentRawFrame=a,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),this.loop===!1)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,this.loop!==!0&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),this.loop===!1||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(a){this.playSpeed=a,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(a){this.playDirection=0>a?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(a){var b="";if(this.assetsPath){var c=a.p;-1!==c.indexOf("images/")&&(c=c.split("/")[1]),b=this.assetsPath+c}else b=this.path,b+=a.u?a.u:"",b+=a.p;return b},AnimationItem.prototype.getAssetData=function(a){for(var b=0,c=this.assets.length;c>b;){if(a==this.assets[b].id)return this.assets[b];b+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(a){if(this._cbs[a])switch(a){case"enterFrame":this.triggerEvent(a,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(a,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(a,new BMCompleteEvent(a,this.frameMult));break;case"segmentStart":this.triggerEvent(a,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(a,new BMDestroyEvent(a,this));break;default:this.triggerEvent(a)}"enterFrame"===a&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===a&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult)),"complete"===a&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(a,this.frameMult)),"segmentStart"===a&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames)),"destroy"===a&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(a,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(a){return new CVBaseElement(a,this,this.globalData)},CanvasRenderer.prototype.createShape=function(a){return new CVShapeElement(a,this,this.globalData)},CanvasRenderer.prototype.createText=function(a){return new CVTextElement(a,this,this.globalData)},CanvasRenderer.prototype.createImage=function(a){return new CVImageElement(a,this,this.globalData)},CanvasRenderer.prototype.createComp=function(a){return new CVCompElement(a,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(a){return new CVSolidElement(a,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(a){if(1!==a[0]||0!==a[1]||0!==a[4]||1!==a[5]||0!==a[12]||0!==a[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(a[0],a[1],a[4],a[5],a[12],a[13]);this.transformMat.cloneFromProps(a),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var b=this.contextData.cTr.props;this.canvasContext.setTransform(b[0],b[1],b[4],b[5],b[12],b[13])}},CanvasRenderer.prototype.ctxOpacity=function(a){if(1!==a){if(!this.renderConfig.clearCanvas)return void(this.canvasContext.globalAlpha*=0>a?0:a);this.contextData.cO*=0>a?0:a,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),void(this.contextData.cO=1)):void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(a){if(!this.renderConfig.clearCanvas)return void this.canvasContext.save();a&&this.canvasContext.save();var b=this.contextData.cTr.props;(null===this.contextData.saved[this.contextData.cArrPos]||void 0===this.contextData.saved[this.contextData.cArrPos])&&(this.contextData.saved[this.contextData.cArrPos]=new Array(16));var c,d=this.contextData.saved[this.contextData.cArrPos];for(c=0;16>c;c+=1)d[c]=b[c];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(a){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();a&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var b,c=this.contextData.saved[this.contextData.cArrPos],d=this.contextData.cTr.props;for(b=0;16>b;b+=1)d[b]=c[b];this.canvasContext.setTransform(c[0],c[1],c[4],c[5],c[12],c[13]),c=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=c,this.canvasContext.globalAlpha=c},CanvasRenderer.prototype.configAnimation=function(a){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d")):this.canvasContext=this.renderConfig.context,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(a.tf),this.globalData.compWidth=a.w,this.globalData.compHeight=a.h,this.globalData.frameRate=a.fr,this.globalData.frameId=0,this.globalData.compSize={w:a.w,h:a.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=a.layers,this.transformCanvas={},this.transformCanvas.w=a.w,this.transformCanvas.h=a.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:a.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var a,b;this.animationItem.wrapper&&this.animationItem.container?(a=this.animationItem.wrapper.offsetWidth,b=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",a*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",b*this.renderConfig.dpr)):(a=this.canvasContext.canvas.width*this.renderConfig.dpr,b=this.canvasContext.canvas.height*this.renderConfig.dpr);var c,d;if(-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var e=this.renderConfig.preserveAspectRatio.split(" "),f=e[1]||"meet",g=e[0]||"xMidYMid",h=g.substr(0,4),i=g.substr(4);c=a/b,d=this.transformCanvas.w/this.transformCanvas.h,d>c&&"meet"===f||c>d&&"slice"===f?(this.transformCanvas.sx=a/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===h&&(c>d&&"meet"===f||d>c&&"slice"===f)?(a-this.transformCanvas.w*(b/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===h&&(c>d&&"meet"===f||d>c&&"slice"===f)?(a-this.transformCanvas.w*(b/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===i&&(d>c&&"meet"===f||c>d&&"slice"===f)?(b-this.transformCanvas.h*(a/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===i&&(d>c&&"meet"===f||c>d&&"slice"===f)?(b-this.transformCanvas.h*(a/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=a/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var j,k=this.elements.length;for(j=0;k>j;j+=1)this.elements[j]&&0===this.elements[j].data.ty&&this.elements[j].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var a,b=this.layers?this.layers.length:0;for(a=b-1;a>=0;a-=1)this.elements[a].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(a){if(!(this.renderedFrame==a&&this.renderConfig.clearCanvas===!0||this.destroyed||null===a)){this.renderedFrame=a,this.globalData.frameNum=a-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a,this.renderConfig.clearCanvas===!0?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var b,c=this.layers.length;for(this.completeLayers||this.checkLayers(a),b=0;c>b;b++)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);for(b=c-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame();this.renderConfig.clearCanvas!==!0?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(a){var b=this.elements;if(!b[a]&&99!=this.layers[a].ty){var c=this.createItem(this.layers[a],this,this.globalData);b[a]=c,c.initExpressions(),0===this.layers[a].ty&&c.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();a.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(a){var b,c=a.length;for(document.createElementNS(svgNS,"g"),b=0;c>b;b+=1)if(a[b].xt){var d=this.createComp(a[b],this.globalData.comp,this.globalData);d.initExpressions(),this.globalData.projectInterface.registerComposition(d)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();a.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(a,b){var c=a.getBaseElement();if(c){var d=this.layers[b];if(d.ddd&&this.supports3d)this.addTo3dContainer(c,b);else{for(var e,f=0;b>f;)this.elements[f]&&this.elements[f]!==!0&&this.elements[f].getBaseElement()&&(e=this.elements[f].getBaseElement()),f+=1;e?d.ddd&&this.supports3d||this.layerElement.insertBefore(c,e):d.ddd&&this.supports3d||this.layerElement.appendChild(c)}}},HybridRenderer.prototype.createBase=function(a){return new SVGBaseElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(a){return this.supports3d?new HShapeElement(a,this.layerElement,this.globalData,this):new IShapeElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(a){return this.supports3d?new HTextElement(a,this.layerElement,this.globalData,this):new SVGTextElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(a){return this.camera=new HCameraElement(a,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(a){return this.supports3d?new HImageElement(a,this.layerElement,this.globalData,this):new IImageElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.layerElement,this.globalData,this):new ICompElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(a){return this.supports3d?new HSolidElement(a,this.layerElement,this.globalData,this):new ISolidElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainer=function(a){var b=document.createElement("div");styleDiv(b),b.style.width=this.globalData.compSize.w+"px",b.style.height=this.globalData.compSize.h+"px",b.style.transformOrigin=b.style.mozTransformOrigin=b.style.webkitTransformOrigin="50% 50%";var c=document.createElement("div");styleDiv(c),c.style.transform=c.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",b.appendChild(c),this.resizerElem.appendChild(b);var d={container:c,perspectiveElem:b,startPos:a,endPos:a};return this.threeDElements.push(d),d},HybridRenderer.prototype.build3dContainers=function(){var a,b,c=this.layers.length;for(a=0;c>a;a+=1)this.layers[a].ddd?(b||(b=this.getThreeDContainer(a)),b.endPos=Math.max(b.endPos,a)):b=null},HybridRenderer.prototype.addTo3dContainer=function(a,b){for(var c=0,d=this.threeDElements.length;d>c;){if(b<=this.threeDElements[c].endPos){for(var e,f=this.threeDElements[c].startPos;b>f;)this.elements[f]&&this.elements[f].getBaseElement()&&(e=this.elements[f].getBaseElement()),f+=1;e?this.threeDElements[c].container.insertBefore(a,e):this.threeDElements[c].container.appendChild(a);break}c+=1}},HybridRenderer.prototype.configAnimation=function(a){var b=document.createElement("div"),c=this.animationItem.wrapper;b.style.width=a.w+"px",b.style.height=a.h+"px",this.resizerElem=b,styleDiv(b),b.style.transformStyle=b.style.webkitTransformStyle=b.style.mozTransformStyle="flat",c.appendChild(b),b.style.overflow="hidden";var d=document.createElementNS(svgNS,"svg");d.setAttribute("width","1"),d.setAttribute("height","1"),styleDiv(d),this.resizerElem.appendChild(d);var e=document.createElementNS(svgNS,"defs");d.appendChild(e),this.globalData.defs=e,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:a.w,h:a.h},this.globalData.frameRate=a.fr,this.layers=a.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,d),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;b>a;a++)this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var a,b,c,d,e=this.animationItem.wrapper.offsetWidth,f=this.animationItem.wrapper.offsetHeight,g=e/f,h=this.globalData.compSize.w/this.globalData.compSize.h;h>g?(a=e/this.globalData.compSize.w,b=e/this.globalData.compSize.w,c=0,d=(f-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(a=f/this.globalData.compSize.h,b=f/this.globalData.compSize.h,c=(e-this.globalData.compSize.w*(f/this.globalData.compSize.h))/2,d=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+a+",0,0,0,0,"+b+",0,0,0,0,1,0,"+c+","+d+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var a,b=this.globalData.compSize.w,c=this.globalData.compSize.h,d=this.threeDElements.length;for(a=0;d>a;a+=1)this.threeDElements[a].perspectiveElem.style.perspective=this.threeDElements[a].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(b,2)+Math.pow(c,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(a){var b,c=a.length,d=document.createElement("div");for(b=0;c>b;b+=1)if(a[b].xt){var e=this.createComp(a[b],d,this.globalData.comp,null);e.initExpressions(),this.globalData.projectInterface.registerComposition(e)}},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(a){if(a.blendMode!==this.data.bm){a.blendMode=this.data.bm;var b="";switch(this.data.bm){case 0:b="normal";break;case 1:b="multiply";break;case 2:b="screen";break;case 3:b="overlay";break;case 4:b="darken";break;case 5:b="lighten";break;case 6:b="color-dodge";break;case 7:b="color-burn";break;case 8:b="hard-light";break;case 9:b="soft-light";break;case 10:b="difference";break;case 11:b="exclusion";break;case 12:b="hue";break;case 13:b="saturation";break;case 14:b="color";break;case 15:b="luminosity"}a.canvasContext.globalCompositeOperation=b}},CVBaseElement.prototype.renderFrame=function(a){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var b,c=this.finalTransform.mat;if(this.hierarchy){var d,e=this.hierarchy.length;for(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b),d=0;e>d;d+=1)this.finalTransform.matMdf=!!this.hierarchy[d].finalTransform.mProp.mdf||this.finalTransform.matMdf,b=this.hierarchy[d].finalTransform.mProp.v.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])}else a?(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b)):c.cloneFromProps(this.finalTransform.mProp.v.props);return a&&(b=a.mat.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.finalTransform.opacity*=a.opacity,this.finalTransform.opMdf=!!a.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!a.matMdf||this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:c)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(a){this.maskManager=new CVMaskElement(a,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(a){var b=Math.max(a.sx,a.sy);this.canvas.width=this.data.w*b,this.canvas.height=this.data.h*b,this.transformCanvas={sc:b,w:this.data.w*b,h:this.data.h*b,props:[b,0,0,0,0,b,0,0,0,0,1,0,0,0,0,1]};var c,d=this.elements.length;for(c=0;d>c;c+=1)this.elements[c]&&0===this.elements[c].data.ty&&this.elements[c].resize(a)},CVCompElement.prototype.prepareFrame=function(a){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,a),this.isVisible!==!1||this.data.xt){var b=a;this.tm&&(b=this.tm.v,b===this.data.op&&(b=this.data.op-1)),this.renderedFrame=b/this.data.sr;var c,d=this.elements.length;for(this.completeLayers||this.checkLayers(a),c=0;d>c;c+=1)(this.completeLayers||this.elements[c])&&(this.elements[c].prepareFrame(b/this.data.sr-this.layers[c].st),0===this.elements[c].data.ty&&this.elements[c].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(a){if(this._parent.renderFrame.call(this,a)!==!1){if(this.globalData.mdf){var b,c=this.layers.length;for(b=c-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()}this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(a){this.elements=a},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var a,b=this.layers.length;for(a=b-1;a>=0;a-=1)this.elements[a].destroy();this.layers=null,this.elements=null,this._parent.destroy.call()},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var a=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var a=document.createElement("canvas");a.width=this.assetData.w,a.height=this.assetData.h;var b,c,d=a.getContext("2d"),e=this.img.width,f=this.img.height,g=e/f,h=this.assetData.w/this.assetData.h;g>h?(c=f,b=c*h):(b=e,c=b/h),d.drawImage(this.img,(e-b)/2,(f-c)/2,b,c,0,0,this.assetData.w,this.assetData.h),this.img=a}}.bind(this),b=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",a,!1),this.img.addEventListener("error",b,!1);var c=this.globalData.getAssetsPath(this.assetData);this.img.src=c,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(a){if(!this.failed&&this._parent.renderFrame.call(this,a)!==!1){var b=this.canvasContext;this.globalData.renderer.save();var c=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(c),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),b.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call()},CVMaskElement.prototype.getMaskProperty=function(a){return this.viewData[a]},CVMaskElement.prototype.prepareFrame=function(a){var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a),this.dynamicProperties[b].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(a){var b,c,d,e,f,g=this.element.canvasContext,h=this.data.masksProperties.length,i=!1;for(b=0;h>b;b++)if("n"!==this.masksProperties[b].mode){i===!1&&(g.beginPath(),i=!0),this.masksProperties[b].inv&&(g.moveTo(0,0),
g.lineTo(this.element.globalData.compWidth,0),g.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),g.lineTo(0,this.element.globalData.compHeight),g.lineTo(0,0)),f=this.viewData[b].v,c=a?a.applyToPointArray(f.v[0][0],f.v[0][1],0):f.v[0],g.moveTo(c[0],c[1]);var j,k=f.v.length;for(j=1;k>j;j++)c=a?a.applyToPointArray(f.o[j-1][0],f.o[j-1][1],0):f.o[j-1],d=a?a.applyToPointArray(f.i[j][0],f.i[j][1],0):f.i[j],e=a?a.applyToPointArray(f.v[j][0],f.v[j][1],0):f.v[j],g.bezierCurveTo(c[0],c[1],d[0],d[1],e[0],e[1]);c=a?a.applyToPointArray(f.o[j-1][0],f.o[j-1][1],0):f.o[j-1],d=a?a.applyToPointArray(f.i[0][0],f.i[0][1],0):f.i[0],e=a?a.applyToPointArray(f.v[0][0],f.v[0][1],0):f.v[0],g.bezierCurveTo(c[0],c[1],d[0],d[1],e[0],e[1])}i&&g.clip()},CVMaskElement.prototype.getMask=function(a){for(var b=0,c=this.masksProperties.length;c>b;){if(this.masksProperties[b].nm===a)return{maskPath:this.viewData[b].pv};b+=1}},CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},CVShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.viewData,this.dynamicProperties)},CVShapeElement.prototype.searchShapes=function(a,b,c){var d,e,f,g,h=a.length-1,i=[],j=[];for(d=h;d>=0;d-=1)if("fl"==a[d].ty||"st"==a[d].ty){if(g={type:a[d].ty,elements:[]},b[d]={},("fl"==a[d].ty||"st"==a[d].ty)&&(b[d].c=PropertyFactory.getProp(this,a[d].c,1,255,c),b[d].c.k||(g.co="rgb("+bm_floor(b[d].c.v[0])+","+bm_floor(b[d].c.v[1])+","+bm_floor(b[d].c.v[2])+")")),b[d].o=PropertyFactory.getProp(this,a[d].o,0,.01,c),"st"==a[d].ty&&(g.lc=this.lcEnum[a[d].lc]||"round",g.lj=this.ljEnum[a[d].lj]||"round",1==a[d].lj&&(g.ml=a[d].ml),b[d].w=PropertyFactory.getProp(this,a[d].w,0,null,c),b[d].w.k||(g.wi=b[d].w.v),a[d].d)){var k=PropertyFactory.getDashProp(this,a[d].d,"canvas",c);b[d].d=k,b[d].d.k||(g.da=b[d].d.dasharray,g.do=b[d].d.dashoffset)}this.stylesList.push(g),b[d].style=g,i.push(b[d].style)}else if("gr"==a[d].ty)b[d]={it:[]},this.searchShapes(a[d].it,b[d].it,c);else if("tr"==a[d].ty)b[d]={transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,a[d].o,0,.01,c),mProps:PropertyFactory.getProp(this,a[d],2,null,c)},elements:[]};else if("sh"==a[d].ty||"rc"==a[d].ty||"el"==a[d].ty||"sr"==a[d].ty){b[d]={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]};var l=4;"rc"==a[d].ty?l=5:"el"==a[d].ty?l=6:"sr"==a[d].ty&&(l=7),b[d].sh=ShapePropertyFactory.getShapeProp(this,a[d],l,c),this.shapes.push(b[d].sh),this.addShapeToModifiers(b[d].sh),f=this.stylesList.length;var m=!1,n=!1;for(e=0;f>e;e+=1)this.stylesList[e].closed||(this.stylesList[e].elements.push(b[d]),"st"===this.stylesList[e].type?m=!0:n=!0);b[d].st=m,b[d].fl=n}else if("tm"==a[d].ty||"rd"==a[d].ty){var o=ShapeModifiers.getModifier(a[d].ty);o.init(this,a[d],c),this.shapeModifiers.push(o),j.push(o),b[d]=o}for(h=i.length,d=0;h>d;d+=1)i[d].closed=!0;for(h=j.length,d=0;h>d;d+=1)j[d].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.renderFrame=function(a){this._parent.renderFrame.call(this,a)!==!1&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(a,b,c,d){var e,f;if(!b)for(b=this.shapesData,f=this.stylesList.length,e=0;f>e;e+=1)this.stylesList[e].d="",this.stylesList[e].mdf=!1;c||(c=this.viewData),f=b.length-1;var g,h;for(g=a,e=f;e>=0;e-=1)if("tr"==b[e].ty){g=c[e].transform;var i=c[e].transform.mProps.v.props;if(g.matMdf=g.mProps.mdf,g.opMdf=g.op.mdf,h=g.mat,h.cloneFromProps(i),a){var j=a.mat.props;g.opacity=a.opacity,g.opacity*=c[e].transform.op.v,g.matMdf=!!a.matMdf||g.matMdf,g.opMdf=!!a.opMdf||g.opMdf,h.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15])}else g.opacity=g.op.o}else"sh"==b[e].ty||"el"==b[e].ty||"rc"==b[e].ty||"sr"==b[e].ty?this.renderPath(b[e],c[e],g):"fl"==b[e].ty?this.renderFill(b[e],c[e],g):"st"==b[e].ty?this.renderStroke(b[e],c[e],g):"gr"==b[e].ty?this.renderShape(g,b[e].it,c[e].it):"tm"==b[e].ty;if(d){f=this.stylesList.length;var k,l,m,n,o,p,q,r=this.globalData.renderer,s=this.globalData.canvasContext;for(r.save(),r.ctxTransform(this.finalTransform.mat.props),e=0;f>e;e+=1)if(q=this.stylesList[e].type,"st"!==q||0!==this.stylesList[e].wi){for(r.save(),o=this.stylesList[e].elements,"st"===q?(s.strokeStyle=this.stylesList[e].co,s.lineWidth=this.stylesList[e].wi,s.lineCap=this.stylesList[e].lc,s.lineJoin=this.stylesList[e].lj,s.miterLimit=this.stylesList[e].ml||0):s.fillStyle=this.stylesList[e].co,r.ctxOpacity(this.stylesList[e].coOp),"st"!==q&&s.beginPath(),l=o.length,k=0;l>k;k+=1){for("st"===q&&(s.beginPath(),this.stylesList[e].da?(s.setLineDash(this.stylesList[e].da),s.lineDashOffset=this.stylesList[e].do,this.globalData.isDashed=!0):this.globalData.isDashed&&(s.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),p=o[k].trNodes,n=p.length,m=0;n>m;m+=1)"m"==p[m].t?s.moveTo(p[m].p[0],p[m].p[1]):"c"==p[m].t?s.bezierCurveTo(p[m].p1[0],p[m].p1[1],p[m].p2[0],p[m].p2[1],p[m].p3[0],p[m].p3[1]):s.closePath();"st"===q&&s.stroke()}"st"!==q&&s.fill(),r.restore()}r.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(a,b,c){var d,e,f,g,h=c.matMdf||b.sh.mdf||this.firstFrame;if(h){var i=b.sh.paths;g=i.length;var j=b.trNodes;for(j.length=0,f=0;g>f;f+=1){var k=i[f];if(k&&k.v){for(d=k.v.length,e=1;d>e;e+=1)1==e&&j.push({t:"m",p:c.mat.applyToPointArray(k.v[0][0],k.v[0][1],0)}),j.push({t:"c",p1:c.mat.applyToPointArray(k.o[e-1][0],k.o[e-1][1],0),p2:c.mat.applyToPointArray(k.i[e][0],k.i[e][1],0),p3:c.mat.applyToPointArray(k.v[e][0],k.v[e][1],0)});1==d&&j.push({t:"m",p:c.mat.applyToPointArray(k.v[0][0],k.v[0][1],0)}),k.c&&(j.push({t:"c",p1:c.mat.applyToPointArray(k.o[e-1][0],k.o[e-1][1],0),p2:c.mat.applyToPointArray(k.i[0][0],k.i[0][1],0),p3:c.mat.applyToPointArray(k.v[0][0],k.v[0][1],0)}),j.push({t:"z"})),b.lStr=j}}if(b.st)for(e=0;16>e;e+=1)b.tr[e]=c.mat.props[e];b.trNodes=j}},CVShapeElement.prototype.renderFill=function(a,b,c){var d=b.style;(b.c.mdf||this.firstFrame)&&(d.co="rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||c.opMdf||this.firstFrame)&&(d.coOp=b.o.v*c.opacity)},CVShapeElement.prototype.renderStroke=function(a,b,c){var d=b.style,e=b.d;e&&(e.mdf||this.firstFrame)&&(d.da=e.dasharray,d.do=e.dashoffset),(b.c.mdf||this.firstFrame)&&(d.co="rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||c.opMdf||this.firstFrame)&&(d.coOp=b.o.v*c.opacity),(b.w.mdf||this.firstFrame)&&(d.wi=b.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.viewData.length=0,this._parent.destroy.call()},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(a){if(this._parent.renderFrame.call(this,a)!==!1){var b=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),b.fillStyle=this.data.sc,b.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),CVTextElement.prototype.init=ITextElement.prototype.init,CVTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,CVTextElement.prototype.getMult=ITextElement.prototype.getMult,CVTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var a=this.currentTextDocumentData;this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0});var b=!1;a.fc?(b=!0,this.values.fill="rgb("+Math.round(255*a.fc[0])+","+Math.round(255*a.fc[1])+","+Math.round(255*a.fc[2])+")"):this.values.fill="rgba(0,0,0,0)",this.fill=b;var c=!1;a.sc&&(c=!0,this.values.stroke="rgb("+Math.round(255*a.sc[0])+","+Math.round(255*a.sc[1])+","+Math.round(255*a.sc[2])+")",this.values.sWidth=a.sw);var d,e,f=this.globalData.fontManager.getFontByName(a.f),g=a.l,h=this.mHelper;this.stroke=c,this.values.fValue=a.s+"px "+this.globalData.fontManager.getFontByName(a.f).fFamily,e=a.t.length,this.tHelper.font=this.values.fValue;var i,j,k,l,m,n,o,p,q,r,s=this.data.singleShape;if(s)var t=0,u=0,v=a.lineWidths,w=a.boxWidth,x=!0;var y=0;for(d=0;e>d;d+=1){i=this.globalData.fontManager.getCharData(a.t.charAt(d),f.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily);var j;if(j=i?i.data:null,h.reset(),s&&g[d].n&&(t=0,u+=a.yOffset,u+=x?1:0,x=!1),j&&j.shapes){if(m=j.shapes[0].it,o=m.length,h.scale(a.s/100,a.s/100),s){switch(a.ps&&h.translate(a.ps[0],a.ps[1]+a.ascent,0),a.j){case 1:h.translate(a.justifyOffset+(w-v[g[d].line]),0,0);break;case 2:h.translate(a.justifyOffset+(w-v[g[d].line])/2,0,0)}h.translate(t,u,0)}for(q=new Array(o),n=0;o>n;n+=1){for(l=m[n].ks.k.i.length,p=m[n].ks.k,r=[],k=1;l>k;k+=1)1==k&&r.push(h.applyToX(p.v[0][0],p.v[0][1],0),h.applyToY(p.v[0][0],p.v[0][1],0)),r.push(h.applyToX(p.o[k-1][0],p.o[k-1][1],0),h.applyToY(p.o[k-1][0],p.o[k-1][1],0),h.applyToX(p.i[k][0],p.i[k][1],0),h.applyToY(p.i[k][0],p.i[k][1],0),h.applyToX(p.v[k][0],p.v[k][1],0),h.applyToY(p.v[k][0],p.v[k][1],0));r.push(h.applyToX(p.o[k-1][0],p.o[k-1][1],0),h.applyToY(p.o[k-1][0],p.o[k-1][1],0),h.applyToX(p.i[0][0],p.i[0][1],0),h.applyToY(p.i[0][0],p.i[0][1],0),h.applyToX(p.v[0][0],p.v[0][1],0),h.applyToY(p.v[0][0],p.v[0][1],0)),q[n]=r}}else q=[];s&&(t+=g[d].l),this.textSpans[y]?this.textSpans[y].elem=q:this.textSpans[y]={elem:q},y+=1}},CVTextElement.prototype.renderFrame=function(a){if(this._parent.renderFrame.call(this,a)!==!1){var b=this.canvasContext,c=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(c),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),b.font=this.values.fValue,b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,this.data.singleShape||this.getMeasures();var d,e,f,g,h,i,j=this.renderedLetters,k=this.currentTextDocumentData.l;e=k.length;var l,m,n,o=null,p=null,q=null;for(d=0;e>d;d+=1)if(!k[d].n){if(l=j[d],l&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(l.props),this.globalData.renderer.ctxOpacity(l.o)),this.fill){for(l&&l.fc?o!==l.fc&&(o=l.fc,b.fillStyle=l.fc):o!==this.values.fill&&(o=this.values.fill,b.fillStyle=this.values.fill),m=this.textSpans[d].elem,g=m.length,this.globalData.canvasContext.beginPath(),f=0;g>f;f+=1)for(n=m[f],i=n.length,this.globalData.canvasContext.moveTo(n[0],n[1]),h=2;i>h;h+=6)this.globalData.canvasContext.bezierCurveTo(n[h],n[h+1],n[h+2],n[h+3],n[h+4],n[h+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(l&&l.sw?q!==l.sw&&(q=l.sw,b.lineWidth=l.sw):q!==this.values.sWidth&&(q=this.values.sWidth,b.lineWidth=this.values.sWidth),l&&l.sc?p!==l.sc&&(p=l.sc,b.strokeStyle=l.sc):p!==this.values.stroke&&(p=this.values.stroke,b.strokeStyle=this.values.stroke),m=this.textSpans[d].elem,g=m.length,this.globalData.canvasContext.beginPath(),f=0;g>f;f+=1)for(n=m[f],i=n.length,this.globalData.canvasContext.moveTo(n[0],n[1]),h=2;i>h;h+=6)this.globalData.canvasContext.bezierCurveTo(n[h],n[h+1],n[h+2],n[h+3],n[h+4],n[h+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}l&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(a){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var b,c=this.finalTransform.mat;if(this.hierarchy){var d,e=this.hierarchy.length;for(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b),d=0;e>d;d+=1)this.finalTransform.matMdf=!!this.hierarchy[d].finalTransform.mProp.mdf||this.finalTransform.matMdf,b=this.hierarchy[d].finalTransform.mProp.v.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])}else this.isVisible&&this.finalTransform.matMdf&&(a?(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b)):c.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(c),a&&(b=a.mat.props,c.cloneFromProps(b),this.finalTransform.opacity*=a.opacity,this.finalTransform.opMdf=!!a.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!a.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.layerElement.style.transform=this.layerElement.style.webkitTransform=c.toCSS(),this.finalMat=c),this.finalTransform.opMdf&&(this.layerElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(a){this.maskManager=new MaskElement(a,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var a=document.createElement("div");styleDiv(a);var b=document.createElementNS(svgNS,"svg");b.setAttribute("width",this.data.sw),b.setAttribute("height",this.data.sh),a.appendChild(b),this.layerElement=a,this.baseElement=a,this.innerElem=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var c=document.createElementNS(svgNS,"rect");c.setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),b.appendChild(c),this.data.hasMask&&(this.maskedElement=c),this.checkParenting()},HSolidElement.prototype.hide=IImageElement.prototype.hide,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var a=document.createElement("div");if(styleDiv(a),this.data.ln&&a.setAttribute("id",this.data.ln),a.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var b=document.createElementNS(svgNS,"svg");b.setAttribute("width",this.data.w),b.setAttribute("height",this.data.h);var c=document.createElementNS(svgNS,"g");b.appendChild(c),a.appendChild(b),this.maskedElement=c,this.baseElement=a,this.layerElement=c}else this.layerElement=a,this.baseElement=this.layerElement;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(a){var b,c=this._parent.renderFrame.call(this,a),d=this.layers.length;if(c===!1)return void this.hide();for(this.hidden=!1,b=0;d>b;b+=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame();this.firstFrame&&(this.firstFrame=!1)},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype.createElements=function(){var a=document.createElement("div");styleDiv(a);var b=document.createElementNS(svgNS,"svg"),c=this.comp.data?this.comp.data:this.globalData.compSize;if(b.setAttribute("width",c.w),b.setAttribute("height",c.h),this.data.hasMask){var d=document.createElementNS(svgNS,"g");a.appendChild(b),b.appendChild(d),this.maskedElement=d,this.layerElement=d,this.shapesContainer=d}else a.appendChild(b),this.layerElement=b,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=a),this.innerElem=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties,0),this.buildExpressionInterface(),this.layerElement=a,this.shapeCont=b,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);if(b===!1)return void this.hide();if(this.hidden=!1,this.renderModifiers(),this.addedTransforms.mdf=this.finalTransform.matMdf,this.addedTransforms.mats.length=1,this.addedTransforms.mats[0]=this.finalTransform.mat,this.renderShape(null,null,!0,null),this.isVisible&&(this.elemMdf||this.firstFrame)){var c=this.shapeCont.getBBox(),d=!1;this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.shapeCont.setAttribute("width",c.width),d=!0),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.shapeCont.setAttribute("height",c.height),d=!0),(d||this.currentBBox.x!==c.x||this.currentBBox.y!==c.y)&&(this.currentBBox.w=c.width,this.currentBBox.h=c.height,this.currentBBox.x=c.x,this.currentBBox.y=c.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),HTextElement.prototype.init=ITextElement.prototype.init,HTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,HTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,HTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var a=document.createElement("div");if(styleDiv(a),this.layerElement=a,this.isMasked){this.renderType="svg";var b=document.createElementNS(svgNS,"svg");this.cont=b,this.compW=this.comp.data?this.comp.data.w:this.globalData.compSize.w,this.compH=this.comp.data?this.comp.data.h:this.globalData.compSize.h,b.setAttribute("width",this.compW),b.setAttribute("height",this.compH);var c=document.createElementNS(svgNS,"g");b.appendChild(c),a.appendChild(b),this.maskedElement=c,this.innerElem=c}else this.renderType="html",this.innerElem=a;this.baseElement=a},HTextElement.prototype.buildNewText=function(){var a=this.currentTextDocumentData;this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),this.innerElem.style.color=this.innerElem.style.fill=a.fc?"rgb("+Math.round(255*a.fc[0])+","+Math.round(255*a.fc[1])+","+Math.round(255*a.fc[2])+")":"rgba(0,0,0,0)",a.sc&&(this.innerElem.style.stroke="rgb("+Math.round(255*a.sc[0])+","+Math.round(255*a.sc[1])+","+Math.round(255*a.sc[2])+")",this.innerElem.style.strokeWidth=a.sw+"px");var b=this.globalData.fontManager.getFontByName(a.f);if(!this.globalData.fontManager.chars)if(this.innerElem.style.fontSize=a.s+"px",this.innerElem.style.lineHeight=a.s+"px",b.fClass)this.innerElem.className=b.fClass;else{this.innerElem.style.fontFamily=b.fFamily;var c=a.fWeight,d=a.fStyle;this.innerElem.style.fontStyle=d,this.innerElem.style.fontWeight=c}var e,f,g=a.l;f=g.length;var h,i,j,k,l=this.mHelper,m="",n=0;for(e=0;f>e;e+=1){if(this.globalData.fontManager.chars?(this.textPaths[n]?h=this.textPaths[n]:(h=document.createElementNS(svgNS,"path"),h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[n]?(i=this.textSpans[n],j=i.children()[0]):(i=document.createElement("div"),j=document.createElementNS(svgNS,"svg"),j.appendChild(h),styleDiv(i)))):this.isMasked?h=this.textPaths[n]?this.textPaths[n]:document.createElementNS(svgNS,"text"):this.textSpans[n]?(i=this.textSpans[n],h=this.textPaths[n]):(i=document.createElement("span"),styleDiv(i),h=document.createElement("span"),styleDiv(h),i.appendChild(h)),this.globalData.fontManager.chars){var o,p=this.globalData.fontManager.getCharData(a.t.charAt(e),b.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily);if(o=p?p.data:null,l.reset(),o&&o.shapes&&(k=o.shapes[0].it,l.scale(a.s/100,a.s/100),m=this.createPathShape(l,k),h.setAttribute("d",m)),this.isMasked)this.innerElem.appendChild(h);else if(this.innerElem.appendChild(i),o&&o.shapes){document.body.appendChild(j);var q=j.getBBox();j.setAttribute("width",q.width),j.setAttribute("height",q.height),j.setAttribute("viewBox",q.x+" "+q.y+" "+q.width+" "+q.height),j.style.transform=j.style.webkitTransform="translate("+q.x+"px,"+q.y+"px)",g[e].yOffset=q.y,i.appendChild(j)}else j.setAttribute("width",1),j.setAttribute("height",1)}else h.textContent=g[e].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(h):(this.innerElem.appendChild(i),h.style.transform=h.style.webkitTransform="translate3d(0,"+-a.s/1.2+"px,0)");this.textSpans[n]=this.isMasked?h:i,this.textPaths[n]=h,n+=1}for(;n<this.textSpans.length;)this.textSpans[n].style.display="none",n+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);if(b===!1)return void this.hide();if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.getMeasures(),this.lettersChangedFlag){var c,d,e=this.renderedLetters,f=this.currentTextDocumentData.l;d=f.length;var g;for(c=0;d>c;c+=1)f[c].n||(g=e[c],this.isMasked?this.textSpans[c].setAttribute("transform",g.m):this.textSpans[c].style.transform=this.textSpans[c].style.webkitTransform=g.m,this.textSpans[c].style.opacity=g.o,g.sw&&this.textPaths[c].setAttribute("stroke-width",g.sw),g.sc&&this.textPaths[c].setAttribute("stroke",g.sc),g.fc&&(this.textPaths[c].setAttribute("fill",g.fc),this.textPaths[c].style.color=g.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var h=this.innerElem.getBBox();this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.cont.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.cont.setAttribute("height",h.height)),(this.currentBBox.w!==h.width||this.currentBBox.h!==h.height||this.currentBBox.x!==h.x||this.currentBBox.y!==h.y)&&(this.currentBBox.w=h.width,this.currentBBox.h=h.height,this.currentBBox.x=h.x,this.currentBBox.y=h.y,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}},HTextElement.prototype.destroy=SVGTextElement.prototype.destroy,createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var a=this.globalData.getAssetsPath(this.assetData),b=new Image;if(this.data.hasMask){var c=document.createElement("div");styleDiv(c);var d=document.createElementNS(svgNS,"svg");d.setAttribute("width",this.assetData.w),d.setAttribute("height",this.assetData.h),c.appendChild(d),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),d.appendChild(this.imageElem),this.layerElement=c,this.baseElement=c,this.innerElem=c,this.maskedElement=this.imageElem}else styleDiv(b),this.layerElement=b,this.baseElement=b,this.innerElem=b;b.src=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var a,b,c=this.comp.threeDElements.length;for(a=0;c>a;a+=1)b=this.comp.threeDElements[a],b.perspectiveElem.style.perspective=b.perspectiveElem.style.webkitPerspective=this.pe.v+"px",b.container.style.transformOrigin=b.container.style.mozTransformOrigin=b.container.style.webkitTransformOrigin="0px 0px 0px",b.perspectiveElem.style.transform=b.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var a,b,c=this.firstFrame;if(this.hierarchy)for(b=this.hierarchy.length,a=0;b>a;a+=1)c=!!this.hierarchy[a].finalTransform.mProp.mdf||c;if(c||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var d=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],e=Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2)+Math.pow(d[2],2)),f=[d[0]/e,d[1]/e,d[2]/e],g=Math.sqrt(f[2]*f[2]+f[0]*f[0]),h=Math.atan2(f[1],g),i=Math.atan2(f[0],-f[2]);this.mat.rotateY(i).rotateX(-h)}if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy){var j;for(b=this.hierarchy.length,a=0;b>a;a+=1)j=this.hierarchy[a].finalTransform.mProp.iv.props,this.mat.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],-j[12],-j[13],j[14],j[15])}b=this.comp.threeDElements.length;var k;for(a=0;b>a;a+=1)k=this.comp.threeDElements[a],k.container.style.transform=k.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var Expressions=function(){function a(a){a.renderer.compInterface=CompExpressionInterface(a.renderer),a.renderer.globalData.projectInterface.registerComposition(a.renderer)}var b={};return b.initExpressions=a,b}();expressionsPlugin=Expressions,function(){function a(){return this.pv}function b(a,b){var c,d,e=0,f=this.keyframes.length-1,g=1,h=!0;b=void 0===b?this.offsetTime:0;for(var i="object"==typeof this.pv?[this.pv.length]:0;h;){if(c=this.keyframes[e],d=this.keyframes[e+1],e==f-1&&a>=d.t-b){c.h&&(c=d);break}if(d.t-b>a)break;f-1>e?e+=g:h=!1}var j,k,l,m,n,o=0;if(c.to){c.bezierData||bez.buildBezierData(c);var p=c.bezierData;if(a>=d.t-b||a<c.t-b){var q=a>=d.t-b?p.points.length-1:0;for(k=p.points[q].point.length,j=0;k>j;j+=1)i[j]=p.points[q].point[j]}else{c.__fnct?n=c.__fnct:(n=BezierFactory.getBezierEasing(c.o.x,c.o.y,c.i.x,c.i.y,c.n).get,c.__fnct=n),l=n((a-(c.t-b))/(d.t-b-(c.t-b)));var r,s=p.segmentLength*l,t=0;for(g=1,h=!0,m=p.points.length;h;){if(t+=p.points[o].partialLength*g,0===s||0===l||o==p.points.length-1){for(k=p.points[o].point.length,j=0;k>j;j+=1)i[j]=p.points[o].point[j];break}if(s>=t&&s<t+p.points[o+1].partialLength){for(r=(s-t)/p.points[o+1].partialLength,k=p.points[o].point.length,j=0;k>j;j+=1)i[j]=p.points[o].point[j]+(p.points[o+1].point[j]-p.points[o].point[j])*r;break}m-1>o&&1==g||o>0&&-1==g?o+=g:h=!1}}}else{var u,v,w,x,y,z=!1;for(f=c.s.length,e=0;f>e;e+=1){if(1!==c.h&&(c.o.x instanceof Array?(z=!0,c.__fnct||(c.__fnct=[]),c.__fnct[e]||(u=c.o.x[e]||c.o.x[0],v=c.o.y[e]||c.o.y[0],w=c.i.x[e]||c.i.x[0],x=c.i.y[e]||c.i.y[0])):(z=!1,c.__fnct||(u=c.o.x,v=c.o.y,w=c.i.x,x=c.i.y)),z?c.__fnct[e]?n=c.__fnct[e]:(n=BezierFactory.getBezierEasing(u,v,w,x).get,c.__fnct[e]=n):c.__fnct?n=c.__fnct:(n=BezierFactory.getBezierEasing(u,v,w,x).get,c.__fnct=n),l=a>=d.t-b?1:a<c.t-b?0:n((a-(c.t-b))/(d.t-b-(c.t-b)))),this.sh&&1!==c.h){var A=c.s[e],B=c.e[e];-180>A-B?A+=360:A-B>180&&(A-=360),y=A+(B-A)*l}else y=1===c.h?c.s[e]:c.s[e]+(c.e[e]-c.s[e])*l;1===f?i=y:i[e]=y}}return i}function c(a){if(void 0!==this.vel)return this.vel;var b=-.01;a*=this.elem.globalData.frameRate;var c,d=this.getValueAtTime(a,0),e=this.getValueAtTime(a+b,0);if(d.length){c=Array.apply(null,{length:d.length});var f;for(f=0;f<d.length;f+=1)c[f]=this.elem.globalData.frameRate*((e[f]-d[f])/b)}else c=(e-d)/b;return c}function d(a){this.propertyGroup=a}function e(a,b,c){b.x&&(c.k=!0,c.x=!0,c.getValue&&(c.getPreValue=c.getValue),c.getValue=ExpressionManager.initiateExpression.bind(c)(a,b,c));
}var f=function(){function f(a,b){return this.textIndex=a+1,this.textTotal=b,this.getValue(),this.v}return function(g,h){this.pv=1,this.comp=g.comp,this.elem=g,this.mult=.01,this.type="textSelector",this.textTotal=h.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],e.bind(this)(g,h,this),this.getMult=f,this.getVelocityAtTime=c,this.getValueAtTime=this.kf?b:a,this.setGroupProperty=d}}(),g=PropertyFactory.getProp;PropertyFactory.getProp=function(f,h,i,j,k){var l=g(f,h,i,j,k);l.getVelocityAtTime=c,l.getValueAtTime=l.kf?b:a,l.setGroupProperty=d;var m=l.k;return void 0!==h.ix&&Object.defineProperty(l,"propertyIndex",{get:function(){return h.ix}}),e(f,h,l),!m&&l.x&&k.push(l),l};var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(a,b,c,f,g){var i=h(a,b,c,f,g);i.setGroupProperty=d;var j=i.k;return void 0!==b.ix&&Object.defineProperty(i,"propertyIndex",{get:function(){return b.ix}}),3===c?e(a,b.pt,i):4===c&&e(a,b.ks,i),!j&&i.x&&f.push(i),i};var i=PropertyFactory.getTextSelectorProp;PropertyFactory.getTextSelectorProp=function(a,b,c){return 1===b.t?new f(a,b,c):i(a,b,c)}}();var ExpressionManager=function(){function duplicatePropertyValue(a,b){if(b=b||1,"number"==typeof a)return a*b;if(a.i)return JSON.parse(JSON.stringify(a));var c,d=Array.apply(null,{length:a.length}),e=a.length;for(c=0;e>c;c+=1)d[c]=a[c]*b;return d}function $bm_neg(a){var b=typeof a;if("number"===b||"boolean"===b)return-a;if("object"===b){var c,d=a.length,e=[];for(c=0;d>c;c+=1)e[c]=-a[c];return e}}function sum(a,b){var c=typeof a,d=typeof b;if("string"===c||"string"===d)return a+b;if(!("number"!==c&&"boolean"!==c||"number"!==d&&"boolean"!==d))return a+b;if("object"===c&&("number"===d||"boolean"===d))return a[0]=a[0]+b,a;if(("number"===c||"boolean"===c)&&"object"===d)return b[0]=a+b[0],b;if("object"===c&&"object"===d){for(var e=0,f=a.length,g=b.length,h=[];f>e||g>e;)h[e]="number"==typeof a[e]&&"number"==typeof b[e]?a[e]+b[e]:void 0==b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function sub(a,b){var c=typeof a,d=typeof b;if(!("number"!==c&&"boolean"!==c||"number"!==d&&"boolean"!==d))return a-b;if("object"===c&&("number"===d||"boolean"===d))return a[0]=a[0]-b,a;if(("number"===c||"boolean"===c)&&"object"===d)return b[0]=a-b[0],b;if("object"===c&&"object"===d){for(var e=0,f=a.length,g=b.length,h=[];f>e||g>e;)h[e]="number"==typeof a[e]&&"number"==typeof b[e]?a[e]-b[e]:void 0==b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function mul(a,b){var c=typeof a,d=typeof b;if(!("number"!==c&&"boolean"!==c||"number"!==d&&"boolean"!==d))return a*b;var e,f;if("object"===c&&("number"===d||"boolean"===d)){for(f=a.length,arr=Array.apply(null,{length:f}),e=0;f>e;e+=1)arr[e]=a[e]*b;return arr}if(("number"===c||"boolean"===c)&&"object"===d){for(f=b.length,arr=Array.apply(null,{length:f}),e=0;f>e;e+=1)arr[e]=a*b[e];return arr}return 0}function div(a,b){var c=typeof a,d=typeof b;if(!("number"!==c&&"boolean"!==c||"number"!==d&&"boolean"!==d))return a/b;var e,f;if("object"===c&&("number"===d||"boolean"===d)){for(f=a.length,arr=Array.apply(null,{length:f}),e=0;f>e;e+=1)arr[e]=a[e]/b;return arr}if(("number"===c||"boolean"===c)&&"object"===d){for(f=b.length,arr=Array.apply(null,{length:f}),e=0;f>e;e+=1)arr[e]=a/b[e];return arr}return 0}function clamp(a,b,c){if(b>c){var d=c;c=b,b=d}return Math.min(Math.max(a,b),c)}function radiansToDegrees(a){return a/degToRads}function degreesToRadians(a){return a*degToRads}function length(a,b){b||(b=helperLengthArray);var c,d=Math.min(a.length,b.length),e=0;for(c=0;d>c;c+=1)e+=Math.pow(b[c]-a[c],2);return Math.sqrt(e)}function rgbToHsl(a){var b,c,d=a[0],e=a[1],f=a[2],g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g==h)b=c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+(f>e?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i,a[3]]}function hslToRgb(a){function b(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var c,d,e,f=a[0],g=a[1],h=a[2];if(0==g)c=d=e=h;else{var i=.5>h?h*(1+g):h+g-h*g,j=2*h-i;c=b(j,i,f+1/3),d=b(j,i,f),e=b(j,i,f-1/3)}return[c,d,e,a[3]]}function linear(a,b,c,d,e){if(void 0===d||void 0===e)return linear(a,0,1,b,c);if(b>=a)return d;if(a>=c)return e;var f=c===b?0:(a-b)/(c-b);if(!d.length)return d+(e-d)*f;var g,h=d.length,i=Array.apply(null,{length:h});for(g=0;h>g;g+=1)i[g]=d[g]+(e[g]-d[g])*f;return i}function seedRandom(a){BMMath.seedrandom(a)}function random(a,b){if(void 0===b&&(void 0===a?(a=0,b=1):(b=a,a=void 0)),b.length){var c,d=b.length;a||(a=Array.apply(null,{length:d}));var e=Array.apply(null,{length:d}),f=BMMath.random();for(c=0;d>c;c+=1)e[c]=a[c]+f*(b[c]-a[c]);return e}void 0===a&&(a=0);var g=BMMath.random();return a+g*(b-a)}function initiateExpression(elem,data,property){function lookAt(a,b){var c=[b[0]-a[0],b[1]-a[1],b[2]-a[2]],d=Math.atan2(c[0],Math.sqrt(c[1]*c[1]+c[2]*c[2]))/degToRads,e=-Math.atan2(c[1],c[2])/degToRads;return[e,d,0]}function easeOut(a,b,c){return-(c-b)*a*(a-2)+b}function nearestKey(a){var b,c,d,e=data.k.length;if(data.k.length&&"number"!=typeof data.k[0]){for(c=-1,a*=elem.comp.globalData.frameRate,b=0;e-1>b;b+=1){if(a===data.k[b].t){c=b+1,d=data.k[b].t;break}if(a>data.k[b].t&&a<data.k[b+1].t){a-data.k[b].t>data.k[b+1].t-a?(c=b+2,d=data.k[b+1].t):(c=b+1,d=data.k[b].t);break}}-1===c&&(c=b+1,d=data.k[b].t)}else c=0,d=0;var f={};return f.index=c,f.time=d/elem.comp.globalData.frameRate,f}function key(a){if(!data.k.length||"number"==typeof data.k[0])return{time:0};a-=1;var b,c={time:data.k[a].t/elem.comp.globalData.frameRate};b=a===data.k.length-1?data.k[a-1].e:data.k[a].s;var d,e=b.length;for(d=0;e>d;d+=1)c[d]=b[d];return c}function framesToTime(a,b){return b||(b=elem.comp.globalData.frameRate),a/b}function timeToFrames(a,b){return a||(a=time),b||(b=elem.comp.globalData.frameRate),a*b}function execute(){if(this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;"textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),transform||(transform=elem.transform),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[elem.hierarchy.length-1].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId;var a,b;if(this.mult)if("number"==typeof this.v)this.v*=this.mult;else for(b=this.v.length,value===this.v&&(this.v=2===b?[value[0],value[1]]:[value[0],value[1],value[2]]),a=0;b>a;a+=1)this.v[a]*=this.mult;if("number"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v.i)this.mdf=!0,this.paths.length=0,this.paths[0]=this.v;else for(b=this.v.length,a=0;b>a;a+=1)this.v[a]!==this.lastValue[a]&&(this.lastValue[a]=this.v[a],this.mdf=!0);this.lock=!1}}var val=data.x,needsVelocity=-1!==val.indexOf("velocity"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,thisLayer,thisComp,fnStr="var fn = function(){"+val+";this.v = $bm_rt;}";eval(fnStr);var bindedFn=fn.bind(this),numKeys=data.k?data.k.length:0,wiggle=function(a,b){var c,d,e=this.pv.length?this.pv.length:1,f=Array.apply(null,{len:e});for(d=0;e>d;d+=1)f[d]=0;a=5;var g=Math.floor(time*a);for(c=0,d=0;g>c;){for(d=0;e>d;d+=1)f[d]+=-b+2*b*BMMath.random();c+=1}var h=time*a,i=h-Math.floor(h),j=Array.apply({length:e});for(d=0;e>d;d+=1)j[d]=this.pv[d]+f[d]+(-b+2*b*BMMath.random())*i;return j}.bind(this),loopIn=function(a,b,c){if(!this.k)return this.pv;var d=time*elem.comp.globalData.frameRate,e=this.keyframes,f=e[0].t;if(d>=f)return this.pv;var g,h;c?(g=b?Math.abs(elem.comp.globalData.frameRate*b):Math.max(0,this.elem.data.op-f),h=f+g):((!b||b>e.length-1)&&(b=e.length-1),h=e[b].t,g=h-f);var i,j,k;if("pingpong"===a){var l=Math.floor((f-d)/g);if(l%2===0)return this.getValueAtTime((f-d)%g+f,0)}else{if("offset"===a){var m=this.getValueAtTime(f,0),n=this.getValueAtTime(h,0),o=this.getValueAtTime(g-(f-d)%g+f,0),p=Math.floor((f-d)/g)+1;if(this.pv.length){for(k=new Array(m.length),j=k.length,i=0;j>i;i+=1)k[i]=o[i]-(n[i]-m[i])*p;return k}return o-(n-m)*p}if("continue"===a){var q=this.getValueAtTime(f,0),r=this.getValueAtTime(f+.001,0);if(this.pv.length){for(k=new Array(q.length),j=k.length,i=0;j>i;i+=1)k[i]=q[i]+(q[i]-r[i])*(f-d)/5e-4;return k}return q+(q-r)*(f-d)/5e-4}}return this.getValueAtTime(g-(f-d)%g+f,0)}.bind(this),loopInDuration=function(a,b){return loopIn(a,b,!0)}.bind(this),loopOut=function(a,b,c){if(!this.k)return this.pv;var d=time*elem.comp.globalData.frameRate,e=this.keyframes,f=e[e.length-1].t;if(f>=d)return this.pv;var g,h;c?(g=b?Math.abs(f-elem.comp.globalData.frameRate*b):Math.max(0,f-this.elem.data.ip),h=f-g):((!b||b>e.length-1)&&(b=e.length-1),h=e[e.length-1-b].t,g=f-h);var i,j,k;if("pingpong"===a){var l=Math.floor((d-h)/g);if(l%2!==0)return this.getValueAtTime(g-(d-h)%g+h,0)}else{if("offset"===a){var m=this.getValueAtTime(h,0),n=this.getValueAtTime(f,0),o=this.getValueAtTime((d-h)%g+h,0),p=Math.floor((d-h)/g);if(this.pv.length){for(k=new Array(m.length),j=k.length,i=0;j>i;i+=1)k[i]=(n[i]-m[i])*p+o[i];return k}return(n-m)*p+o}if("continue"===a){var q=this.getValueAtTime(f,0),r=this.getValueAtTime(f-.001,0);if(this.pv.length){for(k=new Array(q.length),j=k.length,i=0;j>i;i+=1)k[i]=q[i]+(q[i]-r[i])*(d-f)/5e-4;return k}return q+(q-r)*(d-f)/5e-4}}return this.getValueAtTime((d-h)%g+h,0)}.bind(this),loop_out=loopOut,loopOutDuration=function(a,b){return loopOut(a,b,!0)}.bind(this),valueAtTime=function(a){return this.getValueAtTime(a*elem.comp.globalData.frameRate,0)}.bind(this),velocityAtTime=function(a){return this.getVelocityAtTime(a)}.bind(this),comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue,index=elem.data.ind+1,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent;return execute}var ob={},Math=BMMath,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){function a(a,b,c){return m(a,b,c)}function b(a,b,c){return o(a,b,c)}function c(a,b,c){return p(a,b,c)}function d(a,b,c){return q(a,b,c)}function e(a,b,c){return r(a,b,c)}function f(a,b,c){return s(a,b,c)}function g(a,b,c){return t(a,b,c)}function h(a,b,c){return u(a,b,c)}function i(a,b,c){return v(a,b,c)}function j(a,b,c){return w(a,b,c)}function k(a,b,c){var d,e=[],f=a?a.length:0;for(d=0;f>d;d+=1)"gr"==a[d].ty?e.push(ShapeExpressionInterface.createGroupInterface(a[d],b[d],c)):"fl"==a[d].ty?e.push(ShapeExpressionInterface.createFillInterface(a[d],b[d],c)):"st"==a[d].ty?e.push(ShapeExpressionInterface.createStrokeInterface(a[d],b[d],c)):"tm"==a[d].ty?e.push(ShapeExpressionInterface.createTrimInterface(a[d],b[d],c)):"tr"==a[d].ty||("el"==a[d].ty?e.push(ShapeExpressionInterface.createEllipseInterface(a[d],b[d],c)):"sr"==a[d].ty?e.push(ShapeExpressionInterface.createStarInterface(a[d],b[d],c)):"sh"==a[d].ty?e.push(ShapeExpressionInterface.createPathInterface(a[d],b[d],c)):"rc"==a[d].ty&&e.push(ShapeExpressionInterface.createRectInterface(a[d],b[d],c)));return e}var l={createShapeInterface:a,createGroupInterface:b,createTrimInterface:e,createStrokeInterface:d,createTransformInterface:f,createEllipseInterface:g,createStarInterface:h,createRectInterface:i,createPathInterface:j,createFillInterface:c},m=function(){return function(a,b,c){function d(a){if("number"==typeof a)return e[a-1];for(var b=0,c=e.length;c>b;){if(e[b]._name===a)return e[b];b+=1}}var e;return d.propertyGroup=c,e=k(a,b,d),d}}(),n=function(){return function(a,b,c){var d,e=function(a){if("number"==typeof a)return d[a-1];for(var b=0,c=d.length;c>b;){if(d[b]._name===a)return d[b];b+=1}};return e.propertyGroup=function(a){return 1===a?e:c(a-1)},d=k(a.it,b.it,e.propertyGroup),e}}(),o=function(){return function(a,b,c){var d=function(a){switch(a){case"ADBE Vectors Group":case 2:return d.content;case"ADBE Vector Transform Group":case 3:default:return d.transform}};d.propertyGroup=function(a){return 1===a?d:c(a-1)};var e=n(a,b,d.propertyGroup),f=ShapeExpressionInterface.createTransformInterface(a.it[a.it.length-1],b.it[b.it.length-1],d.propertyGroup);return d.content=e,d.transform=f,Object.defineProperty(d,"_name",{get:function(){return a.nm}}),d.nm=a.nm,d}}(),p=function(){return function(a,b,c){b.c.setGroupProperty(c),b.o.setGroupProperty(c);var d={get color(){return b.c.k&&b.c.getValue(),[b.c.v[0]/b.c.mult,b.c.v[1]/b.c.mult,b.c.v[2]/b.c.mult,1]},get opacity(){return b.o.k&&b.o.getValue(),b.o.v},_name:a.nm};return d}}(),q=function(){return function(a,b,c){function d(a){return 1===a?e:c(a-1)}b.c.setGroupProperty(d),b.o.setGroupProperty(d),b.w.setGroupProperty(d);var e={get color(){return b.c.k&&b.c.getValue(),[b.c.v[0]/b.c.mult,b.c.v[1]/b.c.mult,b.c.v[2]/b.c.mult,1]},get opacity(){return b.o.k&&b.o.getValue(),b.o.v},get strokeWidth(){return b.w.k&&b.w.getValue(),b.w.v},dashOb:{},get dash(){var d,e=b.d,f=a.d,g=f.length;for(d=0;g>d;d+=1)e.dataProps[d].p.k&&e.dataProps[d].p.getValue(),e.dataProps[d].p.setGroupProperty(c),this.dashOb[f[d].nm]=e.dataProps[d].p.v;return this.dashOb},_name:a.nm};return e}}(),r=function(){return function(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return b===a.e.ix?e.end:b===a.s.ix?e.start:b===a.o.ix?e.offset:void 0}return d.propertyIndex=a.ix,b.s.setGroupProperty(d),b.e.setGroupProperty(d),b.o.setGroupProperty(d),e.propertyIndex=a.ix,Object.defineProperty(e,"start",{get:function(){return b.s.k&&b.s.getValue(),b.s.v/b.s.mult}}),Object.defineProperty(e,"end",{get:function(){return b.e.k&&b.e.getValue(),b.e.v/b.e.mult}}),Object.defineProperty(e,"offset",{get:function(){return b.o.k&&b.o.getValue(),b.o.v}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e}}(),s=function(){return function(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.a.ix===b?e.anchorPoint:a.o.ix===b?e.opacity:a.p.ix===b?e.position:a.r.ix===b?e.rotation:a.s.ix===b?e.scale:a.sk&&a.sk.ix===b?e.skew:a.sa&&a.sa.ix===b?e.skewAxis:void 0}b.transform.mProps.o.setGroupProperty(d),b.transform.mProps.p.setGroupProperty(d),b.transform.mProps.a.setGroupProperty(d),b.transform.mProps.s.setGroupProperty(d),b.transform.mProps.r.setGroupProperty(d),b.transform.mProps.sk&&(b.transform.mProps.sk.setGroupProperty(d),b.transform.mProps.sa.setGroupProperty(d)),b.transform.op.setGroupProperty(d),Object.defineProperty(e,"opacity",{get:function(){return b.transform.mProps.o.k&&b.transform.mProps.o.getValue(),b.transform.mProps.o.v/b.transform.mProps.o.mult}}),Object.defineProperty(e,"position",{get:function(){return b.transform.mProps.p.k&&b.transform.mProps.p.getValue(),[b.transform.mProps.p.v[0],b.transform.mProps.p.v[1]]}}),Object.defineProperty(e,"anchorPoint",{get:function(){return b.transform.mProps.a.k&&b.transform.mProps.a.getValue(),[b.transform.mProps.a.v[0],b.transform.mProps.a.v[1]]}});var f=[];return Object.defineProperty(e,"scale",{get:function(){return b.transform.mProps.s.k&&b.transform.mProps.s.getValue(),f[0]=b.transform.mProps.s.v[0]/b.transform.mProps.s.mult,f[1]=b.transform.mProps.s.v[1]/b.transform.mProps.s.mult,f}}),Object.defineProperty(e,"rotation",{get:function(){return b.transform.mProps.r.k&&b.transform.mProps.r.getValue(),b.transform.mProps.r.v/b.transform.mProps.r.mult}}),Object.defineProperty(e,"skew",{get:function(){return b.transform.mProps.sk.k&&b.transform.mProps.sk.getValue(),b.transform.mProps.sk.v}}),Object.defineProperty(e,"skewAxis",{get:function(){return b.transform.mProps.sa.k&&b.transform.mProps.sa.getValue(),b.transform.mProps.sa.v}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e.ty="tr",e}}(),t=function(){return function(a,b,c){function d(a){return 1==a?d:c(--a)}function e(b){return a.p.ix===b?e.position:a.s.ix===b?e.size:void 0}d.propertyIndex=a.ix;var f="tm"===b.sh.ty?b.sh.prop:b.sh;return f.s.setGroupProperty(d),f.p.setGroupProperty(d),Object.defineProperty(e,"size",{get:function(){return f.s.k&&f.s.getValue(),[f.s.v[0],f.s.v[1]]}}),Object.defineProperty(e,"position",{get:function(){return f.p.k&&f.p.getValue(),[f.p.v[0],f.p.v[1]]}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e}}(),u=function(){return function(a,b,c){function d(a){return 1==a?d:c(--a)}function e(b){return a.p.ix===b?e.position:a.r.ix===b?e.rotation:a.pt.ix===b?e.points:a.or.ix===b||"ADBE Vector Star Outer Radius"===b?e.outerRadius:a.os.ix===b?e.outerRoundness:!a.ir||a.ir.ix!==b&&"ADBE Vector Star Inner Radius"!==b?a.is&&a.is.ix===b?e.innerRoundness:void 0:e.innerRadius}var f="tm"===b.sh.ty?b.sh.prop:b.sh;return d.propertyIndex=a.ix,f.or.setGroupProperty(d),f.os.setGroupProperty(d),f.pt.setGroupProperty(d),f.p.setGroupProperty(d),f.r.setGroupProperty(d),a.ir&&(f.ir.setGroupProperty(d),f.is.setGroupProperty(d)),Object.defineProperty(e,"position",{get:function(){return f.p.k&&f.p.getValue(),f.p.v}}),Object.defineProperty(e,"rotation",{get:function(){return f.r.k&&f.r.getValue(),f.r.v/f.r.mult}}),Object.defineProperty(e,"points",{get:function(){return f.pt.k&&f.pt.getValue(),f.pt.v}}),Object.defineProperty(e,"outerRadius",{get:function(){return f.or.k&&f.or.getValue(),f.or.v}}),Object.defineProperty(e,"outerRoundness",{get:function(){return f.os.k&&f.os.getValue(),f.os.v/f.os.mult}}),Object.defineProperty(e,"innerRadius",{get:function(){return f.ir?(f.ir.k&&f.ir.getValue(),f.ir.v):0}}),Object.defineProperty(e,"innerRoundness",{get:function(){return f.is?(f.is.k&&f.is.getValue(),f.is.v/f.is.mult):0}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e}}(),v=function(){return function(a,b,c){function d(a){return 1==a?d:c(--a)}function e(b){return a.p.ix===b?e.position:a.r.ix===b?e.rotation:a.pt.ix===b?e.points:a.or.ix===b||"ADBE Vector Star Outer Radius"===b?e.outerRadius:a.os.ix===b?e.outerRoundness:!a.ir||a.ir.ix!==b&&"ADBE Vector Star Inner Radius"!==b?a.is&&a.is.ix===b?e.innerRoundness:void 0:e.innerRadius}var f="tm"===b.sh.ty?b.sh.prop:b.sh;return d.propertyIndex=a.ix,f.p.setGroupProperty(d),f.s.setGroupProperty(d),f.r.setGroupProperty(d),Object.defineProperty(e,"position",{get:function(){return f.p.k&&f.p.getValue(),f.p.v}}),Object.defineProperty(e,"roundness",{get:function(){return f.r.k&&f.r.getValue(),f.r.v}}),Object.defineProperty(e,"size",{get:function(){return f.s.k&&f.s.getValue(),f.s.v}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e}}(),w=function(){return function(a,b,c){var d="tm"===b.sh.ty?b.sh.prop:b.sh;d.setGroupProperty(c);var e={get shape(){return d.k&&d.getValue(),d.v},get path(){return d.k&&d.getValue(),d.v},_name:a.nm};return e}}();return l}(),LayerExpressionInterface=function(){function a(a){var b=new Matrix;if(b.reset(),this._elem.finalTransform.mProp.applyToMatrix(b),this._elem.hierarchy&&this._elem.hierarchy.length){var c,d=this._elem.hierarchy.length;for(c=0;d>c;c+=1)this._elem.hierarchy[c].finalTransform.mProp.applyToMatrix(b);return b.applyToPointArray(a[0],a[1],a[2]||0)}return b.applyToPointArray(a[0],a[1],a[2]||0)}return function(b){function c(a){e.mask=a.getMask.bind(a)}function d(a){e.effect=a}function e(a){switch(a){case"ADBE Root Vectors Group":case 2:return e.shapeInterface;case"Transform":case"transform":case"ADBE Transform Group":return f;case 4:case"ADBE Effect Parade":return e.effect}}var f=TransformExpressionInterface(b.transform);return e.toWorld=a,e.toComp=a,e._elem=b,Object.defineProperty(e,"hasParent",{get:function(){return!!b.hierarchy}}),Object.defineProperty(e,"parent",{get:function(){return b.hierarchy[0].layerInterface}}),Object.defineProperty(e,"rotation",{get:function(){return f.rotation}}),Object.defineProperty(e,"scale",{get:function(){return f.scale}}),Object.defineProperty(e,"position",{get:function(){return f.position}}),Object.defineProperty(e,"anchorPoint",{get:function(){return f.anchorPoint}}),Object.defineProperty(e,"transform",{get:function(){return f}}),Object.defineProperty(e,"_name",{value:b.data.nm}),Object.defineProperty(e,"content",{get:function(){return e.shapeInterface}}),e.active=!0,e.registerMaskInterface=c,e.registerEffectsInterface=d,e}}(),CompExpressionInterface=function(){return function(a){function b(b){for(var c=0,d=a.layers.length;d>c;){if(a.layers[c].nm===b)return a.elements[c].layerInterface;c+=1}}return b.layer=b,b.pixelAspect=1,b.height=a.globalData.compSize.h,b.width=a.globalData.compSize.w,b.pixelAspect=1,b.frameDuration=1/a.globalData.frameRate,b}}(),TransformExpressionInterface=function(){return function(a){function b(c){switch(c){case"scale":case"Scale":case"ADBE Scale":return b.scale;case"rotation":case"Rotation":case"ADBE Rotation":return b.rotation;case"position":case"Position":case"ADBE Position":return a.position;case"anchorPoint":case"AnchorPoint":case"ADBE AnchorPoint":return b.anchorPoint;case"opacity":case"Opacity":return b.opacity}}return Object.defineProperty(b,"rotation",{get:function(){return a.rotation}}),Object.defineProperty(b,"scale",{get:function(){var b,c=a.scale,d=c.length,e=Array.apply(null,{length:d});for(b=0;d>b;b+=1)e[b]=100*c[b];return e}}),Object.defineProperty(b,"position",{get:function(){return a.position}}),Object.defineProperty(b,"anchorPoint",{get:function(){return a.anchorPoint}}),Object.defineProperty(b,"opacity",{get:function(){return 100*a.opacity}}),b}}(),ProjectInterface=function(){function a(a){this.compositions.push(a)}return function(){function b(a){for(var b=0,c=this.compositions.length;c>b;){if(this.compositions[b].data&&this.compositions[b].data.nm===a)return this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}}return b.compositions=[],b.currentFrame=0,b.registerComposition=a,b}}(),EffectsExpressionInterface=function(){function a(a,c){if(a.effects){var d,e=[],f=a.data.ef,g=a.effects.effectElements.length;for(d=0;g>d;d+=1)e.push(b(f[d],a.effects.effectElements[d],c));return function(b){for(var c=a.data.ef,d=0,f=c.length;f>d;){if(b===c[d].nm||b===c[d].mn||b===c[d].ix)return e[d];d+=1}}}}function b(a,d,e){var f,g=[],h=a.ef.length;for(f=0;h>f;f+=1)g.push(5===a.ef.ty?b(a.ef[f],d.effectElements[f],e):c(d.effectElements[f]));return function(b){for(var c=a.ef,d=0,e=c.length;e>d;){if(b===c[d].nm||b===c[d].mn||b===c[d].ix)return 5===c[d].ty?g[d]:g[d]();d+=1}return g[0]()}}function c(a){return function(){if(a.p.k&&a.p.getValue(),"number"==typeof a.p.v)return a.p.v;var b,c=a.p.v.length,d=Array.apply(null,{length:c});for(b=0;c>b;b+=1)d[b]=a.p.v[b];return d}}var d={createEffectsInterface:a};return d}();GroupEffect.prototype.getValue=function(){this.mdf=!1;var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.mdf=!!this.dynamicProperties[a].mdf||this.mdf},GroupEffect.prototype.init=function(a,b,c){this.data=a,this.mdf=!1,this.effectElements=[];var d,e,f=this.data.ef.length,g=this.data.ef;for(d=0;f>d;d+=1)switch(g[d].ty){case 0:e=new SliderEffect(g[d],b,c),this.effectElements.push(e);break;case 1:e=new AngleEffect(g[d],b,c),this.effectElements.push(e);break;case 2:e=new ColorEffect(g[d],b,c),this.effectElements.push(e);break;case 3:e=new PointEffect(g[d],b,c),this.effectElements.push(e);break;case 4:case 7:e=new CheckboxEffect(g[d],b,c),this.effectElements.push(e);break;case 5:e=new EffectsManager(g[d],b,c),this.effectElements.push(e);break;case 6:e=new NoValueEffect(g[d],b,c),this.effectElements.push(e)}};var bodymovinjs={};bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.4.23";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index],queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return bodymovinjs});